; -*- comment-column:45; -*-

                .section terminal
terminal: .block
                jmp LAF77                    ; Language entry point
                jmp L9D72                    ; Service entry point
                .byte $C2                    ; ROM type=SERV+LANG+6502
                .byte copyrightText-1-terminal ; (C) offset
                .byte $01
                .text "TERMINAL"
                .byte 0
copyrightText:
                .text "(C)1984 Acorn"
                .byte 0
                
; STARTUP
; =======
reset:                          ;8020
                lda #~ACCCON.D  ;display main RAM
                trb ACCCON      
                stz hazel.hasACCCONChanged
                trb $0366
                cld
                ldx #$FF
                txs              ;reset stack
                stx userVIA.ddra ;port A all outputs
                lda #%11001111
                sta systemVIA.ddrb ;
                ldy #$20                     ; 8037= A0 20
                ldx #$0A                     ; 8039= A2 0A       ".
                jsr L98E4                    ; 803B= 20 E4 98     d.
                jsr L9729                    ; 803E= 20 29 97     ).
                lda #ACCCON.Y|ACCCON.X       ; page in HAZEL+shadow
                tsb ACCCON
                lda systemVIA.ier
                asl a
                pha
                beq +       ; branch taken if power on
                lda $0258                    ; read BREAK action flags
                                             ; (set by *FX200)
                lsr a                        ; divide by 2 to get the
                                             ; break action
                dec a                        ; Z=1 if it was 1
                bne L8073                    ; branch taken if break
                                             ; action says don't clear
                                             ; RAM
+
                tay             ;Y=0
clearRAM:
                tya             ;A=0
                stz $01
                stz $00         ;start at $0000
-
                sta ($00),y     ;clear RAM
                iny
                bne -
                inc $01
                ldx #$40          ;$40=RTI
                stx nmiEntryPoint ;restore the RTI previously written,
                                  ;as each iteration will potentially
                                  ;overwrite it
                ldx $01
                cpx #$E0        ;hit the end of RAM?
                bcc -           ;branch taken if still more to go
                lda #ACCCON.X   ;page out shadow RAM
                trb ACCCON
                bne clearRAM    ;branch taken if shadow RAM bit
                             ;previously set - i.e., that was the
                             ;first iteration, and we need to go back
                             ;to do main RAM
L8073:
                lda #<mos.emptyCommandLine
                sta hazel.commandLinePointer+0
                lda #>mos.emptyCommandLine
                sta hazel.commandLinePointer+1
                lda #ACCCON.Y|ACCCON.X ; page in MOS ROM, page in main
                                       ; RAM
                trb ACCCON
                lda #$0F                     ; 8084= 8D 8E 02    ...
                sta $028E
-
                dec a                        ; 8088= 8D 40 FE    .@~
                sta systemVIA.orb
                cmp #$09                     ; 808D= B0 F8       0x
                bcs -
                ldx #key_ctrl
                jsr mos.interrogateKeyboard
                cpx #$80        ;Z=0 C=1 if CTRL+BREAK
                jsr mos.LF735
                stz $028D                    ; 8099= 9C 8D 02    ...
                ror a                        ; 809C= 6A          j
                ldx #$9C                     ; 809D= A2 9C       ".
                ldy #$8D                     ; 809F= A0 8D        .
                pla                          ; 80A1= 68          h
                beq L80AD                    ; 80A2= F0 09       p.
                ldy #$7E                     ; 80A4= A0 7E        ~
                bcc L80DF                    ; 80A6= 90 37       .7
                ldy #$87                     ; 80A8= A0 87        .
                inc $028D                    ; 80AA= EE 8D 02    n..
L80AD:
                inc $028D                    ; 80AD= EE 8D 02    n..
                phy                          ; 80B0= 5A          Z
                jsr L8E76                    ; Read configured MODE
L80B4:
                ora #$08                     ; Store in OSBYTE 255 with boot off (b3=1)
                sta $028F
L80B9:
                jsr L98AE                    ; Read configured BOOT
                and #$10
                lsr a                        ; Reset OSBYTE 255 boot bit (b3) if BOOT
                trb $028F
                jsr L8E5A                    ; 80C2= 20 5A 8E     Z.
                sty $0290                    ; 80C5= 8C 90 02    ...
                stx $0291                    ; 80C8= 8E 91 02    ...
L80CB:
                jsr L98AE                    ; 80CB= 20 AE 98     ..
                and #$08                     ; 80CE= 29 08       ).
                beq L80D4                    ; 80D0= F0 02       p.
                lda #$01                     ; 80D2= A9 01       ).
L80D4:
                sta $0366                    ; 80D4= 8D 66 03    .f.
                jsr L927B                    ; 80D7= 20 7B 92     {.
                ply                          ; 80DA= 7A          z
                ldx #$92                     ; 80DB= A2 92       ".
                bra L80F7                    ; 80DD= 80 18       ..

L80DF:
                lda #$87                     ; Clear MODE bits from OSBYTE 255
                trb $028F
                lda $0355                    ; Get current screen MODE b0-b2
                and #$07
                tsb $028F                    ; Copy to OSBYTE 255
                lda #$10                     ; Test shadow screen bit in VDU flags
                bit STATE                      ; Not shadow screen
                beq L80F7
                lda #$80                     ; Set shadow screen bit in OSBYTE 255
                tsb $028F
L80F7:
                lda $028D
                bne L8104
                cpx #$B1
                bcs L8104
                cpx #$A1
                bcs L810E
L8104:
                stz $0200,x                  ; 8104= 9E 00 02    ...
                cpx #$CD                     ; 8107= E0 CD       `M
                bcc L810E                    ; 8109= 90 03       ..
                dec $0200,x                  ; 810B= DE 00 02    ^..
L810E:
                inx                          ; 810E= E8          h
                bne L80F7                    ; 810F= D0 E6       Pf
                ldx #$CF                     ; 8111= A2 CF       "O
L8113:
                stz $00,x                    ; 8113= 74 00       t.
                inx                          ; 8115= E8          h
                bne L8113                    ; 8116= D0 FB       P{
                lda $028D                    ; 8118= AD 8D 02    -..
                bne L813D                    ; 811B= D0 20       P
                lda $0246                    ; 8120= 48          H
                pha
                lda $024B                    ; 8124= 48          H
                pha
                lda $0244                    ; 8128= 48          H
                pha
                lda $0257                    ; 812C= 48          H
                pha
                ldx $0256                    ; 812D= AE 56 02    .V.
L8130:
                lda mos.defaultVectorTable-1,y ; 8130= B9 D6 E2    9Vb
                sta vectors-1,y       ; 8133= 99 FF 01    ...
                dey                   ; 8136= 88          .
                cpy #EVENTV+1-vectors ; 8137= C0 21       @!
                bcs L8130             ; 8139= B0 F5       0u
                ldy #FILEV-vectors    ; 813B= A0 12        .
L813D:
                lda mos.defaultVectorTable-1,y ; 813D= B9 D6 E2    9Vb
                sta vectors-1,y   ; 8140= 99 FF 01    ...
                dey                          ; 8143= 88          .
                bne L813D                    ; 8144= D0 F7       Pw
                lda $028D                    ; 8146= AD 8D 02    -..
                bne L8164                    ; 8149= D0 19       P.
                stx $0256                    ; 814B= 8E 56 02    .V.
                pla                          ; 814E= 68          h
                cmp #$04                     ; 814F= C9 04       I.
                bcs L8155                    ; 8151= B0 02       0.
                lda #$00                     ; 8153= A9 00       ).
L8155:
                sta $0257                    ; 8155= 8D 57 02    .W.
                pla                          ; 8159= 8D 44 02    .D.
                sta $0244
                pla                          ; 815D= 8D 4B 02    .K.
                sta $024B
                pla                          ; 8161= 8D 46 02    .F.
                sta $0246
L8164:
                jsr L8EAD                    ; 8164= 20 AD 8E     -.
                ldx #$20                     ; 8167= A2 20       "
                asl a                        ; 8169= 0A          .
                asl a                        ; 816A= 0A          .
                bmi L8174                    ; 816B= 30 07       0.
                ldx #$30                     ; 816D= A2 30       "0
                asl a                        ; 816F= 0A          .
                bmi L8174                    ; 8170= 30 02       0.
                ldx #$A0                     ; 8172= A2 A0       "
L8174:
                stx $025A                    ; 8174= 8E 5A 02    .Z.
                jsr mos.selectTerminalROM    ; 8177= 20 90 E5     .e
                jsr mos.LF107                ; 817A= 20 07 F1     .q
                lda $028D                    ; 817D= AD 8D 02    -..
                beq L8196                    ; 8180= F0 14       p.
                jsr L8EA8                    ; 8182= 20 A8 8E     (.
                sta $0286                    ; 8185= 8D 86 02    ...
                jsr L98AA                    ; 8188= 20 AA 98     *.
                lsr a                        ; 818B= 4A          J
                lsr a                        ; 818C= 4A          J
                ror $0246                    ; 818D= 6E 46 02    nF.
                jsr L8E8D                    ; 8190= 20 8D 8E     ..
                sta $0285                    ; 8193= 8D 85 02    ...
L8196:
                jsr L8E97                    ; 8196= 20 97 8E     ..
                asl a                        ; 8199= 0A          .
                asl a                        ; 819A= 0A          .
                ora #$42                     ; 819B= 09 42       .B
                sta $0250                    ; 819D= 8D 50 02    .P.
                jsr LA9D6                    ; 81A0= 20 D6 A9     V)
                ldx #$01                     ; 81A3= A2 01       ".
                lda #$7F                     ; 81A5= A9 7F       ).
L81A7:
                sta systemVIA.ifr,x          ; 81A7= 9D 4D FE    .M~
                sta userVIA.ifr,x            ; 81AA= 9D 6D FE    .m~
                dex                          ; 81AD= CA          J
                bpl L81A7                    ; 81AE= 10 F7       .w
                cli                          ; 81B0= 58          X
                sei                          ; 81B1= 78          x
                bit $FC                      ; 81B2= 24 FC       $|
                bvc L81B9                    ; 81B4= 50 03       P.
                jsr mos.LF8CF                ; 81B6= 20 CF F8     Ox
L81B9:
                ldx #$D2
                stx systemVIA.ier
                ldx #$04
                stx systemVIA.pcr
                lda #$40
                sta systemVIA.acr
                lda #$0E
                sta systemVIA.t1lL
                sta userVIA.pcr
                sta HADC+0
                lda #$27
                sta systemVIA.t1lH
                sta systemVIA.t1cH
                ldx #$08
L81DD:
                dex                          ; 81DD= CA          J
                jsr mos.LF55D                ; 81DE= 20 5D F5     ]u
                cpx #$04                     ; 81E1= E0 04       `.
                bne L81DD                    ; 81E3= D0 F8       Px
                jsr mos.osbyte7A             ;
                stx $ED                      ; 81E8= 86 ED       .m
                ldx #$00                     ; 81EA= A2 00       ".
                jsr mos.LE97D                ; 81EC= 20 7D E9     }i
                lda serialRegisterULACopy                    ; 81EF= AD 82 02    -..
                and #$7F                     ; 81F2= 29 7F       ).
                jsr mos.LEC89                ; 81F4= 20 89 EC     .l
                jsr L8E84                    ; 81F7= 20 84 8E     ..
                pha                          ; 81FA= 48          H
                tax                          ; 81FB= AA          *
                jsr mos.osbyte08             ; 81FC= 20 6B EC     kl
                plx                          ; 81FF= FA          z
                lda #$07                     ; 8200= A9 07       ).
                jsr mos.osbyte07             ; 8202= 20 6D EC     ml
                jsr L98AE                    ; 8205= 20 AE 98     ..
                bit #$02                     ; 8208= 89 02       ..
                bne L8211                    ; 820A= D0 05       P.
                lda #$F0                     ; 820C= A9 F0       )p
                sta $0264                    ; 820E= 8D 64 02    .d.
L8211:
                jsr mos.selectTerminalROM    ; 8211= 20 90 E5     .e
                ldx $0284                    ; 8214= AE 84 02    ...
                beq L821C                    ; 8217= F0 03       p.
                jsr mos.osbyte12             ;
L821C:
                lda $028D                    ; 821C= AD 8D 02    -..
                beq L8224                    ; 821F= F0 03       p.
                jmp mos.LE3A0                ; 8221= 4C A0 E3    L c

L8224:
                lda $028F                    ; Select startup screen MODE
                jsr mos.LC799                ;
                lda $028D                    ; 822A= AD 8D 02    -..
                dec a                        ; 822D= 3A          :
                bne L8284                    ; 822E= D0 54       PT
                lda $ED                      ; 8230= A5 ED       %m
                cmp #$33                     ; 8232= C9 33       I3
                bne L8284                    ; 8234= D0 4E       PN
                ldx #$31                     ; 8236= A2 31       "1
L8238:
                phx                          ; 8238= DA          Z
                ldy #$00                     ; 8239= A0 00        .
                jsr L98DC                    ; 823B= 20 DC 98     \.
                plx                          ; 823E= FA          z
                dex                          ; 823F= CA          J
                bpl L8238                    ; 8240= 10 F6       .v
                ldy #$FF                     ; 8242= A0 FF        .
                ldx #$06                     ; 8244= A2 06       ".
                jsr L98DC                    ; 8246= 20 DC 98     \.
                ldx #$07                     ; 8249= A2 07       ".
                jsr L98DC                    ; 824B= 20 DC 98     \.
                jsr LA958                    ; 824E= 20 58 A9     X)
                .byte $0D
                .byte $0A
                .text "CMOS RAM reset"
                .byte $0D
                .byte $0A
                .text "Press break to continue"
                .byte $0D
                .byte $0A
                .byte $00
                lda #$03                     ; 827D= A9 03       ).
                sta $0258                    ; 827F= 8D 58 02    .X.
L8282:
                bra L8282                    ; 8282= 80 FE       .~

L8284:
                jsr mos.selectHAZEL          ; 8284= 20 BA ED     :m
                stz hazel.moveSrcHandle
                stz hazel.moveDestHandle
                ldy #$CA                     ; 828D= A0 CA        J
                jsr mos.LEA7E                ; 828F= 20 7E EA     ~j
                jsr mos.LF349                ; 8292= 20 49 F3     Is
                lda $028D                    ; 8295= AD 8D 02    -..
                beq L829D                    ; 8298= F0 03       p.
                jsr mos.LEDD0                ; 829A= 20 D0 ED     Pm
L829D:
                jsr L98AA                    ; 829D= 20 AA 98     *.
                lsr a                        ; 82A0= 4A          J
                bcc L82D0                    ; 82A1= 90 2D       .-
                jsr L98AE                    ; 82A3= 20 AE 98     ..
                bit #$04                     ; 82A6= 89 04       ..
                php                          ; 82A8= 08          .
                lda #$10                     ; 82A9= A9 10       ).
                trb ACCCON                    ; 82AB= 1C 34 FE    .4~
                plp                          ; 82AE= 28          (
                bne L82B4                    ; 82AF= D0 03       P.
                tsb ACCCON                    ; 82B1= 0C 34 FE    .4~
L82B4:
                jsr mos.LE375 ; If Tube hardware present, jump to Tube PreInit
                bcs L82C6
                lda ACCCON                    ; Toggle Internal/External Tube
                eor #$10
                sta ACCCON
                jsr mos.LE375        ; No Tube, skip past Tube PreInit
                bcc L82D0
L82C6:
                ldx #$FF                     ; Service call &FF - Tube PreInit
                jsr mos.makeROMServiceCall   ;
                bne L82D0                    ; Not claimed, step past
                dec $027A                    ; Tube PreInit claimed, set TubeFlag to &FF, Tube present
L82D0:
                lda $028D                    ; Soft Break, don't ask about workspace
                beq L82FC
                ldy #$DC                     ; Start high workspace at &DC00 and work downwards
                ldx #$24                     ; Ask ROMs how much private high workspace required
                jsr mos.makeROMServiceCall   ;
                ldx #$21                     ; Ask ROMs for maximum shared high workspace required
                jsr mos.makeROMServiceCall   ;
                phy                          ; Save top of shared workspace
                ldx #$22                     ; Ask ROMs for private high workspace required
                jsr mos.makeROMServiceCall   ;
                ldy #$0E                     ; Start low workspace at &0E00
                ldx #$01                     ; Ask ROMs for maximum shared workspace
                jsr mos.makeROMServiceCall   ;
                ldx #$02                     ; Ask ROMs for private workspace
                jsr mos.makeROMServiceCall   ;
                sty $0244                    ; Set OSHWM - default PAGE
                ply                          ; Get top of shared high workspace
                ldx #$23                     ; Tell ROMs top of shared high workspace
                jsr mos.makeROMServiceCall   ;
L82FC:
                ldx #$21
L82FE:
                lda L8347-1,x                ; Copy initial FS info blocks for CFS, TAPE, ROM
                sta hazel.fsInfoBlocks-1,x
                dex
                bne L82FE
                stz $F2                      ; &F2/3=>FS Info Blocks
                lda #$DF
                sta $F3
                ldy #$27                     ; Y=>end of FS Info Blocks
                ldx #$25                     ; Ask ROMs for FS Info Blocks
                jsr mos.makeROMServiceCall   ;
                lda #$00                     ; Terminate FS Info blocks
                sta ($F2),y

                lda $0257                    ; Save Spool handle and disable Spooling
                pha
                stz $0257
                ldx #$FE
                ldy $027A
                jsr mos.makeROMServiceCall   ; Tube PostInit
                and $0267
                bpl L8340
                ldy #$FF                     ; Print <NL>"Acorn MOS"
                jsr mos.LE7A1                ;
                lda $028D                    ; Skip past if Soft Break
                beq L833B
                ldy #$0A                     ; Print <BELL> (space in message for "xxK")
                jsr mos.LE7A1                ;
L833B:
                ldy #$0F                     ; Print <NL><NL>
                jsr mos.LE7A1                ;
L8340:
                pla                          ; Restore Spool handle
                sta $0257
                jmp mos.LE40E                ;

; Default FS Info Blocks
; ======================
L8347:
                .text "CFS     "
                .byte $01
                .byte $02
                .byte $01
                .text "TAPE    "
                .byte $01
                .byte $02
                .byte $01
                .text "ROM     "
                .byte $03
                .byte $03
                .byte $03

; MOS command table
; =================

mos_command .macro name,routine,byte1,byte2
                .text \name
                .beword \routine
                .byte \byte1
                .byte \byte2
                .endm
                
mosCommandTable:

                .mos_command "CAT",mos.callFSCV,$80,$05 ; XY=>parameters, FSC &05
                .mos_command "ADFS",passStarCommandThrough,$00,$00   ;
                .mos_command "APPEND",L9014,$80,$00 ; XY=>parameters
                .mos_command "BASIC",starBASIC,$00,$00  ;
                .mos_command "BUILD",L900F,$80,$00  ; XY=>parameters
                .mos_command "CLOSE",L937C,$00,$FF  ;
                .mos_command "CONFIGURE",L887A,$00,$FF ;
                .mos_command "CODE",L93EB,$00,$88 ; X,y=parameters, OSBYTE &88
                .mos_command "CREATE",L9318,$80,$07 ; XY=>parameters, OSFILE &07
                .mos_command "DUMP",L8F42,$80,$00   ; XY=>parameters
                .mos_command "DELETE",L946A,$80,$00 ; XY=>parameters
                .mos_command "EXEC",LA591,$80,$00   ; XY=>parameters
                .mos_command "EX",mos.callFSCV,$80,$09 ; XY=>parameters, FSC &09
                .mos_command "FX",L93E5,$00,$FF ;
                .mos_command "GOIO",L92FD,$00,$FF ;
                .mos_command "GO",L92F5,$00,$FF   ;
                .mos_command "HELP",L85CA,$00,$FF ;
                .mos_command "INFO",mos.callFSCV,$80,$0A ; XY=>parameters, FSC &0A
                .mos_command "IGNORE",L9387,$00,$FF ;
                .mos_command "INSERT",L871F,$00,$FF ;
                .mos_command "KEY",L94C7,$00,$FF    ;
                .mos_command "LOAD",L9316,$80,$00   ; XY=>parameters
                .mos_command "LIST",L8EC0,$80,$00   ; XY=>parameters
                .mos_command "LINE",mos.callUSERV,$00,$01 ;
                .mos_command "LIBFS",mos.LE7F6,$00,$00    ;
                .mos_command "MOTOR",L93EB,$00,$89 ; X,y=parameters, OSBYTE &89
                .mos_command "MOVE",L90B6,$80,$00  ; XY=>parameters
                .mos_command "OPT",L93EB,$80,$8B ; X,y=parameters, OSBYTE &8B
                .mos_command "PRINT",L8EB9,$80,$00 ; XY=>parameters
                .mos_command "RUN",mos.callFSCV,$80,$04 ; XY=>parameters, FSC &04
                .mos_command "REMOVE",L9371,$80,$00 ; XY=>parameters
                .mos_command "ROM",L93EB,$00,$8D ; X,y=parameters, OSBYTE &8D
                .mos_command "ROMS",L86A6,$00,$FF ;
                .mos_command "SAVE",L9318,$80,$00 ; XY=>parameters, OSFILE &00
                .mos_command "SHADOW",L9466,$00,$FF  ;
                .mos_command "SHOW",L9488,$00,$FF    ;
                .mos_command "SHUT",mos.LF373,$00,$00 ;
                .mos_command "SPOOL",L9433,$80,$00   ; XY=>parameters
                .mos_command "SPOOLON",L9420,$80,$00 ; XY=>parameters
                .mos_command "STATUS",L8895,$00,$FF  ;
                .mos_command "TAPE",L93EB,$00,$8C ; X,y=parameters, OSBYTE &8C
                .mos_command "TV",L93EB,$00,$90 ; X,y=parameters, OSBYTE &90
                .mos_command "TIME",starTime,$00,$00   ;
                .mos_command "TYPE",L8ECB,$80,$00   ; XY=>parameters
                .mos_command "UNPLUG",L8722,$00,$FF ;
                .mos_command "X",mos.LE7FD,$00,$00  ;
                .mos_command "",mos.callFSCV,$00,$03 ; FSC &03
                .byte $00
                
L84EE:
                lda ($B0)                    ; 84EE= B2 B0       20
L84F0:
                bmi L84FE                    ; 84F0= 30 0C       0.
L84F2:
                tya                          ; 84F2= 98          .
L84F3:
                clc                          ; 84F3= 18          .
                adc $F2                      ; 84F4= 65 F2       er
                tax                          ; 84F6= AA          *
                ldy $F3                      ; 84F7= A4 F3       $s
L84F9:
                bcc L84FC                    ; 84F9= 90 01       ..
                iny                          ; 84FB= C8          H
L84FC:
                lda ($B0)                    ; 84FC= B2 B0       20
L84FE:
                rts                          ; 84FE= 60          `

; Prepare OSCLI command line
; ==========================
oscli:
                stx stringInputBufferAddress+0 ; 84FF= 86 F2       .r
                sty stringInputBufferAddress+1 ; 8501= 84 F3       .s
                lda hazel.currentFS
                jsr mos.selectFS             ; 8506= 20 4D FB     M{
                lda #fscStarCommand          ; 8509= A9 08       ).
                jsr mos.callFSCV             ; 850B= 20 E5 F1     eq
                ldy #$FF                     ; 850E= A0 FF        .
L8510:
                jsr mos.incAndSkipSpaces     ; 8510= 20 FE F2     ~r
                beq L84FE                    ; 8513= F0 E9       pi
                cmp #'*'                     ; 8515= C9 2A       I*
                beq L8510                    ; 8517= F0 F7       pw
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8519= 20 FF F2     .r
                beq L84FE                    ; 851C= F0 E0       p`
                cmp #'|'                     ; 851E= C9 7C       I|
                beq L84FE                    ; 8520= F0 DC       p\
                stz hazel.tempFSFlag      ; 8522= 9C C6 DF    .F_
                cmp #'-'                  ; 8525= C9 2D       I-
                bne L8535                    ; 8527= D0 0C       P.
                jsr mos.parseFileNameFS      ; 8529= 20 A6 FA     &z
                jsr mos.selectFS             ; 852C= 20 4D FB     M{
                sec                          ; 852F= 38          8
                ror hazel.tempFSFlag      ; 8530= 6E C6 DF    nF_
                lda (stringInputBufferAddress),y ; 8533= B1 F2       1r
L8535:
                cmp #'/'                     ; 8535= C9 2F       I/
                bne L8542                    ; 8537= D0 09       P.
                iny                          ; 8539= C8          H
                jsr L84F2                    ; 853A= 20 F2 84     r.
                lda #fscStarSlash            ; 853D= A9 02       ).
                jmp mos.callFSCV             ; 853F= 4C E5 F1    Leq

L8542:
                sty $E6
                lda #<mosCommandTable
                sta $B0
                lda #>mosCommandTable
                sta $B1
                bra L8558

L854E:
                eor ($B0)                    ; 854E= 52 B0       R0
                and #$DF                     ; 8550= 29 DF       )_
                bne L8569                    ; 8552= D0 15       P.
                jsr L859B                    ; 8554= 20 9B 85     ..
                iny                          ; 8557= C8          H
L8558:
                lda ($F2),y                  ; 8558= B1 F2       1r
                jsr mos.isLetter             ; 855A= 20 71 EA     qj
                bcc L854E                    ; 855D= 90 EF       .o
                lda ($B0)                    ; 855F= B2 B0       20
                bmi L8582                    ; 8561= 30 1F       0.
                lda ($F2),y                  ; 8563= B1 F2       1r
                cmp #$2E                     ; 8565= C9 2E       I.
                beq L856D                    ; 8567= F0 04       p.
L8569:
                clc                          ; 8569= 18          .
                ldy $E6                      ; 856A= A4 E6       $f
                dey                          ; 856C= 88          .
L856D:
                iny                          ; 856D= C8          H
L856E:
                jsr L859B                    ; Get byte from table, update pointer
                beq passStarCommandThrough   ; Zero byte
                bpl L856E                    ; Loop until b7 set
                bcs L8585                    ; 8575= B0 0E       0.
                jsr L859B                    ; 8577= 20 9B 85     ..
                jsr L859B                    ; 857A= 20 9B 85     ..
                jsr L859B                    ; 857D= 20 9B 85     ..
                bra L8558                    ; 8580= 80 D6       .V

L8582:
                jsr L859B                    ; 8582= 20 9B 85     ..
L8585:
                pha                          ; 8585= 48          H
                jsr L859B                    ; 8586= 20 9B 85     ..
                pha                          ; 8589= 48          H
                jsr L859B                    ; 858A= 20 9B 85     ..
                bmi L8592                    ; 858D= 30 03       0.
                stz hazel.tempFSFlag      ; 858F= 9C C6 DF    .F_
L8592:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8592= 20 FF F2     .r
                clc                          ; 8595= 18          .
                php                          ; 8596= 08          .
                jsr L84EE                    ; 8597= 20 EE 84     n.
                rti                          ; 859A= 40          @

L859B:
                lda ($B0)                    ; 859B= B2 B0       20
                pha                          ; 859D= 48          H
                inc $B0                      ; 859E= E6 B0       f0
                bne L85A4                    ; 85A0= D0 02       P.
                inc $B1                      ; 85A2= E6 B1       f1
L85A4:
                pla                          ; 85A4= 68          h
L85A5:
                rts                          ; 85A5= 60          `

; *BASIC
; ======
starBASIC:
                ldx $024B                    ; Get BASIC ROM number
                bmi passStarCommandThrough ; If no BASIC ROM, jump to pass to ROMs and filing system
                sec                          ;
                jmp mos.osbyte8E             ; Enter ROM as a language

; *ADFS - pass straight to ROMs/Filing System
; ===========================================
passStarCommandThrough:
                bit hazel.tempFSFlag      ; Check filing system flag
                bmi L85C0                    ; If ... skip ROM service call
                stz hazel.tempFSFlag      ; Clear filing system flag
                ldy $E6
                ldx #romServiceCallUnrecognisedCommand
                jsr mos.osbyte8F    ; Service call 4 - Unknown command
                beq L85A5                    ; Claimed, return
L85C0:
                lda $E6
                jsr L84F3                    ; F2toXY
                lda #$03
                jmp mos.callFSCV ; mos.Pass to FSCV,3 - Unknown command

L85CA:
                ldx #romServiceCallHelp      ;
                lda STATE                    ;
                pha                          ;save STATE
                lda #14
                jsr OSWRCH                   ; paged mode ON
                jsr mos.makeROMServiceCall   ; 
                ldx #romServiceCallReserved  ;???
                jsr mos.makeROMServiceCall
                pla                          ;restore STATE
                bit #STATE.isPagedScrolling  ;was paged mode on originally?
                bne parseDone   ;taken if paged mode was originally on
                                ;(branch target is an arbitrary nearby
                                ;RTS)
                lda #15         ;restore non-paged mode
                jmp OSWRCH

;-------------------------------------------------------------------------
;
; Read a byte value (0-255) from a string. If the number has a '&'
; prefix, interpret it as hex.
;
; entry:
;
; (stringInputBufferAddress),y - string
;
; exit:
;
; X = result
; C=0 if error
; Z=1 if CR encountered
; 
parseNumberFromString:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 85E6= 20 FF F2     .r
                cmp #'&'                     ; hex value incoming?
                bne parseDecimal             ; taken if not hex value
parseHex:
                iny                          ; skip '&'
                jsr readHexDigit             ; read first hex digit
                bcc errorReadingString
                sta $E6                      ; save first hex digit
                jsr readHexDigit             ; read second hex digih
                bcc parsedValue         ; taken if not hex digit
                ; The first digit read was actually the high nybble,
                ; and the current digit read is therefore the low
                ; nybble.
                ;
                ; Shift saved digit 4 bits left.
                ldx #$04                     
-
                asl $E6                      
                dex                          
                bne -
                tsb $E6                      ; insert low nybble
                jsr readHexDigit             ; read third hex digit
                bcs errorReadingString2 ; 3+-digit hex values are not valid
parsedValue:
                ldx $E6                      ; 8608= A6 E6       &f
                cmp #$0D                     ; 860A= C9 0D       I.
                sec                          ; 860C= 38          8
parseDone:
                rts                          ; 860D= 60          `

parseDecimal:
                jsr readDigitFromString
                bcc errorReadingString      ;branch taken if not digit
parseDecimalDigit:
                sta $E6                     ;save current value
                jsr readNextDigitFromString
                bcc parsedValue ;branch taken if not digit, meaning number
                                     ;parsed successfully
                tax                         ;X=digit

                ; calculate (value*4+value)*2 - i.e., value*10. Carry
                ; at any point indicates the value was greater than
                ; 255, and therefore an error.
                lda $E6                     ;value
                asl a                       ;value*2
                bcs errorReadingString      
                asl a                       ;value*4
                bcs errorReadingString      
                adc $E6                     ;value*5
                bcs errorReadingString      
                asl a                       ;value*10
                bcs errorReadingString
                sta $E6                      ;save value*10
                txa                          ;A=digit
                adc $E6                      ;value*10+digit
                bcc parseDecimalDigit
errorReadingString2:
                clc                          ; 8631= 18          .
                rts                          ; 8632= 60          `

readNextDigitFromString:
                iny                          ; 8633= C8          H

; check if current string input byte is a digit.
;
; exit: C=1 if digit; C=0 if not digit
readDigitFromString:
                lda (stringInputBufferAddress),y
                cmp #'9'+1
                bcs errorReadingString       ;taken if not ASCII decimal digit
                cmp #'0'
                bcc errorReadingString       ;taken if not ASCII decimal digit
                and #$0F         ;convert ASCII decimaldigit to number
                rts

L8641:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8641= 20 FF F2     .r
                cmp #$0D
errorReadingString:
                clc
                rts

readHexDigit:
                jsr readDigitFromString
                bcs +                        ; branch taken if digit
                and #$DF                     ; convert to upper case
                cmp #'F'+1
                bcs L8641    ; branch taken if not ASCII A-F hex digit
                cmp #'A'
                bcc L8641     ;branch taken if not ASCII A-F hex digit
                ; convert ASCII A-F hex digit to number.
                eor #$48
                inc a
+
                iny                          ; 865A= C8          H
                rts                          ; 865B= 60          `

; OSWORD 0 control block for *commands
; ====================================
L865C:
                .word hazel.commandLine      ; address
                .byte $F0			; max # chars
                .byte $20			; min ASCII char
                .byte $7E			; max ASCII char

L8661:
                lda #<L868D     ; 8661= A9 8D       ).
                sta BRKV+0      ; 8663= 8D 02 02    ...
                lda #>L868D     ; 8666= A9 86       ).
                sta BRKV+1      ; 8668= 8D 03 02    ...
                lda #$1F        ; 866B= A9 1F       ).
                sta $028C       ; 866D= 8D 8C 02    ...
L8670:
                ldx #$FF                     ; 8670= A2 FF       ".
                txs                          ; 8672= 9A          .
                cli                          ; 8673= 58          X
                jsr mos.selectHAZEL          ; 8674= 20 BA ED     :m
                lda #'*'                     ; 8677= A9 2A       )*
                jsr OSWRCH                   ; 8679= 20 EE FF     n.
                jsr L869D                    ; 867C= 20 9D 86     ..
                bcc L8684                    ; 867F= 90 03       ..
                jmp LA891                    ; 8681= 4C 91 A8    L.(

L8684:
                ldx #<hazel.commandLine      ; 8684= A2 00       ".
                ldy #>hazel.commandLine      ; 8686= A0 DC        \
                jsr OSCLI      ; 8688= 20 F7 FF     w.
                bra L8670       ; 868B= 80 E3       .c

L868D:
                jsr OSNEWL                   ; 868D= 20 E7 FF     g.
                ldy #$00                     ; 8690= A0 00        .
                jsr mos.LE7A7                ; 8692= 20 A7 E7     'g
                jsr OSNEWL                   ; 8695= 20 E7 FF     g.
                bra L8661                    ; 8698= 80 C7       .G

L869A:
                jmp mos.LFBED                ; 869A= 4C ED FB    Lm{

L869D:
                lda #$00                     ; 869D= A9 00       ).
                ldx #<L865C                  ; 869F= A2 5C       "\
                ldy #>L865C                  ; 86A1= A0 86        .
                jmp OSWORD                   ; 86A3= 4C F1 FF    Lq.

L86A6:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 86A6= 20 FF F2     .r
                bne L869A                    ; 86A9= D0 EF       Po
                ldy #$0F                     ; 86AB= A0 0F        .
L86AD:
                iny                          ; 86AD= C8          H
                jsr printFollowingMessage    ; 86AE= 20 27 A9     ')
                .text "ROM "
                .byte $00
                tya                          ; 86B6= 98          .
                dec a                        ; 86B7= 3A          :
                pha                          ; 86B8= 48          H
                jsr LA873                    ; 86B9= 20 73 A8     s(
                jsr L9F0C                    ; 86BC= 20 0C 9F     ..
                lda #$09                     ; 86BF= A9 09       ).
                sta $F6                      ; 86C1= 85 F6       .v
                lda #$80                     ; 86C3= A9 80       ).
                sta $F7                      ; 86C5= 85 F7       .w
                plx                          ; 86C7= FA          z
                jsr mos.LE587                ; 86C8= 20 87 E5     .e
                dey                          ; 86CB= 88          .
                bcc L8718                    ; 86CC= 90 4A       .J
L86CE:
                jsr mos.osrdscEntryPoint     ; 86CE= 20 FC F3     |s
                cmp #$20                     ; 86D1= C9 20       I
                bcc L86E4                    ; 86D3= 90 0F       ..
                cmp #$7F                     ; 86D5= C9 7F       I.
                bcs L8718                    ; 86D7= B0 3F       0?
                jsr OSWRCH                   ; 86D9= 20 EE FF     n.
                inc $F6                      ; 86DC= E6 F6       fv
                bit $F6                      ; 86DE= 24 F6       $v
                bvc L86CE                    ; 86E0= 50 EC       Pl
                bra L8718                    ; 86E2= 80 34       .4

L86E4:
                tax                          ; 86E4= AA          *
                bne L8718                    ; 86E5= D0 31       P1
                lda #$08                     ; 86E7= A9 08       ).
                sta $F6                      ; 86E9= 85 F6       .v
                lda #$80                     ; 86EB= A9 80       ).
                sta $F7                      ; 86ED= 85 F7       .w
                jsr mos.osrdscEntryPoint     ; 86EF= 20 FC F3     |s
                jsr LA865                    ; 86F2= 20 65 A8     e(
L86F5:
                phy                          ; 86F5= 5A          Z
                jsr mos.LE9BB                ; 86F6= 20 BB E9     ;i
                sta $B0                      ; 86F9= 85 B0       .0
                jsr L98B7                    ; 86FB= 20 B7 98     7.
                and $B0                      ; 86FE= 25 B0       %0
                bne L8710                    ; 8700= D0 0E       P.
                jsr LA958                    ; 8702= 20 58 A9     X)
                .text " unplugged"
                .byte 0
;JSR &6E75        :\ 8705= 20 75 6E     un
;BVS L8776        :\ 8708= 70 6C       pl
;ADC &67,x        :\ 870A= 75 67       ug
;EQUB &67         :\ 870C= 67          g
;ADC &64          :\ 870D= 65 64       ed
;BRK              :\ 870F= 00          .
L8710:
                ply                          ; 8710= 7A          z
                jsr OSNEWL                   ; 8711= 20 E7 FF     g.
                dey                          ; 8714= 88          .
                bpl L86AD                    ; 8715= 10 96       ..
                rts                          ; 8717= 60          `

L8718:
                lda #'?'                     ; 8718= A9 3F       )?
                jsr OSWRCH                   ; 871A= 20 EE FF     n.
                bra L86F5                    ; 871D= 80 D6       .V

L871F:
                sec                          ; 871F= 38          8
                bra L8723                    ; 8720= 80 01       ..

L8722:
                clc                          ; 8722= 18          .
L8723:
                php                          ; 8723= 08          .
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8724= 20 FF F2     .r
                jsr L897D                    ; 8727= 20 7D 89     }.
                tay                          ; 872A= A8          (
                jsr mos.LE9BB                ; 872B= 20 BB E9     ;i
                pha                          ; 872E= 48          H
                jsr L98B7                    ; 872F= 20 B7 98     7.
                sty $B0                      ; 8732= 84 B0       .0
                pla                          ; 8734= 68          h
                plp                          ; 8735= 28          (
                bcc +                    ; 8736= 90 04       ..
                ora $B0                      ; 8738= 05 B0       .0
                bra L8740                    ; 873A= 80 04       ..
+
                eor #$FF                     ; 873C= 49 FF       I.
                and $B0                      ; 873E= 25 B0       %0
L8740:
                tay                          ; 8740= A8          (
                jmp L98E4                    ; 8741= 4C E4 98    Ld.

starTime:
                stz hazel.commandLine        ; 8744= 9C 00 DC    ..\
                ldx #<hazel.commandLine      ; 8747= A2 00       ".
                ldy #>hazel.commandLine      ; 8749= A0 DC        \
                lda #$0E                     ; 874B= A9 0E       ).
                jsr OSWORD                   ; 874D= 20 F1 FF     q.
                ldx #255-24                  ; 8750= A2 E7       "g
L8752:
                lda hazel.commandLine-(255-24),x ; 8752= BD 19 DB    =.[
                jsr OSASCI                   ; 8755= 20 E3 FF     c.
                inx                          ; 8758= E8          h
                bne L8752                    ; 8759= D0 F7       Pw
                rts                          ; 875B= 60          `

L875C:
                .text "."
                .text $80,"BAUD"
                .text $84,"BOOT"
                .text $88,"CAPS"
                .text $8c,"DATA"
                .text $90,"DELAY"
                .text $94,"DIR"
                .text $98,"EXTUBE"
                .text $9c,"FDRIVE"
                .text $a0,"FILE"
                .text $a4,"FLOPPY"
                .text $a8,"HARD"
                .text $ac,"IGNORE"
                .text $b0,"INTUBE"
                .text $b4,"LANG"
                .text $b8,"LOUD"
                .text $bc,"MODE"
                .text $c0,"NOBOOT"
                .text $c4,"NOCAPS"
                .text $c8,"NODIR"
                .text $cc,"NOSCROLL"
                .text $d0,"NOTUBE"
                .text $d4,"PRINT"
                .text $d8,"QUIET"
                .text $dc,"REPEAT"
                .text $e0,"SCROLL"
                .text $e4,"SHCAPS"
                .text $e8,"TUBE"
                .text $ec,"TV"
                .text $f0,0

_:=[]
_..=[L8BF0]
_..=[L8D7F]
_..=[L89F1]
_..=[L8B7D]
_..=[L8A28]
_..=[L8AE1]
_..=[L88E8]
_..=[L8A66]
_..=[L8A17]
_..=[L8B82]
_..=[L899F]
_..=[L8B2E]
_..=[L88BD]
_..=[L8BAA]
_..=[L8A44]
_..=[L8ABB]
_..=[L88CB]
_..=[L8B87]
_..=[L8A5F]
_..=[L8B10]
_..=[L88B5]
_..=[L8B8E]
_..=[L88AF]
_..=[L8B8E]
_..=[L89B4]
_..=[L8B44]
_..=[L8A4A]
_..=[L8ABB]
_..=[L8A52]
_..=[L8B08]
_..=[L8A0F]
_..=[L8A9F]
_..=[L88F0]
_..=[L8B25]
_..=[L8A2E]
_..=[L8AE1]
_..=[L88DC]
_..=[L8A66]
_..=[L88C3]
_..=[L8BAA]
_..=[L8A3C]
_..=[L8A89]
_..=[L89E4]
_..=[L8AF5]
_..=[L89C7]
_..=[L8B78]
_..=[L8A09]
_..=[L8A9F]
_..=[L89A1]
_..=[L8B34]
_..=[L8A36]
_..=[L8A89]
_..=[L88E2]
_..=[L8A66]
_..=[L89EE]
_..=[L8AF5]
_..=[L8906]
_..=[L8B17]
maybe_configure_routines=_

                .for i=0,i<len(maybe_configure_routines),i+=1
                .beword maybe_configure_routines[i]-1
                .next
                
L887A:
                jsr L8934                    ; 887A 20 34 89
                bcs L8889                    ; 887D= B0 0A       0.
                ldx #$28                     ; 887F= A2 28       "(
L8881:
                ldy $E6                      ; 8881= A4 E6       $f
                jsr mos.makeROMServiceCall   ; 8883= 20 72 EE     rn
                bne L88AC                    ; 8886= D0 24       P$
                rts                          ; 8888= 60          `

L8889:
                tax                          ; 8889= AA          *
                lda L8786,x                  ; 888A= BD 86 87    =..
                pha                          ; 888D= 48          H
                lda L8787,x                  ; 888E= BD 87 87    =..
                pha                          ; 8891= 48          H
L8892:
                jmp mos.skipSpacesAndCheckForCRInStringInput ; 8892= 4C FF F2    L.r

L8895:
                jsr L8934                    ; 8895= 20 34 89     4.
                bcs L889E                    ; 8898= B0 04       0.
                ldx #$29                     ; 889A= A2 29       ")
                bra L8881                    ; 889C= 80 E3       .c

L889E:
                tax                          ; 889E= AA          *
                lda L8788,x                  ; 889F= BD 88 87    =..
                pha                          ; 88A2= 48          H
                lda L8789,x                  ; 88A3= BD 89 87    =..
                pha                          ; 88A6= 48          H
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 88A7= 20 FF F2     .r
                beq L8892                    ; 88AA= F0 E6       pf
L88AC:
                jmp L8976                    ; 88AC= 4C 76 89    Lv.

L88AF:
                bne L88AC                    ; 88AF= D0 FB       P{
                lda #$00                     ; 88B1= A9 00       ).
                bra L88B9                    ; 88B3= 80 04       ..

L88B5:
                bne L88AC                    ; 88B5= D0 F5       Pu
                lda #$80                     ; 88B7= A9 80       ).
L88B9:
                ldy #$7F                     ; 88B9= A0 7F        .
                bra L88D8                    ; 88BB= 80 1B       ..

L88BD:
                bne L88AC                    ; 88BD= D0 ED       Pm
                lda #$00                     ; 88BF= A9 00       ).
                bra L88C7                    ; 88C1= 80 04       ..

L88C3:
                bne L88AC                    ; 88C3= D0 E7       Pg
                lda #$40                     ; 88C5= A9 40       )@
L88C7:
                ldy #$BF                     ; 88C7= A0 BF        ?
                bra L88D8                    ; 88C9= 80 0D       ..

L88CB:
                jsr L8971                    ; 88CB= 20 71 89     q.
                jsr L8987                    ; 88CE= 20 87 89     ..
                txa                          ; 88D1= 8A          .
                cmp #$08                     ; 88D2= C9 08       I.
                bcs L88AC                    ; 88D4= B0 D6       0V
                ldy #$F8                     ; 88D6= A0 F8        x
L88D8:
                ldx #$19                     ; 88D8= A2 19       ".
                bra L892D                    ; 88DA= 80 51       .Q

L88DC:
                bne L88AC                    ; 88DC= D0 CE       PN
                lda #$10                     ; 88DE= A9 10       ).
                bra L88EC                    ; 88E0= 80 0A       ..

L88E2:
                bne L88AC                    ; 88E2= D0 C8       PH
                lda #$08                     ; 88E4= A9 08       ).
                bra L88EC                    ; 88E6= 80 04       ..

L88E8:
                bne L88AC                    ; 88E8= D0 C2       PB
                lda #$20                     ; 88EA= A9 20       )
L88EC:
                ldy #$C7                     ; 88EC= A0 C7        G
                bra L88D8                    ; 88EE= 80 E8       .h

L88F0:
                jsr L8971                    ; 88F0= 20 71 89     q.
                jsr L8987                    ; 88F3= 20 87 89     ..
                txa                          ; 88F6= 8A          .
                and #$7F                     ; 88F7= 29 7F       ).
                cmp #$08                     ; 88F9= C9 08       I.
                bcs L8911                    ; 88FB= B0 14       0.
                inx                          ; 88FD= E8          h
                bpl L8902                    ; 88FE= 10 02       ..
                ora #$08                     ; 8900= 09 08       ..
L8902:
                ldy #$F0                     ; 8902= A0 F0        p
                bra L892B                    ; 8904= 80 25       .%

L8906:
                beq L8930                    ; 8906= F0 28       p(
                jsr L8971                    ; 8908= 20 71 89     q.
                cpx #$FC                     ; 890B= E0 FC       `|
                bcs L8913                    ; 890D= B0 04       0.
                cpx #$04                     ; 890F= E0 04       `.
L8911:
                bcs L8976                    ; 8911= B0 63       0c
L8913:
                txa                          ; 8913= 8A          .
                asl a                        ; 8914= 0A          .
                sta $B1                      ; 8915= 85 B1       .1
                ldx #$00                     ; 8917= A2 00       ".
                jsr mos.LF30A                ; 8919= 20 0A F3     .s
                beq L8922                    ; 891C= F0 04       p.
                jsr L898F                    ; 891E= 20 8F 89     ..
                tax                          ; 8921= AA          *
L8922:
                txa                          ; 8922= 8A          .
                ora $B1                      ; 8923= 05 B1       .1
                asl a                        ; 8925= 0A          .
                asl a                        ; 8926= 0A          .
                asl a                        ; 8927= 0A          .
                asl a                        ; 8928= 0A          .
L8929:
                ldy #$0F                     ; 8929= A0 0F        .
L892B:
                ldx #$18                     ; 892B= A2 18       ".
L892D:
                jmp L89D6                    ; 892D= 4C D6 89    LV.

L8930:
                lda #$00                     ; 8930= A9 00       ).
                bra L8929                    ; 8932= 80 F5       .u

L8934:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8934= 20 FF F2     .r
                sty $E6                      ; 8937= 84 E6       .f
                beq L8979                    ; 8939= F0 3E       p>
                ldx #$00                     ; 893B= A2 00       ".
                bra L894A                    ; 893D= 80 0B       ..

L893F:
                eor L875C,x                  ; 893F= 5D 5C 87    ]\.
                and #$DF                     ; 8942= 29 DF       )_
                bne L895C                    ; 8944= D0 16       P.
                iny                          ; 8946= C8          H
L8947:
                bcs L896C                    ; 8947= B0 23       0#
                inx                          ; 8949= E8          h
L894A:
                lda ($F2),y                  ; 894A= B1 F2       1r
                jsr mos.isLetter             ; 894C= 20 71 EA     qj
                bcc L893F                    ; 894F= 90 EE       .n
L8951:
                lda L875C,x                  ; 8951= BD 5C 87    =\.
                bmi L896C                    ; 8954= 30 16       0.
                lda ($F2),y                  ; 8956= B1 F2       1r
                cmp #$2E                     ; 8958= C9 2E       I.
                beq L8960                    ; 895A= F0 04       p.
L895C:
                clc                          ; 895C= 18          .
                ldy $E6                      ; 895D= A4 E6       $f
                dey                          ; 895F= 88          .
L8960:
                iny                          ; 8960= C8          H
                dex                          ; 8961= CA          J
L8962:
                inx                          ; 8962= E8          h
                lda L875C,x                  ; 8963= BD 5C 87    =\.
                beq L896E                    ; 8966= F0 06       p.
                bpl L8962                    ; 8968= 10 F8       .x
                bra L8947                    ; 896A= 80 DB       .[

L896C:
                sec                          ; 896C= 38          8
                rts                          ; 896D= 60          `

L896E:
                bcs L896C                    ; 896E= B0 FC       0|
L8970:
                rts                          ; 8970= 60          `

L8971:
                jsr parseNumberFromString    ; 8971= 20 E6 85     f.
                bcs L8970                    ; 8974= B0 FA       0z
L8976:
                jmp mos.LFBED                ; 8976= 4C ED FB    Lm{

L8979:
                ldx #$01                     ; 8979= A2 01       ".
                bra L8951                    ; 897B= 80 D4       .T

L897D:
                jsr parseNumberFromString    ; 897D= 20 E6 85     f.
                bcc L8976                    ; 8980= 90 F4       .t
                txa                          ; 8982= 8A          .
                cmp #$10                     ; 8983= C9 10       I.
                bcs L8976                    ; 8985= B0 EF       0o
L8987:
                pha                          ; 8987= 48          H
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8988= 20 FF F2     .r
L898B:
                bne L8976                    ; 898B= D0 E9       Pi
                pla                          ; 898D= 68          h
                rts                          ; 898E= 60          `

L898F:
                jsr L8997                    ; 898F= 20 97 89     ..
                cmp #$02                     ; 8992= C9 02       I.
                bcs L8976                    ; 8994= B0 E0       0`
                rts                          ; 8996= 60          `

L8997:
                jsr parseNumberFromString    ; 8997= 20 E6 85     f.
                bcc L8976                    ; 899A= 90 DA       .Z
                txa                          ; 899C= 8A          .
                bra L8987                    ; 899D= 80 E8       .h

L899F:
                clc                          ; 899F= 18          .
                .byte $24                    ; BIT zp (make SEC mostly
                                             ; a NOP, in effect)
L89A1:
                sec
                php                          ; 89A2= 08          .
                jsr L8971                    ; 89A3= 20 71 89     q.
                jsr L8987                    ; 89A6= 20 87 89     ..
                plp                          ; 89A9= 28          (
                txa                          ; 89AA= 8A          .
                tay                          ; 89AB= A8          (
                lda #$1A                     ; 89AC= A9 1A       ).
                adc #$00                     ; 89AE= 69 00       i.
                tax                          ; 89B0= AA          *
L89B1:
                jmp L98E4                    ; 89B1= 4C E4 98    Ld.

L89B4:
                beq L8A03                    ; 89B4= F0 4D       pM
                jsr L8971                    ; 89B6= 20 71 89     q.
                phx                          ; 89B9= DA          Z
                jsr L8987                    ; 89BA= 20 87 89     ..
                lda #$00                     ; 89BD= A9 00       ).
                jsr L8A05                    ; 89BF= 20 05 8A     ..
                ply                          ; 89C2= 7A          z
                ldx #$1C                     ; 89C3= A2 1C       ".
                bra L89B1                    ; 89C5= 80 EA       .j

L89C7:
                jsr L8997                    ; 89C7= 20 97 89     ..
                cmp #$05                     ; 89CA= C9 05       I.
L89CC:
                bcs L8976                    ; 89CC= B0 A8       0(
                ldy #$1F                     ; 89CE= A0 1F        .
                lsr a                        ; 89D0= 4A          J
                ror a                        ; 89D1= 6A          j
                ror a                        ; 89D2= 6A          j
                ror a                        ; 89D3= 6A          j
L89D4:
                ldx #$1D                     ; 89D4= A2 1D       ".
L89D6:
                sta $B1                      ; 89D6= 85 B1       .1
                sty $B2                      ; 89D8= 84 B2       .2
                jsr L98B7                    ; 89DA= 20 B7 98     7.
                and $B2                      ; 89DD= 25 B2       %2
                ora $B1                      ; 89DF= 05 B1       .1
                tay                          ; 89E1= A8          (
                bra L89B1                    ; 89E2= 80 CD       .M

L89E4:
                clc                          ; 89E4= 18          .
L89E5:
                bne L898B                    ; 89E5= D0 A4       P$
                ldy #$FE                     ; 89E7= A0 FE        ~
                lda #$00                     ; 89E9= A9 00       ).
                rol a                        ; 89EB= 2A          *
                bra L89D4                    ; 89EC= 80 E6       .f

L89EE:
                sec                          ; 89EE= 38          8
                bra L89E5                    ; 89EF= 80 F4       .t

L89F1:
                jsr L8997                    ; 89F1= 20 97 89     ..
                bne L89F8                    ; 89F4= D0 02       P.
                lda #$07                     ; 89F6= A9 07       ).
L89F8:
                cmp #$09                     ; 89F8= C9 09       I.
                bcs L89CC                    ; 89FA= B0 D0       0P
                dec a                        ; 89FC= 3A          :
                ldy #$E3                     ; 89FD= A0 E3        c
                asl a                        ; 89FF= 0A          .
                asl a                        ; 8A00= 0A          .
                bra L89D4                    ; 8A01= 80 D1       .Q

L8A03:
                lda #$02                     ; 8A03= A9 02       ).
L8A05:
                ldy #$FD                     ; 8A05= A0 FD        }
                bra L89D4                    ; 8A07= 80 CB       .K

L8A09:
                bne L89E5                    ; 8A09= D0 DA       PZ
                lda #$00                     ; 8A0B= A9 00       ).
                bra L8A13                    ; 8A0D= 80 04       ..

L8A0F:
                bne L89E5                    ; 8A0F= D0 D4       PT
                lda #$02                     ; 8A11= A9 02       ).
L8A13:
                ldy #$FD                     ; 8A13= A0 FD        }
                bra L8A24                    ; 8A15= 80 0D       ..

L8A17:
                jsr L8997                    ; 8A17= 20 97 89     ..
                cmp #$08                     ; 8A1A= C9 08       I.
                bcs L89CC                    ; 8A1C= B0 AE       0.
                ldy #$1F                     ; 8A1E= A0 1F        .
                lsr a                        ; 8A20= 4A          J
                ror a                        ; 8A21= 6A          j
                ror a                        ; 8A22= 6A          j
                ror a                        ; 8A23= 6A          j
L8A24:
                ldx #$1E                     ; 8A24= A2 1E       ".
L8A26:
                bra L89D6                    ; 8A26= 80 AE       ..

L8A28:
                bne L89E5                    ; 8A28= D0 BB       P;
                lda #$10                     ; 8A2A= A9 10       ).
                bra L8A32                    ; 8A2C= 80 04       ..

L8A2E:
                bne L89E5                    ; 8A2E= D0 B5       P5
                lda #$00                     ; 8A30= A9 00       ).
L8A32:
                ldy #$EF                     ; 8A32= A0 EF        o
                bra L8A24                    ; 8A34= 80 EE       .n

L8A36:
                bne L89E5                    ; 8A36= D0 AD       P-
                lda #$00                     ; 8A38= A9 00       ).
                bra L8A40                    ; 8A3A= 80 04       ..

L8A3C:
                bne L89E5                    ; 8A3C= D0 A7       P'
                lda #$08                     ; 8A3E= A9 08       ).
L8A40:
                ldy #$F7                     ; 8A40= A0 F7        w
                bra L8A24                    ; 8A42= 80 E0       .`

L8A44:
                bne L89CC                    ; 8A44= D0 86       P.
                lda #$04                     ; 8A46= A9 04       ).
                bra L8A4E                    ; 8A48= 80 04       ..

L8A4A:
                bne L89CC                    ; 8A4A= D0 80       P.
                lda #$00                     ; 8A4C= A9 00       ).
L8A4E:
                ldy #$FB                     ; 8A4E= A0 FB        {
                bra L8A24                    ; 8A50= 80 D2       .R

L8A52:
                jsr L897D                    ; 8A52= 20 7D 89     }.
L8A55:
                asl a                        ; 8A55= 0A          .
                asl a                        ; 8A56= 0A          .
                asl a                        ; 8A57= 0A          .
                asl a                        ; 8A58= 0A          .
                ldy #$0F                     ; 8A59= A0 0F        .
L8A5B:
                ldx #$13                     ; 8A5B= A2 13       ".
                bra L8A26                    ; 8A5D= 80 C7       .G

L8A5F:
                jsr L897D                    ; 8A5F= 20 7D 89     }.
                ldy #$F0                     ; 8A62= A0 F0        p
                bra L8A5B                    ; 8A64= 80 F5       .u

L8A66:
                jsr L8EAD                    ; 8A66= 20 AD 8E     -.
                asl a                        ; 8A69= 0A          .
                asl a                        ; 8A6A= 0A          .
                bmi L8A7A                    ; 8A6B= 30 0D       0.
                asl a                        ; 8A6D= 0A          .
                bmi L8A84                    ; 8A6E= 30 14       0.
                jsr LA958                    ; 8A70= 20 58 A9     X)
                .text "Shift "
                .byte $00
L8A7A:
                jsr LA958                    ; 8A7A= 20 58 A9     X)
                .text "Caps"
                .byte $0D
                .byte $00
                rts
L8A84:
                jsr L8EB1                    ; 8A84= 20 B1 8E     1.
                bra L8A7A                    ; 8A87= 80 F1       .q

L8A89:
                jsr L98AE                    ; 8A89= 20 AE 98     ..
                bit #$08                     ; 8A8C= 89 08       ..
                beq L8A93                    ; 8A8E= F0 03       p.
                jsr L8EB1                    ; 8A90= 20 B1 8E     1.
L8A93:
                jsr LA958                    ; 8A93= 20 58 A9     X)
                .text "Scroll",13,0
                rts                          ; 8A9E= 60          `

L8A9F:
                jsr L98AE                    ; 8A9F= 20 AE 98     ..
                bit #$02                     ; 8AA2= 89 02       ..
                bne L8AB1                    ; 8AA4= D0 0B       P.
                jsr LA958                    ; 8AA6= 20 58 A9     X)
                .text "Quiet",13,0
                rts                          ; 8AB0= 60          `

L8AB1:
                jsr LA958                    ; 8AB1= 20 58 A9     X)
                .text "Loud",13,0
                rts                          ; 8ABA= 60          `

L8ABB:
                jsr L98AE                    ; 8ABB= 20 AE 98     ..
                bit #$04                     ; 8ABE= 89 04       ..
                bne L8ACA                    ; 8AC0= D0 08       P.
                jsr LA958                    ; 8AC2= 20 58 A9     X)
                .text "In",0
                bra L8AD0                    ; 8AC8= 80 06       ..

L8ACA:
                jsr LA958                    ; 8ACA= 20 58 A9     X)
                .text "Ex",0
L8AD0:
                jsr LA958                    ; 8AD0= 20 58 A9     X)
                .text "ternal Tube",13,0
                rts                          ; 8AE0= 60          `

L8AE1:
                jsr L98AE                    ; 8AE1= 20 AE 98     ..
                bit #$10                     ; 8AE4= 89 10       ..
                bne L8AEB                    ; 8AE6= D0 03       P.
                jsr L8EB1                    ; 8AE8= 20 B1 8E     1.
L8AEB:
                jsr LA958                    ; 8AEB= 20 58 A9     X)
                .text "Boot",13,0
                rts                          ; 8AF4= 60          `

L8AF5:
                jsr L98AA                    ; 8AF5= 20 AA 98     *.
                lsr a                        ; 8AF8= 4A          J
                bcs L8AFE                    ; 8AF9= B0 03       0.
                jsr L8EB1                    ; 8AFB= 20 B1 8E     1.
L8AFE:
                jsr LA958                    ; 8AFE= 20 58 A9     X)
                .text "Tube",13,0
                rts                          ; 8B07= 60          `

L8B08:
                jsr L8E9C                    ; 8B08= 20 9C 8E     ..
L8B0B:
                jsr L8BC4                    ; 8B0B= 20 C4 8B     D.
                bra L8B2B                    ; 8B0E= 80 1B       ..

L8B10:
                jsr L8EA4                    ; 8B10= 20 A4 8E     $.
                and #$0F                     ; 8B13= 29 0F       ).
                bra L8B0B                    ; 8B15= 80 F4       .t

L8B17:
                jsr L8E5A                    ; 8B17= 20 5A 8E     Z.
                jsr L8BC3                    ; 8B1A= 20 C3 8B     C.
                lda #$2C                     ; 8B1D= A9 2C       ),
                jsr OSWRCH                   ; 8B1F= 20 EE FF     n.
                txa                          ; 8B22= 8A          .
                bra L8B28                    ; 8B23= 80 03       ..

L8B25:
                jsr L8E76                    ; 8B25= 20 76 8E     v. Read configured MODE
L8B28:
                jsr L8BC4                    ; 8B28= 20 C4 8B     D.
L8B2B:
                jmp OSNEWL                   ; 8B2B= 4C E7 FF    Lg.

L8B2E:
                jsr L8B3A                    ; 8B2E= 20 3A 8B     :.
                tya                          ; 8B31= 98          .
                bra L8B28                    ; 8B32= 80 F4       .t

L8B34:
                jsr L8B3F                    ; 8B34= 20 3F 8B     ?.
                tya                          ; 8B37= 98          .
                bra L8B28                    ; 8B38= 80 EE       .n

L8B3A:
                ldx #$1A                     ; 8B3A= A2 1A       ".
                jmp L98B7                    ; 8B3C= 4C B7 98    L7.

L8B3F:
                ldx #$1B                     ; 8B3F= A2 1B       ".
                jmp L98B7                    ; 8B41= 4C B7 98    L7.

L8B44:
                jsr L98AA                    ; 8B44= 20 AA 98     *.
                bit #$02                     ; 8B47= 89 02       ..
                beq L8B5A                    ; 8B49= F0 0F       p.
L8B4B:
                jsr L8EB1                    ; 8B4B= 20 B1 8E     1.
                jsr LA958                    ; 8B4E= 20 58 A9     X)
                .text "Ignore",13,0
                rts                          ; 8B59= 60          `

L8B5A:
                jsr L8EA8                    ; 8B5A= 20 A8 8E     (.
                jsr L8BC4                    ; 8B5D= 20 C4 8B     D.
                bra L8B2B                    ; 8B60= 80 C9       .I

L8B62:
                jsr L98AA                    ; 8B62= 20 AA 98     *.
                bit #$02                     ; 8B65= 89 02       ..
                bne L8B4B                    ; 8B67= D0 E2       Pb
                jsr LA958                    ; 8B69= 20 58 A9     X)
                .text "Ignore   ",0
                bra L8B5A                    ; 8B76= 80 E2       .b

L8B78:
                jsr L8E8D                    ; 8B78= 20 8D 8E     ..
                bra L8B28                    ; 8B7B= 80 AB       .+

L8B7D:
                jsr L8E84                    ; 8B7D= 20 84 8E     ..
                bra L8B28                    ; 8B80= 80 A6       .&

L8B82:
                jsr L8E97                    ; 8B82= 20 97 8E     ..
                bra L8B28                    ; 8B85= 80 A1       .!

L8B87:
                jsr L8EAD                    ; 8B87= 20 AD 8E     -.
                and #$07                     ; 8B8A= 29 07       ).
                bra L8B28                    ; 8B8C= 80 9A       ..

L8B8E:
                jsr L8EAD                    ; 8B8E= 20 AD 8E     -.
                asl a                        ; 8B91= 0A          .
                bcs L8B9E                    ; 8B92= B0 0A       0.
                jsr LA958                    ; 8B94= 20 58 A9     X)
                .text "Hard",13,0
                rts                          ; 8B9D= 60          `

L8B9E:
                jsr LA958                    ; 8B9E= 20 58 A9     X)
                ; LSR $6C                    ; 8BA1= 46 6C       Fl
                ; EQUB $6F                   ; 8BA3= 6F          o
                ; BVS L8C16                  ; 8BA4= 70 70       pp
                ; ADC $000D,y                ; 8BA6= 79 0D 00    y..
                .text "Floppy"
                .byte $0D
                .byte $00
                rts                          ; 8BA9= 60          `

L8BAA:
                jsr L8EAD                    ; 8BAA= 20 AD 8E     -.
                asl a                        ; 8BAD= 0A          .
                asl a                        ; 8BAE= 0A          .
                bcc L8BB4                    ; 8BAF= 90 03       ..
                jsr L8EB1                    ; 8BB1= 20 B1 8E     1.
L8BB4:
                jsr LA958                    ; 8BB4= 20 58 A9     X)
                .text "Directory",13,0
                rts
L8BC3:
                tya                          ; 8BC3= 98          .
L8BC4:
                sec                          ; 8BC4= 38          8
                ldy #$FF                     ; 8BC5= A0 FF        .
                php                          ; 8BC7= 08          .
L8BC8:
                iny                          ; 8BC8= C8          H
                sbc #$64                     ; 8BC9= E9 64       id
                bcs L8BC8                    ; 8BCB= B0 FB       0{
                adc #$64                     ; 8BCD= 69 64       id
                plp                          ; 8BCF= 28          (
                jsr L8BE4                    ; 8BD0= 20 E4 8B     d.
                ldy #$FF                     ; 8BD3= A0 FF        .
                php                          ; 8BD5= 08          .
                sec                          ; 8BD6= 38          8
L8BD7:
                iny                          ; 8BD7= C8          H
                sbc #$0A                     ; 8BD8= E9 0A       i.
                bcs L8BD7                    ; 8BDA= B0 FB       0{
                adc #$0A                     ; 8BDC= 69 0A       i.
                plp                          ; 8BDE= 28          (
                jsr L8BE4                    ; 8BDF= 20 E4 8B     d.
                clc                          ; 8BE2= 18          .
                tay                          ; 8BE3= A8          (
L8BE4:
                pha                          ; 8BE4= 48          H
                tya                          ; 8BE5= 98          .
                bne L8BEA                    ; 8BE6= D0 02       P.
                bcs L8BEE                    ; 8BE8= B0 04       0.
L8BEA:
                jsr LA873                    ; 8BEA= 20 73 A8     s(
                clc                          ; 8BED= 18          .
L8BEE:
                pla                          ; 8BEE= 68          h
                rts                          ; 8BEF= 60          `

L8BF0:
                jsr L8987                    ; 8BF0= 20 87 89     ..
                phy                          ; 8BF3= 5A          Z
                jsr LA958                    ; 8BF4= 20 58 A9     X)
                .text "Configuration options:"
                .byte $0D
                .text "Baud     <D>"
                .byte $0D
                .text "Boot"
                .byte $0D
                .text "Caps"
                .byte $0D
                .text "Data     <D>"
                .byte $0D
                .text "Delay    <D>"
                .byte $0D
                .text "Dir"
                .byte $0D
                .text "ExTube"
                .byte $0D
                .text "FDrive   <D>",13
                .text "File     <D>",13
                .text "Floppy",13
                .text "Hard",13
                .text "Ignore   [<D>]",13
                .text "InTube",13
                .text "Lang     <D>",13
                .text "Loud",13
                .text "Mode     <D>",13
                .text "NoBoot",13
                .text "NoCaps",13
                .text "NoDir",13
                .text "NoScroll",13
                .text "NoTube",13
                .text "Print    <D>",13
                .text "Quiet",13
                .text "Repeat   <D>",13
                .text "Scroll",13
                .text "ShCaps",13
                .text "Tube",13
                .text "TV       [<D>[,<D>]]",13
                .byte 0
                ply                          ; 8D12= 7A
                ldx #$28                     ; 8D13= A2 28       "(
                jsr mos.makeROMServiceCall   ; 8D15= 20 72 EE     rn
                jsr LA958                    ; 8D18= 20 58 A9     X)
                .text "Where:"
                .byte $0D
                .text "D is a "
                .text "decimal number, or"
                .byte $0D
                .text "a hexadecimal number preceded by &"
                .byte $0D
                .text "Items within [ ] are optional"
                .byte $0D
                .byte $00
                rts

L8D7F:
                jsr L8987                    ; 8D7F= 20 87 89     ..
                phy                          ; 8D82= 5A          Z
                jsr LA958                    ; 8D83= 20 58 A9     X)
                .text "Configuration status:"
                .byte $0D
                .text "Baud     "
                .byte $00
                jsr L8B7D                    ; 8DA6= 20 7D 8B     }.
L8DA9:
                jsr L8AE1                    ; 8DA9= 20 E1 8A     a.
                jsr L8A66                    ; 8DAC= 20 66 8A     f.
                jsr LA958                    ; 8DAF= 20 58 A9     X)
                ; EQUB $44                   ; 8DB2= 44          D
                ; ADC ($74,x)                ; 8DB3= 61 74       at
                ; ADC ($20,x)                ; 8DB5= 61 20       a
                ; JSR $2020                  ; 8DB7= 20 20 20
                ; JSR $2000                  ; 8DBA= 20 00 20     .
                ; EQUB $82                   ; 8DBD= 82          .
                ; EQUB $8B                   ; 8DBE= 8B          .
                .text "Data     "
                .byte $00
                jsr L8B82
                jsr LA958                    ; 8DBF= 20 58 A9     X)
                .text "Delay    "
                .byte $00
                ;jsr $2000                   ; 8DCA= 20 00 20     .
                jsr L8B2E
                jsr L8BAA
                jsr L8ABB                    ; 8DD2= 20 BB 8A     ;.
                jsr LA958                    ; 8DD5= 20 58 A9     X)
                .text "FDrive   "
                .byte 0
                jsr L8B87                    ; 8DE2= 20 87 8B     ..
                jsr LA958                    ; 8DE5= 20 58 A9     X)
                .text "File     "
                .byte 0
                jsr L8B10                    ; 8DF2= 20 10 8B
                jsr L8B8E                    ; 8DF5= 20 8E 8B     ..
                jsr L8B62                    ; 8DF8= 20 62 8B     b.
                jsr LA958                    ; 8DFB= 20 58 A9     X)
                .text "Lang     "
                .byte 0
                ; JMP $6E61                  ; 8DFE= 4C 61 6E    Lan

                ; EQUB $67                   ; 8E01= 67          g
                ; JSR $2020                  ; 8E02= 20 20 20
                ; JSR $0020                  ; 8E05= 20 20 00      .
                jsr L8B08                    ; 8E08= 20 08 8B     ..
                jsr LA958                    ; 8E0B= 20 58 A9     X)
                .text "Mode     "
                .byte 0
                ; EOR $646F                  ; 8E0E= 4D 6F 64    Mod
                ; ADC $20                    ; 8E11= 65 20       e
                ; JSR $2020                  ; 8E13= 20 20 20
                ; JSR $2000                  ; 8E16= 20 00 20     .
;AND &8B          :\ 8E19= 25 8B       %.
                jsr L8B25
                jsr L8AF5                    ; 8E1B= 20 F5 8A     u.
                jsr L8A9F                    ; 8E1E= 20 9F 8A     ..
                jsr LA958                    ; 8E21= 20 58 A9     X)
                .text "Print    "
                .byte 0
                jsr L8B78                    ; 8E2E= 20 78 8B     x.
                jsr LA958                    ; 8E31= 20 58 A9     X)
                .text "Repeat   "
                .byte 0
                jsr L8B34                    ; 8E3E= 20 34 8B     4.
                jsr L8A89                    ; 8E41= 20 89 8A     ..
                jsr LA958                    ; 8E44= 20 58 A9     X)
                .text "TV       ",0
                jsr L8B17                    ; 8E51= 20 17 8B     ..
                ply                          ; 8E54= 7A          z
                ldx #$29                     ; 8E55= A2 29       ")
                jmp mos.makeROMServiceCall   ; 8E57= 4C 72 EE    Lrn

L8E5A:
                ldx #$18                     ; 8E5A= A2 18       ".
                jsr L98B7                    ; 8E5C= 20 B7 98     7.
                phy                          ; 8E5F= 5A          Z
                and #$E0                     ; 8E60= 29 E0       )`
                asl a                        ; 8E62= 0A          .
                rol a                        ; 8E63= 2A          *
                rol a                        ; 8E64= 2A          *
                rol a                        ; 8E65= 2A          *
                bit #$04                     ; 8E66= 89 04       ..
                beq L8E6C                    ; 8E68= F0 02       p.
                ora #$FC                     ; 8E6A= 09 FC       .|
L8E6C:
                tay                          ; 8E6C= A8          (
                pla                          ; 8E6D= 68          h
                ldx #$00                     ; 8E6E= A2 00       ".
                bit #$10                     ; 8E70= 89 10       ..
                beq L8E75                    ; 8E72= F0 01       p.
                inx                          ; 8E74= E8          h
L8E75:
                rts                          ; 8E75= 60          `

; Read configured MODE
; --------------------
L8E76:
                ldx #$18                     ; Read CMOS location 10 (&18-14)
                jsr L98B7
                and #$0F                     ; Keep MODE bits
                bit #$08                     ; Check shadow bit in b3
                beq L8E83
                eor #$88                     ; If >7, change to 128+n
L8E83:
                rts

L8E84:
                jsr L98AA                    ; 8E84= 20 AA 98     *.
                and #$1C                     ; 8E87= 29 1C       ).
                lsr a                        ; 8E89= 4A          J
                lsr a                        ; 8E8A= 4A          J
                inc a                        ; 8E8B= 1A          .
                rts                          ; 8E8C= 60          `

L8E8D:
                jsr L98AA                    ; 8E8D= 20 AA 98     *.
L8E90:
                and #$E0                     ; 8E90= 29 E0       )`
                asl a                        ; 8E92= 0A          .
                rol a                        ; 8E93= 2A          *
                rol a                        ; 8E94= 2A          *
                rol a                        ; 8E95= 2A          *
                rts                          ; 8E96= 60          `

L8E97:
                jsr L98AE                    ; 8E97= 20 AE 98     ..
                bra L8E90                    ; 8E9A= 80 F4       .t

L8E9C:
                jsr L8EA4                    ; 8E9C= 20 A4 8E     $.
                lsr a                        ; 8E9F= 4A          J
                lsr a                        ; 8EA0= 4A          J
                lsr a                        ; 8EA1= 4A          J
                lsr a                        ; 8EA2= 4A          J
                rts                          ; 8EA3= 60          `

L8EA4:
                ldx #$13                     ; 8EA4= A2 13       ".
                bra L8EAA                    ; 8EA6= 80 02       ..

L8EA8:
                ldx #$1C                     ; 8EA8= A2 1C       ".
L8EAA:
                jmp L98B7                    ; 8EAA= 4C B7 98    L7.

L8EAD:
                ldx #$19                     ; 8EAD= A2 19       ".
                bra L8EAA                    ; 8EAF= 80 F9       .y

L8EB1:
                jsr LA958                    ; 8EB1= 20 58 A9     X)
                .text "No ",0
                rts                          ; 8EB8= 60          `

L8EB9:
                lda #$C0                     ; 8EB9= A9 C0       )@
                sta hazel.fsFlags      ; 8EBB= 8D C2 DF    .B_
                bra L8ED2                    ; 8EBE= 80 12       ..

L8EC0:
                lsr hazel.fsFlags      ; 8EC0= 4E C2 DF    NB_
                stz hazel.lineNumberBCD+0      ; 8EC3= 9C C3 DF    .C_
                stz hazel.lineNumberBCD+1      ; 8EC6= 9C C4 DF    .D_
                bra L8ECF                    ; 8EC9= 80 04       ..

L8ECB:
                sec                          ; 8ECB= 38          8
                ror hazel.fsFlags      ; 8ECC= 6E C2 DF    nB_
L8ECF:
                lsr hazel.fsFlags      ; 8ECF= 4E C2 DF    NB_
L8ED2:
                stz hazel.lastCharPrinted      ; 8ED2= 9C C5 DF    .E_
                jsr LA545                    ; 8ED5= 20 45 A5     E%
L8ED8:
                bit $FF                      ; 8ED8= 24 FF       $.
                bmi L8F2E                    ; 8EDA= 30 52       0R
                jsr OSBGET                   ; 8EDC= 20 D7 FF     W.
                bcs L8F0F                    ; 8EDF= B0 2E       0.
                bit hazel.fsFlags      ; 8EE1= 2C C2 DF    ,B_
                bvs L8EEB                    ; 8EE4= 70 05       p.
                pha                          ; 8EE6= 48          H
                jsr L91EB                    ; 8EE7= 20 EB 91     k.
                pla                          ; 8EEA= 68          h
L8EEB:
                bit hazel.fsFlags      ; 8EEB= 2C C2 DF    ,B_
                bmi L8F04                    ; 8EEE= 30 14       0.
                cmp #$0D                     ; 8EF0= C9 0D       I.
                beq L8F14                    ; 8EF2= F0 20       p
                cmp #$0A                     ; 8EF4= C9 0A       I.
                beq L8F14                    ; 8EF6= F0 1C       p.
                sta hazel.lastCharPrinted      ; 8EF8= 8D C5 DF    .E_
                cmp #$22                     ; 8EFB= C9 22       I"
                beq L8F04                    ; 8EFD= F0 05       p.
                jsr L9606                    ; 8EFF= 20 06 96     ..
                bra L8F07                    ; 8F02= 80 03       ..

L8F04:
                jsr OSWRCH                   ; 8F04= 20 EE FF     n.
L8F07:
                jsr L8F3A                    ; 8F07= 20 3A 8F     :.
                bcc L8EEB                    ; 8F0A= 90 DF       ._
L8F0C:
                jsr OSNEWL                   ; 8F0C= 20 E7 FF     g.
L8F0F:
                lda #$00                     ; 8F0F= A9 00       ).
                jmp OSFIND                   ; 8F11= 4C CE FF    LN.

L8F14:
                cmp hazel.lastCharPrinted      ; 8F14= CD C5 DF    ME_
                beq L8F29                    ; 8F17= F0 10       p.
                pha                          ; 8F19= 48          H
                lda hazel.lastCharPrinted      ; 8F1A= AD C5 DF    -E_
                cmp #$0D                     ; 8F1D= C9 0D       I.
                beq L8F34                    ; 8F1F= F0 13       p.
                cmp #$0A                     ; 8F21= C9 0A       I.
                beq L8F34                    ; 8F23= F0 0F       p.
                pla                          ; 8F25= 68          h
                sta hazel.lastCharPrinted      ; 8F26= 8D C5 DF    .E_
L8F29:
                jsr OSNEWL                   ; 8F29= 20 E7 FF     g.
                bra L8ED8                    ; 8F2C= 80 AA       .*

L8F2E:
                jsr L8F0C                    ; 8F2E= 20 0C 8F     ..
                jmp LA891                    ; 8F31= 4C 91 A8    L.(

L8F34:
                pla                          ; 8F34= 68          h
                stz hazel.lastCharPrinted      ; 8F35= 9C C5 DF    .E_
                bra L8F07                    ; 8F38= 80 CD       .M

L8F3A:
                jsr OSBGET                   ; 8F3A= 20 D7 FF     W.
                bit $FF                      ; 8F3D= 24 FF       $.
                bmi L8F2E                    ; 8F3F= 30 ED       0m
                rts                          ; 8F41= 60          `

L8F42:
                stx $F2                      ; 8F42= 86 F2       .r
                sty $F3                      ; 8F44= 84 F3       .s
                ldx #$00                     ; 8F46= A2 00       ".
                jsr L92BC                    ; 8F48= 20 BC 92     <.
                ldx #$04                     ; 8F4B= A2 04       ".
                jsr L92BC                    ; 8F4D= 20 BC 92     <.
                ldy #$00                     ; 8F50= A0 00        .
                lsr hazel.tempFSFlag      ; 8F52= 4E C6 DF    NF_
                jsr mos.LF26D             ; 8F55= 20 6D F2     mr
L8F58:
                jsr mos.gsreadEntryPoint     ; 8F58= 20 7F F2     .r
                bcc L8F58                    ; 8F5B= 90 FB       .{
                beq L8F79                    ; 8F5D= F0 1A       p.
                ldx #$00                     ; 8F5F= A2 00       ".
                jsr L935B                    ; 8F61= 20 5B 93     [.
                ldx #$03                     ; 8F64= A2 03       ".
L8F66:
                lda $02ED,x                  ; 8F66= BD ED 02    =m.
                sta $02F1,x                  ; 8F69= 9D F1 02    .q.
                dex                          ; 8F6C= CA          J
                bpl L8F66                    ; 8F6D= 10 F7       .w
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 8F6F= 20 FF F2     .r
                beq L8F79                    ; 8F72= F0 05       p.
                ldx #$04                     ; 8F74= A2 04       ".
                jsr L935B                    ; 8F76= 20 5B 93     [.
L8F79:
                ldy $F3                      ; 8F79= A4 F3       $s
                ldx $F2                      ; 8F7B= A6 F2       &r
                asl hazel.tempFSFlag      ; 8F7D= 0E C6 DF    .F_
                jsr LA545                    ; 8F80= 20 45 A5     E%
                lda #$02                     ; 8F83= A9 02       ).
                jsr L9461                    ; 8F85= 20 61 94     a.
                ldx #$03                     ; 8F88= A2 03       ".
L8F8A:
                lda $A8,x                    ; 8F8A= B5 A8       5(
                cmp $02ED,x                  ; 8F8C= DD ED 02    ]m.
                bcc L8FFB                    ; 8F8F= 90 6A       .j
                bne L8F96                    ; 8F91= D0 03       P.
                dex                          ; 8F93= CA          J
                bpl L8F8A                    ; 8F94= 10 F4       .t
L8F96:
                ldx #$03                     ; 8F96= A2 03       ".
L8F98:
                lda $02ED,x                  ; 8F98= BD ED 02    =m.
                sta $A8,x                    ; 8F9B= 95 A8       .(
                dex                          ; 8F9D= CA          J
                bpl L8F98                    ; 8F9E= 10 F8       .x
                jsr L945F                    ; 8FA0= 20 5F 94     _.
L8FA3:
                ldx #$00                     ; 8FA3= A2 00       ".
                jsr OSBGET                   ; 8FA5= 20 D7 FF     W.
                bcs L8FF0                    ; 8FA8= B0 46       0F
                jsr L9239                    ; 8FAA= 20 39 92     9.
                pha                          ; 8FAD= 48          H
                lda $02F1                    ; 8FAE= AD F1 02    -q.
                and #$07                     ; 8FB1= 29 07       ).
                beq L8FCA                    ; 8FB3= F0 15       p.
                phy                          ; 8FB5= 5A          Z
                tay                          ; 8FB6= A8          (
L8FB7:
                phy                          ; 8FB7= 5A          Z
                jsr LA958                    ; 8FB8= 20 58 A9     X)
                .text "   ",0
                ply                          ; 8FBF= 7A          z
                lda #$20                     ; 8FC0= A9 20       )
                sta $02F5,x                  ; 8FC2= 9D F5 02    .u.
                inx                          ; 8FC5= E8          h
                dey                          ; 8FC6= 88          .
                bne L8FB7                    ; 8FC7= D0 EE       Pn
                ply                          ; 8FC9= 7A          z
L8FCA:
                pla                          ; 8FCA= 68          h
L8FCB:
                pha                          ; 8FCB= 48          H
                cmp #$20                     ; 8FCC= C9 20       I
                bcc L8FD4                    ; 8FCE= 90 04       ..
                cmp #$7F                     ; 8FD0= C9 7F       I.
                bcc L8FD6                    ; 8FD2= 90 02       ..
L8FD4:
                lda #$2E                     ; 8FD4= A9 2E       ).
L8FD6:
                sta $02F5,x                  ; 8FD6= 9D F5 02    .u.
                pla                          ; 8FD9= 68          h
                jsr LA865                    ; 8FDA= 20 65 A8     e(
                inx                          ; 8FDD= E8          h
                jsr L9248                    ; 8FDE= 20 48 92     H.
                lda $02F1                    ; 8FE1= AD F1 02    -q.
                and #$07                     ; 8FE4= 29 07       ).
                beq L8FF3                    ; 8FE6= F0 0B       p.
                jsr L8F3A                    ; 8FE8= 20 3A 8F     :.
                bcc L8FCB                    ; 8FEB= 90 DE       .^
                jsr L9257                    ; 8FED= 20 57 92     W.
L8FF0:
                jmp L8F0F                    ; 8FF0= 4C 0F 8F    L..

L8FF3:
                jsr L9257                    ; 8FF3= 20 57 92     W.
                bra L8FA3                    ; 8FF6= 80 AB       .+

L8FF8:
                jmp LA54D                    ; 8FF8= 4C 4D A5    LM%

L8FFB:
                jsr L8F0F                    ; 8FFB= 20 0F 8F     ..
                jsr LAAED                    ; 8FFE= 20 ED AA     m*
                .text $b7,"Outside file",0

; *BUILD
; ======
L900F:
                lsr hazel.fsFlags      ; 900F= 4E C2 DF    NB_
                bra L9018                    ; 9012= 80 04       ..
L9014:
                sec                          ; 9014= 38          8
                ror hazel.fsFlags      ; 9015= 6E C2 DF    nB_
L9018:
                stz hazel.lineNumberBCD+0      ; 9018= 9C C3 DF    .C_
                stz hazel.lineNumberBCD+1      ; 901B= 9C C4 DF    .D_
                lda #$80                     ; 901E= A9 80       ).
                bit hazel.fsFlags      ; 9020= 2C C2 DF    ,B_
                bpl L9027                    ; 9023= 10 02       ..
                lda #$C0                     ; 9025= A9 C0       )@
L9027:
                jsr OSFIND                   ; 9027= 20 CE FF     N.
                tay                          ; 902A= A8          (
                beq L8FF8                    ; 902B= F0 CB       pK
                sty $02ED                    ; 902D= 8C ED 02    .m.
                jsr L945A                    ; 9030= 20 5A 94     Z.
L9033:
                jsr L91EB                    ; 9033= 20 EB 91     k.
L9036:
                jsr L869D                    ; 9036= 20 9D 86     ..
                php                          ; 9039= 08          .
                bcc L904B                    ; 903A= 90 0F       ..
                jsr OSNEWL                   ; 903C= 20 E7 FF     g.
                lda #$0D                     ; 903F= A9 0D       ).
                sta hazel.commandLine,y      ; 9041= 99 00 DC    ..\
L9044:
                phy                          ; 9044= 5A          Z
                lda #$7E                     ; 9045= A9 7E       )~
                jsr OSBYTE                   ; 9047= 20 F4 FF     t.
                ply                          ; 904A= 7A          z
L904B:
                tya                          ; 904B= 98          .
                beq L909E                    ; 904C= F0 50       pP
                jsr L90AB                    ; 904E= 20 AB 90     +.
                ldy #$00                     ; 9051= A0 00        .
                ldx #$00                     ; 9053= A2 00       ".
L9055:
                jsr mos.LF29C                ; 9055= 20 9C F2     .r
                sta hazel.commandLine,x      ; 9058= 9D 00 DC    ..\
                lda #$01                     ; 905B= A9 01       ).
                bit $E4                      ; 905D= 24 E4       $d
                bne L906C                    ; 905F= D0 0B       P.
                lda #$07                     ; 9061= A9 07       ).
                jsr OSWRCH                   ; 9063= 20 EE FF     n.
                jsr L91F5                    ; 9066= 20 F5 91     u.
                plp                          ; 9069= 28          (
                bra L9036                    ; 906A= 80 CA       .J

L906C:
                inx                          ; 906C= E8          h
                bcc L9055                    ; 906D= 90 E6       .f
                plp                          ; 906F= 28          (
                bcc L9073                    ; 9070= 90 01       ..
                dex                          ; 9072= CA          J
L9073:
                php                          ; 9073= 08          .
                phx                          ; 9074= DA          Z
                ldx #$0B                     ; 9075= A2 0B       ".
L9077:
                stz $02EE,x                  ; 9077= 9E EE 02    .n.
                dex                          ; 907A= CA          J
                bpl L9077                    ; 907B= 10 FA       .z
                plx                          ; 907D= FA          z
                stx $02F2                    ; 907E= 8E F2 02    .r.
                lda #$DC                     ; 9081= A9 DC       )\
                sta $02EF                    ; 9083= 8D EF 02    .o.
                dec $02F0                    ; 9086= CE F0 02    Np.
                dec $02F1                    ; 9089= CE F1 02    Nq.
                lda #$02                     ; 908C= A9 02       ).
                ldx #$ED                     ; 908E= A2 ED       "m
                ldy #$02                     ; 9090= A0 02        .
                jsr OSGBPB                   ; 9092= 20 D1 FF     Q.
                plp                          ; 9095= 28          (
                bcc L9033                    ; 9096= 90 9B       ..
L9098:
                ldy $02ED                    ; 9098= AC ED 02    ,m.
                jmp L8F0F                    ; 909B= 4C 0F 8F    L..

L909E:
                plp                          ; 909E= 28          (
                bcs L9098                    ; 909F= B0 F7       0w
                lda #$0D                     ; 90A1= A9 0D       ).
                ldy $02ED                    ; 90A3= AC ED 02    ,m.
                jsr OSBPUT                   ; 90A6= 20 D4 FF     T.
                bra L9033                    ; 90A9= 80 88       ..

L90AB:
                lda #$41                     ; 90AB= A9 41       )A
                sta $E4                      ; 90AD= 85 E4       .d
                stz $F2                      ; 90AF= 64 F2       dr
                lda #$DC                     ; 90B1= A9 DC       )\
                sta $F3                      ; 90B3= 85 F3       .s
                rts                          ; 90B5= 60          `

; *MOVE
; =====
L90B6:
                lda ACCCON                    ; Save ACCCON
                sta hazel.oldACCCON
                pha                          ; Save ACCCON and command line pointer
                phx
                phy
                ldy #$80                     ; Top of available shadow memory at &8000
                lda STATE                      ; Get VDU status
                bit #$10                     ; Jump if not shadow screen, spare up to &8000
                beq L90CE
; Shadow screen selected
                jsr mos.LF1C0                ; Get screen bottom to XY
                cpy #$30                     ; Screen at &3000, no spare memory, jump to use Hazel
                beq L90E2

; Non-shadow or small shadow screen selected
; Y=top of available memory in shadow memory
L90CE:
                lda #$30                     ; &3000=start of shadow memory
                sta hazel.moveBufferMSB
                lda #$04
                tsb ACCCON
                sta hazel.hasACCCONChanged      ; set 'ACCCON changed'
                tya                          ; A=length of space in shadow memory
                sec
                sbc hazel.moveBufferMSB
                bra L90E9

; No shadow memory available, use Hazel
L90E2:
                lda #$DD                     ; Buffer at &DD00
                sta hazel.moveBufferMSB
                lda #$02                     ; Buffer length=&200

; &DFD6=high byte of buffer address
; A=high byte of buffer length
L90E9:
                sta hazel.moveNumPages      ; Store buffer length
                ply                          ; Get command line pointer
                plx
                phx
                phy
                lda #$40                     ; Open source file
                jsr OSFIND
                tay                          ; Store source handle, jump if not found
                sty hazel.moveSrcHandle
                beq L9134
                ply                          ; Get command line back again
                plx
                stx $F2
                sty $F3
                phx                          ; And save it again
                phy
                ldy #$00                     ; Step past first parameter
                jsr mos.LF26D                ;
L9108:
                jsr mos.gsreadEntryPoint     ;
                bcc L9108
                tya                          ; Save address of dest filename
                clc
                adc $F2
                sta hazel.moveDestName+0
                tax
                lda $F3
                adc #$00
                sta hazel.moveDestName+1
                tay                          ; Temporary filing system flag
                asl hazel.tempFSFlag
                lda #$80                     ; Open destination file
                jsr OSFIND
                tay                          ; Store dest handle, jump if opened
                sty hazel.moveDestHandle
                bne L9137

; Couldn't open destination
                ldy hazel.moveSrcHandle      ; Get source handle and clear it
                stz hazel.moveSrcHandle
                jsr OSFIND                   ; Close source file
L9134:
                jmp LA54D                    ; Jump to 'Not found' error

; Source and dest opened
; ----------------------
; Build OSGBPB source file control block at &02ED
; and destination control block at &DFC7
L9137:
                ldx #$07
L9139:
                stz $02EE,x                  ; Addr=0, Num=0
                stz hazel.moveOSGBPB+1,x
                dex
                bpl L9139
                lda hazel.moveSrcHandle      ; Source handle
                sta $02ED
                lda hazel.moveBufferMSB      ; Buffer address
                sta $02EF
                sta hazel.moveOSGBPB.addr+1
                lda hazel.moveNumPages
                sta $02F3
                sta hazel.moveOSGBPB.numBytes+1
                dec $02F0                    ; Source addr=&FFFFxxxx
                dec $02F1
                dec hazel.moveOSGBPB.addr+2
                dec hazel.moveOSGBPB.addr+3

; Should use &FFFExxxx and let filing system select correct memory
; Unfortunately, CFS/RFS and DFS do not recognise &FFFExxxx, so
; *MOVE has to do it itself, causing problems for filing systems
; that /do/ recognise &FFFExxxx where they have to remember to
; *do* *nothing* for &FFFFxxxx instead of select main memory as
; &FFFFxxxx implies.

                ldx #$ED                     ; XY=>source OSGBPB block
                ldy #$02
                lda #$04                     ; Read data from source
                jsr OSGBPB
                php                          ; Jump if not at end of file
                bcc L9183
; End of file, adjust destination buffer length for final part
                lda #$00
                sbc $02F2
                sta hazel.moveOSGBPB.numBytes+0
                lda hazel.moveOSGBPB.numBytes+1
                sbc $02F3
                sta hazel.moveOSGBPB.numBytes+1
L9183:
                lda hazel.moveDestHandle      ; Destination handle
                sta hazel.moveOSGBPB.handle
                lda #$02                     ; XY=>control block, A=write
                ldx #<hazel.moveOSGBPB
                ldy #>hazel.moveOSGBPB
                jsr OSGBPB
                plp                          ; Loop until end of file
                bcc L9137
                lda #$00
                ldy hazel.moveSrcHandle      ; Get and clear source handle
                stz hazel.moveSrcHandle
                phy                          ; Close source file
                jsr OSFIND
                lda #$00                     ; Get dest handle
                ldy hazel.moveDestHandle
                phy                          ; Clear dest handle and close file
                stz hazel.moveDestHandle
                jsr OSFIND
                ply                          ; Dest not CFS/RFS, jump to...
                cpy #$04
                bcs L91BD
                ply                          ; Pop source handle
L91B3:
                ply                          ; Restore XY
                plx
L91B5:
                pla                          ; Clear 'ACCCON changed', restore ACCCON
                stz hazel.hasACCCONChanged
                sta ACCCON
                rts

L91BD:
                ply                          ; Source was CFS/RFS, jump to exit
                cpy #$04
                bcc L91B3
                ply                          ; Point to first parameter
                sty $02EE
                plx
                stx $02ED
                ldx #$ED
                ldy #$02
                lda #$05                     ; Read info on source file
                jsr OSFILE
                lda hazel.moveDestName+0      ; Get address of dest filename
                sta $02ED
                lda hazel.moveDestName+1      ;  and put in control block
                sta $02EE
                lda #$F0                     ; Mask out 'public' access bits
                trb $02FB
                lda #$01                     ; Write info on dest file
                jsr OSFILE
                bra L91B5                    ; Jump to restore ACCCON and exit

L91EB:
                ldx #$00                     ; 91EB= A2 00       ".
                sec                          ; 91ED= 38          8
                jsr L922E                    ; 91EE= 20 2E 92     ..
                inx                          ; 91F1= E8          h
                jsr L922E                    ; 91F2= 20 2E 92     ..
L91F5:
                sec                          ; 91F5= 38          8
                lda hazel.lineNumberBCD+1      ; 91F6= AD C4 DF    -D_
                jsr L9211                    ; 91F9= 20 11 92     ..
                lda hazel.lineNumberBCD+0      ; 91FC= AD C3 DF    -C_
                pha                          ; 91FF= 48          H
                php                          ; 9200= 08          .
                lsr a                        ; 9201= 4A          J
                lsr a                        ; 9202= 4A          J
                lsr a                        ; 9203= 4A          J
                lsr a                        ; 9204= 4A          J
                plp                          ; 9205= 28          (
                jsr L921C                    ; 9206= 20 1C 92     ..
                pla                          ; 9209= 68          h
                clc                          ; 920A= 18          .
                jsr L921C                    ; 920B= 20 1C 92     ..
                jmp L9F0C                    ; 920E= 4C 0C 9F    L..

L9211:
                pha                          ; 9211= 48          H
                php                          ; 9212= 08          .
                lsr a                        ; 9213= 4A          J
                lsr a                        ; 9214= 4A          J
                lsr a                        ; 9215= 4A          J
                lsr a                        ; 9216= 4A          J
                plp                          ; 9217= 28          (
                jsr L921C                    ; 9218= 20 1C 92     ..
                pla                          ; 921B= 68          h
L921C:
                and #$0F                     ; 921C= 29 0F       ).
                bne L9229                    ; 921E= D0 09       P.
                bcc L9229                    ; 9220= 90 07       ..
                lda #$20                     ; 9222= A9 20       )
                jsr OSWRCH                   ; 9224= 20 EE FF     n.
                sec                          ; 9227= 38          8
                rts                          ; 9228= 60          `

L9229:
                jsr LA873                    ; 9229= 20 73 A8     s(
                clc                          ; 922C= 18          .
                rts                          ; 922D= 60          `

L922E:
                lda #$00                     ; 922E= A9 00       ).
                sed                          ; 9230= F8          x
                adc hazel.lineNumberBCD,x    ; 9231= 7D C3 DF    }C_
                sta hazel.lineNumberBCD,x    ; 9234= 9D C3 DF    .C_
                cld                          ; 9237= D8          X
L9238:
                rts                          ; 9238= 60          `

L9239:
                phx                          ; 9239= DA          Z
                pha                          ; 923A= 48          H
                ldx #$02                     ; 923B= A2 02       ".
L923D:
                lda $02F1,x                  ; 923D= BD F1 02    =q.
                jsr LA86A                    ; 9240= 20 6A A8     j(
                dex                          ; 9243= CA          J
                bpl L923D                    ; 9244= 10 F7       .w
                bra L9254                    ; 9246= 80 0C       ..

L9248:
                phx                          ; 9248= DA          Z
                pha                          ; 9249= 48          H
                ldx #$FC                     ; 924A= A2 FC       "|
L924C:
                inc $01F5,x                  ; 924C= FE F5 01    ~u.
                bne L9254                    ; 924F= D0 03       P.
                inx                          ; 9251= E8          h
                bne L924C                    ; 9252= D0 F8       Px
L9254:
                pla                          ; 9254= 68          h
                plx                          ; 9255= FA          z
                rts                          ; 9256= 60          `

L9257:
                phy                          ; 9257= 5A          Z
                phx                          ; 9258= DA          Z
L9259:
                cpx #$08                     ; 9259= E0 08       `.
                beq L9267                    ; 925B= F0 0A       p.
                jsr LA958                    ; 925D= 20 58 A9     X)
                .text "   ",0
                inx                          ; 9264= E8          h
                bra L9259                    ; 9265= 80 F2       .r

L9267:
                plx                          ; 9267= FA          z
                jsr L9F0C                    ; 9268= 20 0C 9F     ..
                ldy #$00                     ; 926B= A0 00        .
L926D:
                lda $02F5,y                  ; 926D= B9 F5 02    9u.
                jsr OSWRCH                   ; 9270= 20 EE FF     n.
                iny                          ; 9273= C8          H
                dex                          ; 9274= CA          J
                bne L926D                    ; 9275= D0 F6       Pv
                ply                          ; 9277= 7A          z
                jmp OSNEWL                   ; 9278= 4C E7 FF    Lg.

L927B:
                ldx #$07                     ; 927B= A2 07       ".
L927D:
                php                          ; 927D= 08          .
                sei                          ; 927E= 78          x
                lda #$B9                     ; 927F= A9 B9       )9
                sta $F1                      ; 9281= 85 F1       .q
                lda #$89                     ; 9283= A9 89       ).
L9285:
                sta $FB                      ; 9285= 85 FB       .{
                jsr mos.LE598                ; 9287= 20 98 E5     .e
                phy                          ; 928A= 5A          Z
                ldy #$00                     ; 928B= A0 00        .
                stz $FA                      ; 928D= 64 FA       dz
                stz $F0                      ; 928F= 64 F0       dp
L9291:
                lda ($F0),y                  ; 9291= B1 F0       1p
                sta ($FA),y                  ; 9293= 91 FA       .z
                iny                          ; 9295= C8          H
                bne L9291                    ; 9296= D0 F9       Py
                inc $F1                      ; 9298= E6 F1       fq
                inc $FB                      ; 929A= E6 FB       f{
                dex                          ; 929C= CA          J
                bne L9291                    ; 929D= D0 F2       Pr
                ply                          ; 929F= 7A          z
                plp                          ; 92A0= 28          (
                jmp mos.selectTerminalROM    ; 92A1= 4C 90 E5    L.e

L92A4:
                ldx #$03                     ; 92A4= A2 03       ".
                bra L927D                    ; 92A6= 80 D5       .U

L92A8:
                txa                          ; 92A8= 8A          .
                beq L927B                    ; 92A9= F0 D0       pP
                cmp #$08                     ; 92AB= C9 08       I.
                bcs L9238                    ; 92AD= B0 89       0.
                php                          ; 92AF= 08          .
                sei                          ; 92B0= 78          x
                adc #$B8                     ; 92B1= 69 B8       i8
                sta $F1                      ; 92B3= 85 F1       .q
                txa                          ; 92B5= 8A          .
                ldx #$01                     ; 92B6= A2 01       ".
                adc #$88                     ; 92B8= 69 88       i.
                bra L9285                    ; 92BA= 80 C9       .I

L92BC:
                stz $02ED,x                  ; 92BC= 9E ED 02    .m.
                stz $02EE,x                  ; 92BF= 9E EE 02    .n.
                stz $02EF,x                  ; 92C2= 9E EF 02    .o.
                stz $02F0,x                  ; 92C5= 9E F0 02    .p.
                rts                          ; 92C8= 60          `

L92C9:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; Skip spaces
                jsr readHexDigit             ; 92CC= 20 48 86     H.
                bcc L92F4                    ; 92CF= 90 23       .#
                jsr L92BC                    ; 92D1= 20 BC 92     <.
L92D4:
                phy                          ; 92D4= 5A          Z
                rol a                        ; 92D5= 2A          *
                rol a                        ; 92D6= 2A          *
                rol a                        ; 92D7= 2A          *
                rol a                        ; 92D8= 2A          *
                ldy #$04                     ; 92D9= A0 04        .
L92DB:
                rol a                        ; 92DB= 2A          *
                rol $02ED,x                  ; 92DC= 3E ED 02    >m.
                rol $02EE,x                  ; 92DF= 3E EE 02    >n.
                rol $02EF,x                  ; 92E2= 3E EF 02    >o.
                rol $02F0,x                  ; 92E5= 3E F0 02    >p.
                bcs L934B                    ; 92E8= B0 61       0a
                dey                          ; 92EA= 88          .
                bne L92DB                    ; 92EB= D0 EE       Pn
                ply                          ; 92ED= 7A          z
                jsr readHexDigit             ; 92EE= 20 48 86     H.
                bcs L92D4                    ; 92F1= B0 E1       0a
                sec                          ; 92F3= 38          8
L92F4:
                rts                          ; 92F4= 60          `

; *GO (<addr>)
; ============
L92F5:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; Skip spaces
                bne L92FD                    ; Jump to read parameters
                jmp L8661                    ; No parameters, enter CLICOM

; *GOIO <addr>
; ============
L92FD:
                ldx #$00                     ; Use &02ED-&02F0
                jsr L935B                    ; Read hex address
                jsr mos.skipSpacesAndCheckForCRInStringInput ; Skip spaces
                php                          ; Update &F2/3 to point to any further parameters
                tya
                clc
                adc $F2
                sta $F2
                bcc L9310
                inc $F3
L9310:
                ldy #$00                     ; (&F2),y=>parameters, EQ if no parameters
                plp
                jmp ($02ED)                  ; Jump to address

L9316:
                lda #$FF                     ; 9316= A9 FF       ).
L9318:
                lsr hazel.tempFSFlag      ; 9318= 4E C6 DF    NF_
L931B:
                stx $F2                      ; 931B= 86 F2       .r
                sty $F3                      ; 931D= 84 F3       .s
                stx $02ED                    ; 931F= 8E ED 02    .m.
                sty $02EE                    ; 9322= 8C EE 02    .n.
                pha                          ; 9325= 48          H
                ldx #$02                     ; 9326= A2 02       ".
                jsr L92BC                    ; 9328= 20 BC 92     <.
                ldx #$0A                     ; 932B= A2 0A       ".
                jsr L92BC                    ; 932D= 20 BC 92     <.
                ldy #$FF                     ; 9330= A0 FF        .
                sty $02F3                    ; 9332= 8C F3 02    .s.
                iny                          ; 9335= C8          H
                jsr mos.LF26D                ; 9336= 20 6D F2     mr
L9339:
                jsr mos.gsreadEntryPoint     ; 9339= 20 7F F2     .r
                bcc L9339                    ; 933C= 90 FB       .{
                pla                          ; 933E= 68          h
                pha                          ; 933F= 48          H
                bpl L9392                    ; 9340= 10 50       .P
                ldx #$02                     ; 9342= A2 02       ".
                jsr L92C9                    ; 9344= 20 C9 92     I.
                bcs L9361                    ; 9347= B0 18       0.
                beq L9366                    ; 9349= F0 1B       p.
L934B:
                jsr LAAED                    ; 934B= 20 ED AA     m*
                .text $fc,"Bad address",0
L935B:
                jsr L92C9                    ; Read hex address
                bcc L934B                    ; Jump with bad address
                rts

L9361:
                bne L93E2                    ; 9361= D0 7F       P.
                inc $02F3                    ; 9363= EE F3 02    ns.
L9366:
                asl hazel.tempFSFlag      ; 9366= 0E C6 DF    .F_
L9369:
                ldx #$ED                     ; 9369= A2 ED       "m
                ldy #$02                     ; 936B= A0 02        .
                pla                          ; 936D= 68          h
                jmp OSFILE                   ; 936E= 4C DD FF    L].

L9371:
                stx $02ED                    ; 9371= 8E ED 02    .m.
                sty $02EE                    ; 9374= 8C EE 02    .n.
                lda #$06                     ; 9377= A9 06       ).
                pha                          ; 9379= 48          H
                bra L9369                    ; 937A= 80 ED       .m

L937C:
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 937C= 20 FF F2     .r
                bne L93E2                    ; 937F= D0 61       Pa
                lda #$00                     ; 9381= A9 00       ).
                tay                          ; 9383= A8          (
                jmp (FINDV)                  ; 9384= 6C 1C 02    l..

L9387:
                bne L938E                    ; 9387= D0 05       P.
                sec                          ; 9389= 38          8
                ror $0246                    ; 938A= 6E 46 02    nF.
                rts                          ; 938D= 60          `

L938E:
                lda #$06                     ; 938E= A9 06       ).
                bra L93EB                    ; 9390= 80 59       .Y

L9392:
                bne L939B                    ; 9392= D0 07       P.
                ldx #$0A                     ; 9394= A2 0A       ".
                jsr L92C9                    ; 9396= 20 C9 92     I.
                bcc L93E2                    ; 9399= 90 47       .G
L939B:
                clv                          ; 939B= B8          8
                lda ($F2),y                  ; 939C= B1 F2       1r
                cmp #$2B                     ; 939E= C9 2B       I+
                bne L93A6                    ; 93A0= D0 04       P.
                bit mos.LE34E                ; 93A2= 2C 4E E3    ,Nc
                iny                          ; 93A5= C8          H
L93A6:
                ldx #$0E                     ; 93A6= A2 0E       ".
                jsr L92C9                    ; 93A8= 20 C9 92     I.
                bcc L93E2                    ; 93AB= 90 35       .5
                php                          ; 93AD= 08          .
                bvc L93BF                    ; 93AE= 50 0F       P.
                ldx #$FC                     ; 93B0= A2 FC       "|
                clc                          ; 93B2= 18          .
L93B3:
                lda $01FB,x                  ; 93B3= BD FB 01    ={.
                adc $01FF,x                  ; 93B6= 7D FF 01    }..
                sta $01FF,x                  ; 93B9= 9D FF 01    ...
                inx                          ; 93BC= E8          h
                bne L93B3                    ; 93BD= D0 F4       Pt
L93BF:
                ldx #$03                     ; 93BF= A2 03       ".
L93C1:
                lda $02F7,x                  ; 93C1= BD F7 02    =w.
                sta $02F3,x                  ; 93C4= 9D F3 02    .s.
                sta $02EF,x                  ; 93C7= 9D EF 02    .o.
                dex                          ; 93CA= CA          J
                bpl L93C1                    ; 93CB= 10 F4       .t
                plp                          ; 93CD= 28          (
                beq L9366                    ; 93CE= F0 96       p.
                ldx #$06                     ; 93D0= A2 06       ".
                jsr L92C9                    ; 93D2= 20 C9 92     I.
                bcc L93E2                    ; 93D5= 90 0B       ..
                beq L9366                    ; 93D7= F0 8D       p.
                ldx #$02                     ; 93D9= A2 02       ".
                jsr L92C9                    ; 93DB= 20 C9 92     I.
                bcc L93E2                    ; 93DE= 90 02       ..
                beq L9366                    ; 93E0= F0 84       p.
L93E2:
                jmp mos.LFBED                ; 93E2= 4C ED FB    Lm{

L93E5:
                jsr parseNumberFromString    ; 93E5= 20 E6 85     f.
                bcc L93E2                    ; 93E8= 90 F8       .x
                txa                          ; 93EA= 8A          .
L93EB:
                php                          ; 93EB= 08          .
                lsr hazel.tempFSFlag      ; 93EC= 4E C6 DF    NF_
                plp                          ; 93EF= 28          (
                pha                          ; 93F0= 48          H
                stz $E5                      ; 93F1= 64 E5       de
                stz $E4                      ; 93F3= 64 E4       dd
                jsr mos.LF308                ; 93F5= 20 08 F3     .s
                beq L9412                    ; 93F8= F0 18       p.
                jsr parseNumberFromString    ; 93FA= 20 E6 85     f.
                bcc L93E2                    ; 93FD= 90 E3       .c
                stx $E5                      ; 93FF= 86 E5       .e
                jsr mos.LF30A                ; 9401= 20 0A F3     .s
                beq L9412                    ; 9404= F0 0C       p.
                jsr parseNumberFromString    ; 9406= 20 E6 85     f.
                bcc L93E2                    ; 9409= 90 D7       .W
                stx $E4                      ; 940B= 86 E4       .d
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 940D= 20 FF F2     .r
                bne L93E2                    ; 9410= D0 D0       PP
L9412:
                ldy $E4                      ; 9412= A4 E4       $d
                ldx $E5                      ; 9414= A6 E5       &e
                pla                          ; 9416= 68          h
                asl hazel.tempFSFlag      ; 9417= 0E C6 DF    .F_
                jsr OSBYTE                   ; 941A= 20 F4 FF     t.
                bvs L93E2                    ; 941D= 70 C3       pC
L941F:
                rts                          ; 941F= 60          `

L9420:
                sec                          ; 9420= 38          8
                bra L9433                    ; 9421= 80 10       ..

L9423:
                ldx #romServiceCallSpoolExecClosureWarning
                jsr mos.makeROMServiceCall   ; 9425= 20 72 EE     rn
                beq L941F                    ; 9428= F0 F5       pu
                jsr LA58B                    ; 942A= 20 8B A5     .%
                lda $0257                    ; 942D= AD 57 02    -W.
                jsr LA56B                    ; 9430= 20 6B A5     k%
L9433:
                php                          ; 9433= 08          .
                phy                          ; 9434= 5A          Z
                ldy $0257                    ; 9435= AC 57 02    ,W.
                sta $0257                    ; 9438= 8D 57 02    .W.
                beq L9440                    ; 943B= F0 03       p.
                jsr OSFIND                   ; 943D= 20 CE FF     N.
L9440:
                lsr hazel.tempFSFlag      ; 9440= 4E C6 DF    NF_
                ply                          ; 9443= 7A          z
                plp                          ; 9444= 28          (
                beq L941F                    ; 9445= F0 D8       pX
                lda #$80                     ; 9447= A9 80       ).
                bcc L944D                    ; 9449= 90 02       ..
                lda #$C0                     ; 944B= A9 C0       )@
L944D:
                asl hazel.tempFSFlag      ; 944D= 0E C6 DF    .F_
                jsr OSFIND                   ; 9450= 20 CE FF     N.
                tay                          ; 9453= A8          (
                beq L93E2                    ; 9454= F0 8C       p.
                sta $0257                    ; 9456= 8D 57 02    .W.
                tay                          ; 9459= A8          (
L945A:
                lda #$02                     ; 945A= A9 02       ).
                jsr L9461                    ; 945C= 20 61 94     a.
L945F:
                lda #$01                     ; 945F= A9 01       ).
L9461:
                ldx #$A8                     ; 9461= A2 A8       "(
                jmp OSARGS                   ; 9463= 4C DA FF    LZ.

L9466:
                lda #$72                     ; 9466= A9 72       )r
                bra L93EB                    ; 9468= 80 81       ..

L946A:
                jsr L9371                    ; 946A= 20 71 93     q.
                tay                          ; 946D= A8          (
                bne L941F                    ; 946E= D0 AF       P/
                jmp LA54D                    ; 9470= 4C 4D A5    LM%

L9473:
                jsr parseNumberFromString    ; 9473= 20 E6 85     f.
                bcc L947C                    ; 9476= 90 04       ..
                cpx #$10                     ; 9478= E0 10       `.
                bcc L941F                    ; 947A= 90 A3       .#
L947C:
                jsr LAAED                    ; 947C= 20 ED AA     m*
                .byte $FB                    ; 947F= FB          {
                .text "Bad key"
                .byte 0

L9488:
                jsr L9473                    ; 9488 20 73 94
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 948B 20 FF F2
                bne L947C                    ; 948E D0 EC
                lda #$22                     ; 9490 A9 22
                jsr OSWRCH                   ; 9492= 20 EE FF     n.
                lda $F4                      ; 9495= A5 F4       %t
                pha                          ; 9497= 48          H
                jsr mos.LE598                ; 9498= 20 98 E5     .e
                lda L8000,x                  ; 949B= BD 00 80    =..
                sta $F2                      ; 949E= 85 F2       .r
                lda L8011,x                  ; 94A0= BD 11 80    =..
                sta $F3                      ; 94A3= 85 F3       .s
                ldy $E6                      ; 94A5= A4 E6       $f
                jsr mos.LEB55                ; 94A7= 20 55 EB     Uk
                tay                          ; 94AA= A8          (
                beq L94BB                    ; 94AB= F0 0E       p.
L94AD:
                lda ($F2)                    ; 94AD= B2 F2       2r
                jsr L9606                    ; 94AF= 20 06 96     ..
                inc $F2                      ; 94B2= E6 F2       fr
                bne L94B8                    ; 94B4= D0 02       P.
                inc $F3                      ; 94B6= E6 F3       fs
L94B8:
                dey                          ; 94B8= 88          .
                bne L94AD                    ; 94B9= D0 F2       Pr
L94BB:
                pla                          ; 94BB= 68          h
                jsr mos.selectROMA           ; 94BC= 20 92 E5     .e
                lda #$22                     ; 94BF= A9 22       )"
                jsr OSWRCH                   ; 94C1= 20 EE FF     n.
                jmp OSNEWL                   ; 94C4= 4C E7 FF    Lg.

L94C7:
                jsr L9473                    ; 94C7= 20 73 94     s.
                lda $F4                      ; 94CA= A5 F4       %t
                pha                          ; 94CC= 48          H
                jsr mos.selectTerminalROMAndANDY ; 94CD= 20 7F E5     .e
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 94D0= 20 FF F2     .r
                stz $B0                      ; 94D3= 64 B0       d0
                beq L94EC                    ; 94D5= F0 15       p.
                ldx #$00                     ; 94D7= A2 00       ".
                sec                          ; 94D9= 38          8
                jsr mos.gsinitEntryPoint     ; 94DA= 20 6E F2     nr
L94DD:
                jsr mos.gsreadEntryPoint     ; 94DD= 20 7F F2     .r
                bcs L94E8                    ; 94E0= B0 06       0.
                sta hazel.commandLine,x      ; 94E2= 9D 00 DC    ..\
                inx                          ; 94E5= E8          h
                bra L94DD                    ; 94E6= 80 F5       .u

L94E8:
                bne L947C                    ; 94E8= D0 92       P.
                stx $B0                      ; 94EA= 86 B0       .0
L94EC:
                ldy $E6                      ; 94EC= A4 E6       $f
                jsr mos.LEB55                ; 94EE= 20 55 EB     Uk
                sta $B5                      ; 94F1= 85 B5       .5
                sec                          ; 94F3= 38          8
                sbc $B0                      ; 94F4= E5 B0       e0
                bcs L950E                    ; 94F6= B0 16       0.
                eor #$FF                     ; 94F8= 49 FF       I.
                adc #$01                     ; 94FA= 69 01       i.
                adc L8010                    ; 94FC= 6D 10 80    m..
                tax                          ; 94FF= AA          *
                lda L8021                    ; 9500= AD 21 80    -!.
                adc #$00                     ; 9503= 69 00       i.
                cmp #$84                     ; 9505= C9 84       I.
                bcc L950E                    ; 9507= 90 05       ..
                bne L94E8                    ; 9509= D0 DD       P]
                txa                          ; 950B= 8A          .
                bne L94E8                    ; 950C= D0 DA       PZ
L950E:
                lda $0268                    ; 950E= AD 68 02    -h.
                beq L9545                    ; 9511= F0 32       p2
                lda $02C9                    ; 9513= AD C9 02    -I.
                cmp $E6                      ; 9516= C5 E6       Ef
                bcc L9545                    ; 9518= 90 2B       .+
                bne L952B                    ; 951A= D0 0F       P.
                jsr LAAED                    ; 951C= 20 ED AA     m*
                .text $fa,"Key in use",0
                ; EQUB $4B                   ; 9520= 4B          K
                ; ADC $79                    ; 9521= 65 79       ey
                ; JSR $6E69                  ; 9523= 20 69 6E     in
                ; JSR $7375                  ; 9526= 20 75 73     us
                ; ADC $00                    ; 9529= 65 00       e.
L952B:
                stz $B2                      ; 952B= 64 B2       d2
                sec                          ; 952D= 38          8
                lda $B0                      ; 952E= A5 B0       %0
                sbc $B5                      ; 9530= E5 B5       e5
                sta $B1                      ; 9532= 85 B1       .1
                bcs L9538                    ; 9534= B0 02       0.
                dec $B2                      ; 9536= C6 B2       F2
L9538:
                clc                          ; 9538= 18          .
                lda $F8                      ; 9539= A5 F8       %x
                adc $B1                      ; 953B= 65 B1       e1
                sta $F8                      ; 953D= 85 F8       .x
                lda $F9                      ; 953F= A5 F9       %y
                adc $B2                      ; 9541= 65 B2       e2
                sta $F9                      ; 9543= 85 F9       .y
L9545:
                dec $0284                    ; 9545= CE 84 02    N..
                ldx $E6                      ; 9548= A6 E6       &f
                lda $B5                      ; 954A= A5 B5       %5
                beq L9593                    ; 954C= F0 45       pE
                lda L8000,x                  ; 954E= BD 00 80    =..
                sta $B1                      ; 9551= 85 B1       .1
                lda L8011,x                  ; 9553= BD 11 80    =..
                sta $B2                      ; 9556= 85 B2       .2
                lda L8001,x                  ; 9558= BD 01 80    =..
                sta $B3                      ; 955B= 85 B3       .3
                lda L8012,x                  ; 955D= BD 12 80    =..
                sta $B4                      ; 9560= 85 B4       .4
L9562:
                lda ($B3)                    ; 9562= B2 B3       23
                sta ($B1)                    ; 9564= 92 B1       .1
                inc $B1                      ; 9566= E6 B1       f1
                bne L956C                    ; 9568= D0 02       P.
                inc $B2                      ; 956A= E6 B2       f2
L956C:
                inc $B3                      ; 956C= E6 B3       f3
                bne L9572                    ; 956E= D0 02       P.
                inc $B4                      ; 9570= E6 B4       f4
L9572:
                lda $B3                      ; 9572= A5 B3       %3
                cmp L8010                    ; 9574= CD 10 80    M..
                lda $B4                      ; 9577= A5 B4       %4
                sbc L8021                    ; 9579= ED 21 80    m!.
                bcc L9562                    ; 957C= 90 E4       .d
L957E:
                inx                          ; 957E= E8          h
                cpx #$11                     ; 957F= E0 11       `.
                bcs L9593                    ; 9581= B0 10       0.
                sec                          ; 9583= 38          8
                lda L8000,x                  ; 9584= BD 00 80    =..
                sbc $B5                      ; 9587= E5 B5       e5
                sta L8000,x                  ; 9589= 9D 00 80    ...
                bcs L957E                    ; 958C= B0 F0       0p
                dec L8011,x                  ; 958E= DE 11 80    ^..
                bra L957E                    ; 9591= 80 EB       .k

L9593:
                ldx $E6                      ; 9593= A6 E6       &f
                lda $B0                      ; 9595= A5 B0       %0
                beq L95FF                    ; 9597= F0 66       pf
                lda L8010                    ; 9599= AD 10 80    -..
                sta $B3                      ; 959C= 85 B3       .3
                clc                          ; 959E= 18          .
                adc $B0                      ; 959F= 65 B0       e0
                sta $B1                      ; 95A1= 85 B1       .1
                lda L8021                    ; 95A3= AD 21 80    -!.
                sta $B4                      ; 95A6= 85 B4       .4
                adc #$00                     ; 95A8= 69 00       i.
                sta $B2                      ; 95AA= 85 B2       .2
                lda $B3                      ; 95AC= A5 B3       %3
                sec                          ; 95AE= 38          8
                sbc L8000,x                  ; 95AF= FD 00 80    }..
                sta $B5                      ; 95B2= 85 B5       .5
                lda $B4                      ; 95B4= A5 B4       %4
                sbc L8011,x                  ; 95B6= FD 11 80    }..
                sta $B6                      ; 95B9= 85 B6       .6
L95BB:
                lda $B5                      ; 95BB= A5 B5       %5
                ora $B6                      ; 95BD= 05 B6       .6
                beq L95DF                    ; 95BF= F0 1E       p.
                lda $B1                      ; 95C1= A5 B1       %1
                bne L95C7                    ; 95C3= D0 02       P.
                dec $B2                      ; 95C5= C6 B2       F2
L95C7:
                dec $B1                      ; 95C7= C6 B1       F1
                lda $B3                      ; 95C9= A5 B3       %3
                bne L95CF                    ; 95CB= D0 02       P.
                dec $B4                      ; 95CD= C6 B4       F4
L95CF:
                dec $B3                      ; 95CF= C6 B3       F3
                lda ($B3)                    ; 95D1= B2 B3       23
                sta ($B1)                    ; 95D3= 92 B1       .1
                lda $B5                      ; 95D5= A5 B5       %5
                bne L95DB                    ; 95D7= D0 02       P.
                dec $B6                      ; 95D9= C6 B6       F6
L95DB:
                dec $B5                      ; 95DB= C6 B5       F5
                bra L95BB                    ; 95DD= 80 DC       .\

L95DF:
                inx                          ; 95DF= E8          h
                cpx #$11                     ; 95E0= E0 11       `.
                bcs L95F3                    ; 95E2= B0 0F       0.
                lda L8000,x                  ; 95E4= BD 00 80    =..
                adc $B0                      ; 95E7= 65 B0       e0
                sta L8000,x                  ; 95E9= 9D 00 80    ...
                bcc L95DF                    ; 95EC= 90 F1       .q
                inc L8011,x                  ; 95EE= FE 11 80    ~..
                bra L95DF                    ; 95F1= 80 EC       .l

L95F3:
                ldy #$00                     ; 95F3= A0 00        .
L95F5:
                lda hazel.commandLine,y      ; 95F5= B9 00 DC    9.\
                sta ($B3),y                  ; 95F8= 91 B3       .3
                iny                          ; 95FA= C8          H
                dec $B0                      ; 95FB= C6 B0       F0
                bne L95F5                    ; 95FD= D0 F6       Pv
L95FF:
                inc $0284                    ; 95FF= EE 84 02    n..
                pla                          ; 9602= 68          h
                jmp mos.selectROMA           ; 9603= 4C 92 E5    L.e

L9606:
                tax                          ; 9606= AA          *
                bmi L9631                    ; 9607= 30 28       0(
                cmp #$20                     ; 9609= C9 20       I
                bcc L962C                    ; 960B= 90 1F       ..
                inx                          ; 960D= E8          h
                bmi L961F                    ; 960E= 30 0F       0.
                dex                          ; 9610= CA          J
                cmp #$22                     ; 9611= C9 22       I"
                beq L9626                    ; 9613= F0 11       p.
                cmp #$7C                     ; 9615= C9 7C       I|
                bne L961C                    ; 9617= D0 03       P.
                jsr OSWRCH                   ; 9619= 20 EE FF     n.
L961C:
                jmp OSWRCH                   ; 961C= 4C EE FF    Ln.

L961F:
                jsr L963C                    ; 961F= 20 3C 96     <.
                lda #$3F                     ; 9622= A9 3F       )?
                bra L961C                    ; 9624= 80 F6       .v

L9626:
                jsr L963C                    ; 9626= 20 3C 96     <.
                txa                          ; 9629= 8A          .
                bra L961C                    ; 962A= 80 F0       .p

L962C:
                ora #$40                     ; 962C= 09 40       .@
                tax                          ; 962E= AA          *
                bra L9626                    ; 962F= 80 F5       .u

L9631:
                pha                          ; 9631= 48          H
                ldx #$21                     ; 9632= A2 21       "!
                jsr L9626                    ; 9634= 20 26 96     &.
                pla                          ; 9637= 68          h
                and #$7F                     ; 9638= 29 7F       ).
                bra L9606                    ; 963A= 80 CA       .J

L963C:
                lda #$7C                     ; 963C= A9 7C       )|
                bra L961C                    ; 963E= 80 DC       .\

; Day string not matched
; ----------------------
L9640:
                pla                          ; Drop number of characters matched
                pla                          ; Get offset to string table
                ply                          ; Get start of supplied string
                clc                          ; Step to next string table entry
                adc #$04
                cmp #$1C                     ; If not checked 28/4=7 entries, keep looking
                bcc L9666
                rts                          ; Otherwise exit silently

; Month string not matched
; ------------------------
L964B:
                pla                          ; Drop number of characters matched
                pla                          ; Get offset to string table
                ply                          ; Get start of supplied string
                clc                          ; Step to next string table entry
                adc #$04
                cmp #$30                     ; If not checked 48/4=12 entries, keep looking
                bcc L9698
L9655:
                rts                          ; Otherwise exit silently

; OSWORD &0F routine
; ==================
; (&F0)=>control block
; A=length byte from (&F0),0
; Y=0
; Uses OSFILE control block at &2ED-&2FF as workspace
;
L9656:
                stz $02ED
                eor #$0F                     ; len=15, set date
                beq L9665
                eor #$07                     ; len=8, set time
                beq L96D7
                eor #$10                     ; len=24, set date+time
                bne L9655

; Set date and set date+time
; --------------------------
; (&F0),1=>"Day,00 Mon 0000"
; (&F0),1=>"Day,00 Mon 0000.00:00:00"
; A=0, Y=0
L9665:
                iny                          ; Point to supplied data
; Translate day string into day number
L9666:
                phy                          ; Push pointer to data string
                pha                          ; Push offset to match strings
                tax                          ; X=>match strings
                lda #$03                     ; A=3 characters to match
L966B:
                pha                          ; Save number of characters to match
                lda ($F0),y                  ; Get character from string
                eor L9768,x                  ; Compare with day string table
                and #$DF                     ; Force to upper case
                bne L9640                    ; No match step to check next entry
                inx                          ; Step to next character to match
                iny                          ; Step to next data character
                pla                          ; Get character count back
                dec a                        ; Decrement and loop until 3 characters matched
                bne L966B
                lda L9768,x                  ; Get translation byte from string table
                sta $02F4                    ; Store it in workspace
; Translates Sun,Mon,Tue,etc to &01,&02,&03,etc
                plx                          ; Drop char count and table offset
                plx
                lda ($F0),y                  ; Get next character
                cmp #','                     ; Not followed by a comma, so exit silently
                bne L9655
                ldx #$07                     ; Get day of month
                jsr L9730
                bcc L9655                    ; Bad number, exit silently
                iny                          ; Get next character
                lda ($F0),y
                eor #' '                     ; Not space, exit silently
                bne L9655
                iny                          ; Step to first character of month
; Translate month string into month number
; This could use the same code as the Day translation
L9698:
                phy                          ; Push pointer to data string
                pha                          ; Push offset to match strings
                tax                          ; X=>match strings
                lda #$03                     ; A=3 characters to match
L969D:
                pha                          ; 969D= 48          H
                lda ($F0),y                  ; 969E= B1 F0       1p
                eor L9784,x                  ; 96A0= 5D 84 97    ]..
                and #$DF                     ; 96A3= 29 DF       )_
                bne L964B                    ; 96A5= D0 A4       P$
                inx                          ; 96A7= E8          h
                iny                          ; 96A8= C8          H
                pla                          ; 96A9= 68          h
                dec a                        ; 96AA= 3A          :
                bne L969D                    ; 96AB= D0 F0       Pp
                lda L9784,x                  ; 96AD= BD 84 97    =..
                sta $02F6                    ; 96B0= 8D F6 02    .v.
; Translates Jan,Feb,Mar,etc to &01,&02,&03,etc..&09,&10,&11,&12
                plx                          ; Drop char count and table offset
                plx
                lda ($F0),y                  ; Get next character
                cmp #' '                     ; Not followed by space, exit silently
                bne L9655
                ldx #$09                     ; Get century number
                jsr L9730
                bcc L9655                    ; Bad number, exit silently
                jsr L9730                    ; Get year number
                bcc L9655                    ; Bad number, exit silently
                ror $02ED                    ;
                lda ($F0)                    ; Get data length
                cmp #$0F                     ; len=15, jump to just set date
                beq L96FF
; Must be len=24 to set date+time
                iny                          ; Get next character
                lda ($F0),y
                cmp #'.'                     ; If not full stop, exit silently
                bne L9753

; Set time
; --------
L96D7:
                ldx #$04                     ; 96D7= A2 04       ".
                jsr L9730                    ; 96D9= 20 30 97     0.
                bcc L9753                    ; 96DC= 90 75       .u
                iny                          ; 96DE= C8          H
                lda ($F0),y                  ; 96DF= B1 F0       1p
                cmp #$3A                     ; 96E1= C9 3A       I:
                bne L9753                    ; 96E3= D0 6E       Pn
                ldx #$02                     ; 96E5= A2 02       ".
                jsr L9730                    ; 96E7= 20 30 97     0.
                bcc L9753                    ; 96EA= 90 67       .g
                iny                          ; 96EC= C8          H
                lda ($F0),y                  ; 96ED= B1 F0       1p
                cmp #$3A                     ; 96EF= C9 3A       I:
                bne L9753                    ; 96F1= D0 60       P`
                ldx #$00                     ; 96F3= A2 00       ".
                jsr L9730                    ; 96F5= 20 30 97     0.
                bcc L9753                    ; 96F8= 90 59       .Y
                lda #$40                     ; 96FA= A9 40       )@
                tsb $02ED                    ; 96FC= 0C ED 02    .m.
L96FF:
                cli                          ; 96FF= 58          X
                sei                          ; 9700= 78          x
                ldy #$83                     ; 9701= A0 83        .
                ldx #$0B                     ; 9703= A2 0B       ".
                jsr L98E4                    ; 9705= 20 E4 98     d.
                bit $02ED                    ; 9708= 2C ED 02    ,m.
                bpl L971C                    ; 970B= 10 0F       ..
                ldx #$06                     ; 970D= A2 06       ".
L970F:
                ldy $02EE,x                  ; 970F= BC EE 02    <n.
                jsr L98E4                    ; 9712= 20 E4 98     d.
                inx                          ; 9715= E8          h
                cpx #$0A                     ; 9716= E0 0A       `.
                bcc L970F                    ; 9718= 90 F5       .u
                bvc L9729                    ; 971A= 50 0D       P.
L971C:
                ldx #$00                     ; 971C= A2 00       ".
L971E:
                ldy $02EE,x                  ; 971E= BC EE 02    <n.
                jsr L98E4                    ; 9721= 20 E4 98     d.
                inx                          ; 9724= E8          h
                cpx #$06                     ; 9725= E0 06       `.
                bcc L971E                    ; 9727= 90 F5       .u
L9729:
                ldx #$0B                     ; 9729= A2 0B       ".
                ldy #$02                     ; 972B= A0 02        .
                jmp L98E4                    ; 972D= 4C E4 98    Ld.

L9730:
                jsr L9754                    ; 9730= 20 54 97     T.
                eor #$20                     ; 9733= 49 20       I
                beq L973B                    ; 9735= F0 04       p.
                eor #$20                     ; 9737= 49 20       I
                bcc L9753                    ; 9739= 90 18       ..
L973B:
                sta $02EE,x                  ; 973B= 9D EE 02    .n.
                jsr L9754                    ; 973E= 20 54 97     T.
                bcc L9753                    ; 9741= 90 10       ..
                phy                          ; 9743= 5A          Z
                ldy #$04                     ; 9744= A0 04        .
                asl a                        ; 9746= 0A          .
                asl a                        ; 9747= 0A          .
                asl a                        ; 9748= 0A          .
                asl a                        ; 9749= 0A          .
L974A:
                asl a                        ; 974A= 0A          .
                rol $02EE,x                  ; 974B= 3E EE 02    >n.
                dey                          ; 974E= 88          .
                bne L974A                    ; 974F= D0 F9       Py
                ply                          ; 9751= 7A          z
                sec                          ; 9752= 38          8
L9753:
                rts                          ; 9753= 60          `

L9754:
                iny                          ; 9754= C8          H
                lda ($F0),y                  ; 9755= B1 F0       1p
                cmp #$3A                     ; 9757= C9 3A       I:
                bcs L9762                    ; 9759= B0 07       0.
                cmp #$30                     ; 975B= C9 30       I0
                bcc L9762                    ; 975D= 90 03       ..
                and #$0F                     ; 975F= 29 0F       ).
                rts                          ; 9761= 60          `

L9762:
                clc                          ; 9762= 18          .
                rts                          ; 9763= 60          `

L9764:
                .text "   ",0
L9768:
                .text "Sun",$01
                .text "Mon",$02
                .text "Tue",$03
                .text "Wed",$04
                .text "Thu",$05
                .text "Fri",$06
                .text "Sat",$07
L9784:
                .text "Jan",$01
                .text "Feb",$02
                .text "Mar",$03
                .text "Apr",$04
                .text "May",$05
                .text "Jun",$06
                .text "Jul",$07
                .text "Aug",$08
                .text "Sep",$09
                .text "Oct",$10
                .text "Nov",$11
                .text "Dec",$12
L97B4:
                pha
                eor #$02                     ; 97B5= 49 02       I.
                bne L97D4                    ; 97B7= D0 1B       P.
                ldy #$07                     ; 97B9= A0 07        .
                ldx #$00                     ; 97BB= A2 00       ".
L97BD:
                lda ($F0),y                  ; 97BD= B1 F0       1p
                sta $02EE,x                  ; 97BF= 9D EE 02    .n.
                dey                          ; 97C2= 88          .
                inx                          ; 97C3= E8          h
                inx                          ; 97C4= E8          h
                cpx #$06                     ; 97C5= E0 06       `.
                bcc L97BD                    ; 97C7= 90 F4       .t
L97C9:
                lda ($F0),y                  ; 97C9= B1 F0       1p
                sta $02EE,x                  ; 97CB= 9D EE 02    .n.
                inx                          ; 97CE= E8          h
                dey                          ; 97CF= 88          .
                bne L97C9                    ; 97D0= D0 F7       Pw
                bra L9804                    ; 97D2= 80 30       .0

L97D4:
                lda $F0                      ; 97D4= A5 F0       %p
                pha                          ; 97D6= 48          H
                lda $F1                      ; 97D7= A5 F1       %q
                pha                          ; 97D9= 48          H
L97DA:
                ldx #$0C                     ; 97DA= A2 0C       ".
                jsr L98B7                    ; 97DC= 20 B7 98     7.
                ldx #$09                     ; 97DF= A2 09       ".
L97E1:
                jsr L98B7                    ; 97E1= 20 B7 98     7.
                sta $02EE,x                  ; 97E4= 9D EE 02    .n.
                dex                          ; 97E7= CA          J
                bpl L97E1                    ; 97E8= 10 F7       .w
                ldx #$0A                     ; 97EA= A2 0A       ".
                jsr L98B7                    ; 97EC= 20 B7 98     7.
                bpl L97F5                    ; 97EF= 10 04       ..
L97F1:
                cli                          ; 97F1= 58          X
                sei                          ; 97F2= 78          x
                bra L97DA                    ; 97F3= 80 E5       .e

L97F5:
                ldx #$0C                     ; 97F5= A2 0C       ".
                jsr L98B7                    ; 97F7= 20 B7 98     7.
                and #$10                     ; 97FA= 29 10       ).
                bne L97F1                    ; 97FC= D0 F3       Ps
                pla                          ; 97FE= 68          h
                sta $F1                      ; 97FF= 85 F1       .q
                pla                          ; 9801= 68          h
                sta $F0                      ; 9802= 85 F0       .p
L9804:
                pla                          ; 9804= 68          h
                dec a                        ; 9805= 3A          :
                bne L9822                    ; 9806= D0 1A       P.
                ldy #$00                     ; 9808= A0 00        .
                ldx #$09                     ; 980A= A2 09       ".
L980C:
                lda $02EE,x                  ; 980C= BD EE 02    =n.
                sta ($F0),y                  ; 980F= 91 F0       .p
                iny                          ; 9811= C8          H
                dex                          ; 9812= CA          J
                cpx #$06                     ; 9813= E0 06       `.
                bcs L980C                    ; 9815= B0 F5       0u
L9817:
                lda $02ED,x                  ; 9817= BD ED 02    =m.
                sta ($F0),y                  ; 981A= 91 F0       .p
                iny                          ; 981C= C8          H
                dex                          ; 981D= CA          J
                dex                          ; 981E= CA          J
                bpl L9817                    ; 981F= 10 F6       .v
                rts                          ; 9821= 60          `

L9822:
                ldy #$18                     ; 9822= A0 18        .
                lda #$0D                     ; 9824= A9 0D       ).
                sta ($F0),y                  ; 9826= 91 F0       .p
                ldx #$00                     ; 9828= A2 00       ".
                dey                          ; 982A= 88          .
                jsr L9890                    ; 982B= 20 90 98     ..
                lda #$3A                     ; 982E= A9 3A       ):
                sta ($F0),y                  ; 9830= 91 F0       .p
                ldy #$12                     ; 9832= A0 12        .
                sta ($F0),y                  ; 9834= 91 F0       .p
                ldx #$02                     ; 9836= A2 02       ".
                ldy #$14                     ; 9838= A0 14        .
                jsr L9890                    ; 983A= 20 90 98     ..
                ldx #$04                     ; 983D= A2 04       ".
                ldy #$11                     ; 983F= A0 11        .
                jsr L9890                    ; 9841= 20 90 98     ..
                lda #$2E                     ; 9844= A9 2E       ).
                sta ($F0),y                  ; 9846= 91 F0       .p
                lda $02F4                    ; 9848= AD F4 02    -t.
                asl a                        ; 984B= 0A          .
                asl a                        ; 984C= 0A          .
                ldy #$00                     ; 984D= A0 00        .
                tax                          ; 984F= AA          *
L9850:
                lda L9764,x                  ; 9850= BD 64 97    =d.
                sta ($F0),y                  ; 9853= 91 F0       .p
                inx                          ; 9855= E8          h
                iny                          ; 9856= C8          H
                cpy #$03                     ; 9857= C0 03       @.
                bcc L9850                    ; 9859= 90 F5       .u
                lda #$2C                     ; 985B= A9 2C       ),
                sta ($F0),y                  ; 985D= 91 F0       .p
                lda $02F6                    ; 985F= AD F6 02    -v.
                cmp #$10                     ; 9862= C9 10       I.
                bcc L9868                    ; 9864= 90 02       ..
                sbc #$06                     ; 9866= E9 06       i.
L9868:
                dec a                        ; 9868= 3A          :
                asl a                        ; 9869= 0A          .
                asl a                        ; 986A= 0A          .
                tax                          ; 986B= AA          *
                ldy #$07                     ; 986C= A0 07        .
L986E:
                lda L9784,x                  ; 986E= BD 84 97    =..
                sta ($F0),y                  ; 9871= 91 F0       .p
                inx                          ; 9873= E8          h
                iny                          ; 9874= C8          H
                cpy #$0A                     ; 9875= C0 0A       @.
                bcc L986E                    ; 9877= 90 F5       .u
                ldx #$09                     ; 9879= A2 09       ".
                ldy #$0E                     ; 987B= A0 0E        .
                jsr L9890                    ; 987D= 20 90 98     ..
                lda #$19                     ; 9880= A9 19       ).
                jsr L9893                    ; 9882= 20 93 98     ..
                lda #$20                     ; 9885= A9 20       )
                sta ($F0),y                  ; 9887= 91 F0       .p
                ldy #$06                     ; 9889= A0 06        .
                sta ($F0),y                  ; 988B= 91 F0       .p
                dey                          ; 988D= 88          .
                ldx #$07                     ; 988E= A2 07       ".
L9890:
                lda $02EE,x                  ; 9890= BD EE 02    =n.
L9893:
                pha                          ; 9893= 48          H
                jsr L989C                    ; 9894= 20 9C 98     ..
                pla                          ; 9897= 68          h
                lsr a                        ; 9898= 4A          J
                lsr a                        ; 9899= 4A          J
                lsr a                        ; 989A= 4A          J
                lsr a                        ; 989B= 4A          J
L989C:
                and #$0F                     ; 989C= 29 0F       ).
                ora #$30                     ; 989E= 09 30       .0
                cmp #$3A                     ; 98A0= C9 3A       I:
                bcc L98A6                    ; 98A2= 90 02       ..
                adc #$06                     ; 98A4= 69 06       i.
L98A6:
                sta ($F0),y                  ; 98A6= 91 F0       .p
                dey                          ; 98A8= 88          .
                rts                          ; 98A9= 60          `

L98AA:
                ldx #$1D                     ; 98AA= A2 1D       ".
                bra L98B7                    ; 98AC= 80 09       ..

L98AE:
                ldx #$1E                     ; Read CMOS location 16 (&1E-14)
                bra L98B7

L98B2:
                jsr L98FD                    ; 98B2= 20 FD 98     }.
                bcs L98DB                    ; 98B5= B0 24       0$
L98B7:
                php                          ; 98B7= 08          .
                sei                          ; 98B8= 78          x
                jsr setRTCAddress                    ; 98B9= 20 06 99     ..
                lda #$49                     ; 98BC= A9 49       )I
                sta systemVIA.orb            ; 98BE= 8D 40 FE    .@~
                stz systemVIA.ddra            ; 98C1= 9C 43 FE    .C~
                lda #$4A                     ; 98C4= A9 4A       )J
                sta systemVIA.orb            ; 98C6= 8D 40 FE    .@~
                ldy systemVIA.iraNoHandshake            ; 98C9= AC 4F FE    ,O~
L98CC:
                lda #$42
                sta systemVIA.orb            ;RTC AS=0 CS=1 DS=0 R=0
                lda #$02
                sta systemVIA.orb            ;RTC AS=0 CS=0 DS=0 R=0
                stz systemVIA.ddra           ;all bits inputs
                plp
                tya
L98DB:
                rts

L98DC:
                txa                          ; 98DC= 8A          .
                beq L98DB                    ; 98DD= F0 FC       p|
                jsr L98FD                    ; 98DF= 20 FD 98     }.
                bcs L98DB                    ; 98E2= B0 F7       0w
L98E4:
                php
                sei
                jsr setRTCAddress            ;X=address
                lda #$41
                sta systemVIA.orb            ;RTC AS=0 CS=1 DS=0 R=0
                lda #$FF
                sta systemVIA.ddra           ;all bits outputs
                lda #$4A
                sta systemVIA.orb            ;RTC AS=0 CS=1 DS=0 R=1
                sty systemVIA.oraNoHandshake ;store value
                bra L98CC

L98FD:
                cpx #$32                     ; 98FD= E0 32       `2
                bcs L9905                    ; 98FF= B0 04       0.
                txa                          ; 9901= 8A          .
                adc #$0E                     ; 9902= 69 0E       i.
                tax                          ; 9904= AA          *
L9905:
                rts                          ; 9905= 60          `

;-------------------------------------------------------------------------
;
; set RTC address for future read/write operation.
;
; entry:
;
; X = address to set
;
; preserves: Y
; 
setRTCAddress:
                lda #$02
                sta systemVIA.orb            ;RTC AS=0 CS=0 DS=0 R=0
                lda #$82
                sta systemVIA.orb            ;RTC AS=1 CS=0 DS=0 R=0
                lda #$FF
                sta systemVIA.ddra           ;all bits outputs
                stx systemVIA.oraNoHandshake ;write RTC address
                lda #$c2
                sta systemVIA.orb            ;RTC AS=1 CS=1 DS=0 R=0
                lda #$42
                sta systemVIA.orb            ;RTC AS=0 CS=1 DS=0 R=0
                rts                          ; 9922= 60          `

L9923:
                lda #$03                     ; 9923= A9 03       ).
                jsr mos.LD298                ; 9925= 20 98 D2     .R
                bcc L993C                    ; 9928= 90 12       ..
                jsr L9930                    ; 992A= 20 30 99     0.
                jsr mos.LD8A9                ; 992D= 20 A9 D8     )X
L9930:
                ldx #$20                     ; 9930= A2 20       "
                jmp mos.LE2B8                ; 9932= 4C B8 E2    L8b

L9935:
                lda #$02                     ; 9935= A9 02       ).
                jsr mos.LD298                ; 9937= 20 98 D2     .R
                bcs L99A0                    ; 993A= B0 64       0d
L993C:
                jsr mos.LD3D2                ; 993C= 20 D2 D3     RS
                jsr L9ABF                    ; 993F= 20 BF 9A     ?.
                bra L994C                    ; 9942= 80 08       ..

L9944:
                jsr mos.LD41A                ; 9944= 20 1A D4     .T
                beq L99A0                    ; 9947= F0 57       pW
                jsr mos.LD3D2                ; 9949= 20 D2 D3     RS
L994C:
                lda $E1                      ; 994C= A5 E1       %a
                bit #$20                     ; 994E= 89 20       .
                beq L9957                    ; 9950= F0 05       p.
                pha                          ; 9952= 48          H
                jsr mos.LD6A3                ; 9953= 20 A3 D6     #V
                pla                          ; 9956= 68          h
L9957:
                bit #$10                     ; 9957= 89 10       ..
                beq L995E                    ; 9959= F0 03       p.
                jsr mos.LD698                ; 995B= 20 98 D6     .V
L995E:
                jsr L99FC                    ; 995E= 20 FC 99     |.
                php                          ; 9961= 08          .
                jsr L9A5A                    ; 9962= 20 5A 9A     Z.
                ldx #$42                     ; 9965= A2 42       "B
                ldy #$46                     ; 9967= A0 46        F
                lda #$20                     ; 9969= A9 20       )
                bit L8849                    ; 996B= 2C 49 88    ,I.
                beq L998C                    ; 996E= F0 1C       p.
                bmi L998A                    ; 9970= 30 18       0.
                lda $032C                    ; 9972= AD 2C 03    -,.
                cmp $0337                    ; 9975= CD 37 03    M7.
                bne L9982                    ; 9978= D0 08       P.
                lda $032D                    ; 997A= AD 2D 03    --.
                cmp $0338                    ; 997D= CD 38 03    M8.
                beq L9992                    ; 9980= F0 10       p.
L9982:
                ldx #$37                     ; 9982= A2 37       "7
                jsr mos.LD24D                ; 9984= 20 4D D2     MR
                ldx #$42                     ; 9987= A2 42       "B
                clv                          ; 9989= B8          8
L998A:
                ldy #$2C                     ; 998A= A0 2C        ,
L998C:
                bmi L9995                    ; 998C= 30 07       0.
                bvc L9992                    ; 998E= 50 02       P.
                ldx #$37                     ; 9990= A2 37       "7
L9992:
                jsr mos.LD24D                ; 9992= 20 4D D2     MR
L9995:
                plp                          ; 9995= 28          (
                bcc L994C                    ; 9996= 90 B4       .4
                rts                          ; 9998= 60          `

L9999:
                lda #$01                     ; 9999= A9 01       ).
                jsr mos.LD298                ; 999B= 20 98 D2     .R
                bcc L99A9                    ; 999E= 90 09       ..
L99A0:
                ldx #$24                     ; 99A0= A2 24       "$
                bra L99DB                    ; 99A2= 80 37       .7

L99A4:
                jsr mos.LD41A                ; 99A4= 20 1A D4     .T
                beq L99A0                    ; 99A7= F0 F7       pw
L99A9:
                jsr mos.LD3D2                ; 99A9= 20 D2 D3     RS
                jsr L99C9                    ; 99AC= 20 C9 99     I.
L99AF:
                jsr mos.LD5E6                ; 99AF= 20 E6 D5     fU
                jsr L99C9                    ; 99B2= 20 C9 99     I.
                lda L8830                    ; 99B5= AD 30 88    -0.
                ora L8831                    ; 99B8= 0D 31 88    .1.
                beq L99FB                    ; 99BB= F0 3E       p>
                bit L8848                    ; 99BD= 2C 48 88    ,H.
                bvs L99AF                    ; 99C0= 70 ED       pm
                ldx #$42                     ; 99C2= A2 42       "B
                jsr L99D6                    ; 99C4= 20 D6 99     V.
                bra L99AF                    ; 99C7= 80 E6       .f

L99C9:
                jsr mos.LD334                ; 99C9= 20 34 D3     4S
                jsr L99DE                    ; 99CC= 20 DE 99     ^.
                bit L8848                    ; 99CF= 2C 48 88    ,H.
                bmi L99FB                    ; 99D2= 30 27       0'
                ldx #$46                     ; 99D4= A2 46       "F
L99D6:
                phx                          ; 99D6= DA          Z
                jsr mos.LD280                ; 99D7= 20 80 D2     .R
                plx                          ; 99DA= FA          z
L99DB:
                jmp mos.LDB4C                ; 99DB= 4C 4C DB    LL[

L99DE:
                ldx #$03                     ; 99DE= A2 03       ".
L99E0:
                lda L8830,x                  ; 99E0= BD 30 88    =0.
                sta $0342,x                  ; 99E3= 9D 42 03    .B.
                sta $0346,x                  ; 99E6= 9D 46 03    .F.
                dex                          ; 99E9= CA          J
                bpl L99E0                    ; 99EA= 10 F4       .t
L99EC:
                ldy $0342                    ; 99EC= AC 42 03    ,B.
                lda $0343                    ; 99EF= AD 43 03    -C.
                jsr mos.LC92E                ; 99F2= 20 2E C9     .I
                sty $0342                    ; 99F5= 8C 42 03    .B.
                sta $0343                    ; 99F8= 8D 43 03    .C.
L99FB:
                rts                          ; 99FB= 60          `

L99FC:
                lda $E1                      ; 99FC= A5 E1       %a
                sta L8849                    ; 99FE= 8D 49 88    .I.
                jsr L99DE                    ; 9A01= 20 DE 99     ^.
                ldx #$01                     ; 9A04= A2 01       ".
L9A06:
                stz $0342,x                  ; 9A06= 9E 42 03    .B.
                stz $0346,x                  ; 9A09= 9E 46 03    .F.
                dex                          ; 9A0C= CA          J
                bpl L9A06                    ; 9A0D= 10 F7       .w
L9A0F:
                jsr L9A2E                    ; 9A0F= 20 2E 9A     ..
                lda L8830                    ; 9A12= AD 30 88    -0.
                ora L8831                    ; 9A15= 0D 31 88    .1.
                bne L9A20                    ; 9A18= D0 06       P.
                sec                          ; 9A1A= 38          8
                lda L8847                    ; 9A1B= AD 47 88    -G.
                bne L99EC                    ; 9A1E= D0 CC       PL
L9A20:
                jsr mos.LD5E6                ; 9A20= 20 E6 D5     fU
                lda L8832                    ; 9A23= AD 32 88    -2.
                cmp $0344                    ; 9A26= CD 44 03    MD.
                beq L9A0F                    ; 9A29= F0 E4       pd
                clc                          ; 9A2B= 18          .
                bra L99EC                    ; 9A2C= 80 BE       .>

L9A2E:
                jsr mos.LD334                ; 9A2E= 20 34 D3     4S
                bit L8848                    ; 9A31= 2C 48 88    ,H.
                bmi L9A3D                    ; 9A34= 30 07       0.
                php                          ; 9A36= 08          .
                ldx #$46                     ; 9A37= A2 46       "F
                jsr L9A41                    ; 9A39= 20 41 9A     A.
                plp                          ; 9A3C= 28          (
L9A3D:
                bvs L9A59                    ; 9A3D= 70 1A       p.
                ldx #$42                     ; 9A3F= A2 42       "B
L9A41:
                lda L8830                    ; 9A41= AD 30 88    -0.
                tay                          ; 9A44= A8          (
                cmp $0300,x                  ; 9A45= DD 00 03    ]..
                lda L8831                    ; 9A48= AD 31 88    -1.
                pha                          ; 9A4B= 48          H
                sbc $0301,x                  ; 9A4C= FD 01 03    }..
                pla                          ; 9A4F= 68          h
                bcc L9A59                    ; 9A50= 90 07       ..
                sta $0301,x                  ; 9A52= 9D 01 03    ...
                tya                          ; 9A55= 98          .
                sta $0300,x                  ; 9A56= 9D 00 03    ...
L9A59:
                rts                          ; 9A59= 60          `

L9A5A:
                lda $0344                    ; 9A5A= AD 44 03    -D.
                ora $0345                    ; 9A5D= 0D 45 03    .E.
                bne L9ABE                    ; 9A60= D0 5C       P\
                lda $E1                      ; 9A62= A5 E1       %a
                inc a                        ; 9A64= 1A          .
                and #$03                     ; 9A65= 29 03       ).
                bne L9ABE                    ; 9A67= D0 55       PU
                lda #$20                     ; 9A69= A9 20       )
                bit L8849                    ; 9A6B= 2C 49 88    ,I.
                bpl L9A79                    ; 9A6E= 10 09       ..
                beq L9A79                    ; 9A70= F0 07       p.
                ldx #$2C                     ; 9A72= A2 2C       ",
                ldy #$46                     ; 9A74= A0 46        F
                jsr mos.LC91E                ; 9A76= 20 1E C9     .I
L9A79:
                lda #$10                     ; 9A79= A9 10       ).
                bit L8849                    ; 9A7B= 2C 49 88    ,I.
                bvc L9A89                    ; 9A7E= 50 09       P.
                beq L9A89                    ; 9A80= F0 07       p.
                ldx #$37                     ; 9A82= A2 37       "7
                ldy #$42                     ; 9A84= A0 42        B
                jsr mos.LC91E                ; 9A86= 20 1E C9     .I
L9A89:
                jsr L9ABF                    ; 9A89= 20 BF 9A     ?.
                lda $E1                      ; 9A8C= A5 E1       %a
                eor #$3C                     ; 9A8E= 49 3C       I<
                rol a                        ; 9A90= 2A          *
                jsr mos.LC66F                ; 9A91= 20 6F C6     oF
                ror a                        ; 9A94= 6A          j
                sta $E1                      ; 9A95= 85 E1       .a
                bit #$20                     ; 9A97= 89 20       .
                beq L9AAB                    ; 9A99= F0 10       p.
                pha                          ; 9A9B= 48          H
                ldx #$2C                     ; 9A9C= A2 2C       ",
                ldy #$46                     ; 9A9E= A0 46        F
                jsr mos.LD5CC                ; 9AA0= 20 CC D5     LU
                tya                          ; 9AA3= 98          .
                tax                          ; 9AA4= AA          *
                ldy #$46                     ; 9AA5= A0 46        F
                jsr mos.LC91E                ; 9AA7= 20 1E C9     .I
                pla                          ; 9AAA= 68          h
L9AAB:
                bit #$10                     ; 9AAB= 89 10       ..
                beq L9ABB                    ; 9AAD= F0 0C       p.
                ldx #$37                     ; 9AAF= A2 37       "7
                ldy #$42                     ; 9AB1= A0 42        B
                jsr mos.LD5CC                ; 9AB3= 20 CC D5     LU
                ldy #$42                     ; 9AB6= A0 42        B
                jsr mos.LC91E                ; 9AB8= 20 1E C9     .I
L9ABB:
                stz L8849                    ; 9ABB= 9C 49 88    .I.
L9ABE:
                rts                          ; 9ABE= 60          `

L9ABF:
                ldx #$03                     ; 9ABF= A2 03       ".
L9AC1:
                stz $033B,x                  ; 9AC1= 9E 3B 03    .;.
                dex                          ; 9AC4= CA          J
                bpl L9AC1                    ; 9AC5= 10 FA       .z
                ldy #$28                     ; 9AC7= A0 28        (
                ldx #$1B                     ; 9AC9= A2 1B       ".
                lda #$2C                     ; 9ACB= A9 2C       ),
                jsr L9ADF                    ; 9ACD= 20 DF 9A     _.
                jsr mos.LD6A8                ; 9AD0= 20 A8 D6     (V
                ldy #$1B                     ; 9AD3= A0 1B        .
                ldx #$28                     ; 9AD5= A2 28       "(
                lda #$37                     ; 9AD7= A9 37       )7
                jsr L9ADF                    ; 9AD9= 20 DF 9A     _.
                jmp mos.LD69D                ; 9ADC= 4C 9D D6    L.V

L9ADF:
                pha                          ; 9ADF= 48          H
                lda $E1                      ; 9AE0= A5 E1       %a
                lsr a                        ; 9AE2= 4A          J
                bcc L9AF0                    ; 9AE3= 90 0B       ..
                lda L8847                    ; 9AE5= AD 47 88    -G.
                bne L9AEE                    ; 9AE8= D0 04       P.
                ldx #$3B                     ; 9AEA= A2 3B       ";
                bra L9AF0                    ; 9AEC= 80 02       ..

L9AEE:
                ldy #$3B                     ; 9AEE= A0 3B        ;
L9AF0:
                txa                          ; 9AF0= 8A          .
                plx                          ; 9AF1= FA          z
                phx                          ; 9AF2= DA          Z
                pha                          ; 9AF3= 48          H
                phy                          ; 9AF4= 5A          Z
                tay                          ; 9AF5= A8          (
                lda #$03                     ; 9AF6= A9 03       ).
                sta $DA                      ; 9AF8= 85 DA       .Z
L9AFA:
                lda $0300,y                  ; 9AFA= B9 00 03    9..
                sta L881E,x                  ; 9AFD= 9D 1E 88    ...
                iny                          ; 9B00= C8          H
                inx                          ; 9B01= E8          h
                dec $DA                      ; 9B02= C6 DA       FZ
                bpl L9AFA                    ; 9B04= 10 F4       .t
                ply                          ; 9B06= 7A          z
                pla                          ; 9B07= 68          h
                plx                          ; 9B08= FA          z
L9B09:
                pha                          ; 9B09= 48          H
                phy                          ; 9B0A= 5A          Z
                jsr L9B61                    ; 9B0B= 20 61 9B     a.
                dex                          ; 9B0E= CA          J
                ply                          ; 9B0F= 7A          z
                pla                          ; 9B10= 68          h
                phx                          ; 9B11= DA          Z
                iny                          ; 9B12= C8          H
                iny                          ; 9B13= C8          H
                inc a                        ; 9B14= 1A          .
                inc a                        ; 9B15= 1A          .
                inx                          ; 9B16= E8          h
                inx                          ; 9B17= E8          h
                jsr L9B61                    ; 9B18= 20 61 9B     a.
                plx                          ; 9B1B= FA          z
                jsr L9B90                    ; 9B1C= 20 90 9B     ..
                php                          ; 9B1F= 08          .
                pha                          ; 9B20= 48          H
                lda $0305,x                  ; 9B21= BD 05 03    =..
                asl a                        ; 9B24= 0A          .
                ror $030A,x                  ; 9B25= 7E 0A 03    ~..
                bpl L9B2D                    ; 9B28= 10 03       ..
                jsr L9B7F                    ; 9B2A= 20 7F 9B     ..
L9B2D:
                pla                          ; 9B2D= 68          h
                asl a                        ; 9B2E= 0A          .
                ror $030A,x                  ; 9B2F= 7E 0A 03    ~..
                bpl L9B3B                    ; 9B32= 10 07       ..
                inx                          ; 9B34= E8          h
                inx                          ; 9B35= E8          h
                jsr L9B7F                    ; 9B36= 20 7F 9B     ..
                dex                          ; 9B39= CA          J
                dex                          ; 9B3A= CA          J
L9B3B:
                jsr L9B90                    ; 9B3B= 20 90 9B     ..
                bpl L9B46                    ; 9B3E= 10 06       ..
                lda $0305,x                  ; 9B40= BD 05 03    =..
                ldy $0304,x                  ; 9B43= BC 04 03    <..
L9B46:
                plp                          ; 9B46= 28          (
                bmi L9B4F                    ; 9B47= 30 06       0.
                cpy #$00                     ; 9B49= C0 00       @.
                bne L9B4E                    ; 9B4B= D0 01       P.
                dec a                        ; 9B4D= 3A          :
L9B4E:
                dey                          ; 9B4E= 88          .
L9B4F:
                lsr a                        ; 9B4F= 4A          J
                pha                          ; 9B50= 48          H
                tya                          ; 9B51= 98          .
                ror a                        ; 9B52= 6A          j
                sec                          ; 9B53= 38          8
                dex                          ; 9B54= CA          J
                jsr L9B5A                    ; 9B55= 20 5A 9B     Z.
                inx                          ; 9B58= E8          h
                pla                          ; 9B59= 68          h
L9B5A:
                sbc $0307,x                  ; 9B5A= FD 07 03    }..
                sta $0309,x                  ; 9B5D= 9D 09 03    ...
                rts                          ; 9B60= 60          `

L9B61:
                pha                          ; 9B61= 48          H
                lda $0300,y                  ; 9B62= B9 00 03    9..
                sta $0300,x                  ; 9B65= 9D 00 03    ...
                lda $0301,y                  ; 9B68= B9 01 03    9..
                sta $0301,x                  ; 9B6B= 9D 01 03    ...
                ply                          ; 9B6E= 7A          z
                sec                          ; 9B6F= 38          8
                jsr L9B75                    ; 9B70= 20 75 9B     u.
                inx                          ; 9B73= E8          h
                iny                          ; 9B74= C8          H
L9B75:
                lda $0300,y                  ; 9B75= B9 00 03    9..
                sbc $0300,x                  ; 9B78= FD 00 03    }..
                sta $0304,x                  ; 9B7B= 9D 04 03    ...
                rts                          ; 9B7E= 60          `

L9B7F:
                lda $0305,x                  ; 9B7F= BD 05 03    =..
                ldy $0304,x                  ; 9B82= BC 04 03    <..
                jsr mos.LC92E                ; 9B85= 20 2E C9     .I
                sta $0305,x                  ; 9B88= 9D 05 03    ...
                tya                          ; 9B8B= 98          .
                sta $0304,x                  ; 9B8C= 9D 04 03    ...
                rts                          ; 9B8F= 60          `

L9B90:
                lda $0306,x                  ; 9B90= BD 06 03    =..
                tay                          ; 9B93= A8          (
                cmp $0304,x                  ; 9B94= DD 04 03    ]..
                lda $0307,x                  ; 9B97= BD 07 03    =..
                sbc $0305,x                  ; 9B9A= FD 05 03    }..
                php                          ; 9B9D= 08          .
                lda $0307,x                  ; 9B9E= BD 07 03    =..
                plp                          ; 9BA1= 28          (
                rts                          ; 9BA2= 60          `

L9BA3:
                ldx #$28                     ; 9BA3= A2 28       "(
                stx $DA                      ; 9BA5= 86 DA       .Z
                ldx #$14                     ; 9BA7= A2 14       ".
                ldy #$20                     ; 9BA9= A0 20
                lda #$24                     ; 9BAB= A9 24       )$
                jsr mos.LD580                ; 9BAD= 20 80 D5     .U
                ldy #$14                     ; 9BB0= A0 14        .
                ldx #$24                     ; 9BB2= A2 24       "$
                jsr mos.LD5B7                ; 9BB4= 20 B7 D5     7U
                stx L8830                    ; 9BB7= 8E 30 88    .0.
                ldx #$20                     ; 9BBA= A2 20       "
                jsr mos.LD5B7                ; 9BBC= 20 B7 D5     7U
                stx L8831                    ; 9BBF= 8E 31 88    .1.
                ldx #$28                     ; 9BC2= A2 28       "(
                jsr mos.LD5B7                ; 9BC4= 20 B7 D5     7U
                sty L8833                    ; 9BC7= 8C 33 88    .3.
                ldy L8831                    ; 9BCA= AC 31 88    ,1.
                jsr mos.LD5B7                ; 9BCD= 20 B7 D5     7U
                sty L8832                    ; 9BD0= 8C 32 88    .2.
                ldy L8830                    ; 9BD3= AC 30 88    ,0.
                jsr L9C0F                    ; 9BD6= 20 0F 9C     ..
                lda L8833                    ; 9BD9= AD 33 88    -3.
                sta $E0                      ; 9BDC= 85 E0       .`
                ldx #$2C                     ; 9BDE= A2 2C       ",
                jsr L9B09                    ; 9BE0= 20 09 9B     ..
                ldy $E1                      ; 9BE3= A4 E1       $a
                jsr L9C56                    ; 9BE5= 20 56 9C     V.
                ldy L8832                    ; 9BE8= AC 32 88    ,2.
                lda L8833                    ; 9BEB= AD 33 88    -3.
                sta $E1                      ; 9BEE= 85 E1       .a
                ldx #$37                     ; 9BF0= A2 37       "7
                jsr L9C51                    ; 9BF2= 20 51 9C     Q.
                bra L9C0C                    ; 9BF5= 80 15       ..

L9BF7;
                ldy #$14                     ; 9BF7= A0 14        .
                ldx #$24                     ; 9BF9= A2 24       "$
                jsr mos.LD5B7                ; 9BFB= 20 B7 D5     7U
                sty L8832                    ; 9BFE= 8C 32 88    .2.
                ldy #$20                     ; 9C01= A0 20
                jsr L9C0F                    ; 9C03= 20 0F 9C     ..
                lda L8832                    ; 9C06= AD 32 88    -2.
                jsr L9C4D                    ; 9C09= 20 4D 9C     M.
L9C0C:
                jmp mos.LDAE4                ; 9C0C= 4C E4 DA    LdZ

L9C0F:
                jsr mos.LD5B7                ; 9C0F= 20 B7 D5     7U
                stx L8830                    ; 9C12= 8E 30 88    .0.
                ldx L8832                    ; 9C15= AE 32 88    .2.
                jsr mos.LD5B7                ; 9C18= 20 B7 D5     7U
                sty L8832                    ; 9C1B= 8C 32 88    .2.
                stx L8831                    ; 9C1E= 8E 31 88    .1.
                ldy L8830                    ; 9C21= AC 30 88    ,0.
                ldx #$FC                     ; 9C24= A2 FC       "|
L9C26:
                lda $0300,y                  ; 9C26= B9 00 03    9..
                sta $0246,x                  ; 9C29= 9D 46 02    .F.
                sta $024A,x                  ; 9C2C= 9D 4A 02    .J.
                iny                          ; 9C2F= C8          H
                inx                          ; 9C30= E8          h
                bne L9C26                    ; 9C31= D0 F3       Ps
                ldy L8830                    ; 9C33= AC 30 88    ,0.
                lda L8832                    ; 9C36= AD 32 88    -2.
                sta $E1                      ; 9C39= 85 E1       .a
                ldx #$37                     ; 9C3B= A2 37       "7
                jsr L9B09                    ; 9C3D= 20 09 9B     ..
                ldy L8830                    ; 9C40= AC 30 88    ,0.
                lda L8831                    ; 9C43= AD 31 88    -1.
                jsr L9C4D                    ; 9C46= 20 4D 9C     M.
                ldy L8831                    ; 9C49= AC 31 88    ,1.
                rts                          ; 9C4C= 60          `

L9C4D:
                sta $E0                      ; 9C4D= 85 E0       .`
                ldx #$2C                     ; 9C4F= A2 2C       ",
L9C51:
                jsr L9B09                    ; 9C51= 20 09 9B     ..
                ldy $E0                      ; 9C54= A4 E0       $`
L9C56:
                phy                          ; 9C56= 5A          Z
                lda $0302,y                  ; 9C57= B9 02 03    9..
                cmp $0344                    ; 9C5A= CD 44 03    MD.
                bne L9C67                    ; 9C5D= D0 08       P.
                lda $0303,y                  ; 9C5F= B9 03 03    9..
                cmp $0345                    ; 9C62= CD 45 03    ME.
                beq L9CA0                    ; 9C65= F0 39       p9
L9C67:
                ldx #$2C                     ; 9C67= A2 2C       ",
                jsr L9CC0                    ; 9C69= 20 C0 9C     @.
                ldx #$37                     ; 9C6C= A2 37       "7
                jsr L9CC0                    ; 9C6E= 20 C0 9C     @.
                jsr mos.LDAE4                ; 9C71= 20 E4 DA     dZ
                ldx #$37                     ; 9C74= A2 37       "7
                jsr mos.LD726                ; 9C76= 20 26 D7     &W
                ldx #$2C                     ; 9C79= A2 2C       ",
                jsr mos.LD726                ; 9C7B= 20 26 D7     &W
                ldy #$37                     ; 9C7E= A0 37        7
                jsr mos.LD5CC                ; 9C80= 20 CC D5     LU
                phx                          ; 9C83= DA          Z
                ldx #$FC                     ; 9C84= A2 FC       "|
L9C86:
                lda $0300,y                  ; 9C86= B9 00 03    9..
                sta $024A,x                  ; 9C89= 9D 4A 02    .J.
                iny                          ; 9C8C= C8          H
                inx                          ; 9C8D= E8          h
                bne L9C86                    ; 9C8E= D0 F6       Pv
                plx                          ; 9C90= FA          z
                ldy #$FC                     ; 9C91= A0 FC        |
L9C93:
                lda $0300,x                  ; 9C93= BD 00 03    =..
                sta $0246,y                  ; 9C96= 99 46 02    .F.
                inx                          ; 9C99= E8          h
                iny                          ; 9C9A= C8          H
                bne L9C93                    ; 9C9B= D0 F6       Pv
                ply                          ; 9C9D= 7A          z
                bra L9C56                    ; 9C9E= 80 B6       .6

L9CA0:
                lda #$2C                     ; 9CA0= A9 2C       ),
                ldx $E0                      ; 9CA2= A6 E0       &`
                jsr L9CAC                    ; 9CA4= 20 AC 9C     ,.
                ply                          ; 9CA7= 7A          z
                lda #$37                     ; 9CA8= A9 37       )7
                ldx $E1                      ; 9CAA= A6 E1       &a
L9CAC:
                sta $DE                      ; 9CAC= 85 DE       .^
                lda $0302,x                  ; 9CAE= BD 02 03    =..
                cmp $0302,y                  ; 9CB1= D9 02 03    Y..
                bne L9CBE                    ; 9CB4= D0 08       P.
                lda $0303,x                  ; 9CB6= BD 03 03    =..
                cmp $0303,y                  ; 9CB9= D9 03 03    Y..
                beq L9CC3                    ; 9CBC= F0 05       p.
L9CBE:
                ldx $DE                      ; 9CBE= A6 DE       &^
L9CC0:
                jsr mos.LD71D                ; 9CC0= 20 1D D7     .W
L9CC3:
                lda $0300,x                  ; 9CC3= BD 00 03    =..
                cmp $0342                    ; 9CC6= CD 42 03    MB.
                lda $0301,x                  ; 9CC9= BD 01 03    =..
                sbc $0343                    ; 9CCC= ED 43 03    mC.
                bpl L9CDE                    ; 9CCF= 10 0D       ..
                lda $0300,x                  ; 9CD1= BD 00 03    =..
                sta $0342                    ; 9CD4= 8D 42 03    .B.
                lda $0301,x                  ; 9CD7= BD 01 03    =..
                sta $0343                    ; 9CDA= 8D 43 03    .C.
                rts                          ; 9CDD= 60          `

L9CDE:
                lda $0346                    ; 9CDE= AD 46 03    -F.
                cmp $0300,x                  ; 9CE1= DD 00 03    ]..
                lda $0347                    ; 9CE4= AD 47 03    -G.
                sbc $0301,x                  ; 9CE7= FD 01 03    }..
                bpl L9CF8                    ; 9CEA= 10 0C       ..
                lda $0300,x                  ; 9CEC= BD 00 03    =..
                sta $0346                    ; 9CEF= 8D 46 03    .F.
                lda $0301,x                  ; 9CF2= BD 01 03    =..
                sta $0347                    ; 9CF5= 8D 47 03    .G.
L9CF8:
                rts                          ; 9CF8= 60          `

L9CF9:
                jsr mos.LDDA1                ; 9CF9= 20 A1 DD     !]
                stz $0336                    ; 9CFC= 9C 36 03    .6.
                stz $0337                    ; 9CFF= 9C 37 03    .7.
                jsr mos.LDCB0                ; 9D02= 20 B0 DC     0\
                bne L9D56                    ; 9D05= D0 4F       PO
                jsr mos.LDC1C                ; 9D07= 20 1C DC     .\
L9D0A:
                bit $FF                      ; 9D0A= 24 FF       $.
                bmi L9D56                    ; 9D0C= 30 48       0H
                lda $0336                    ; 9D0E= AD 36 03    -6.
                cmp $0337                    ; 9D11= CD 37 03    M7.
                beq L9D56                    ; 9D14= F0 40       p@
                inc a                        ; 9D16= 1A          .
                sta $0336                    ; 9D17= 8D 36 03    .6.
                tax                          ; 9D1A= AA          *
                lda L8400,x                  ; 9D1B= BD 00 84    =..
                sta $0328                    ; 9D1E= 8D 28 03    .(.
                lda L8500,x                  ; 9D21= BD 00 85    =..
                sta $032C                    ; 9D24= 8D 2C 03    .,.
                lda L8600,x                  ; 9D27= BD 00 86    =..
                pha                          ; 9D2A= 48          H
                lsr a                        ; 9D2B= 4A          J
                lsr a                        ; 9D2C= 4A          J
                sta $0329                    ; 9D2D= 8D 29 03    .).
                pla                          ; 9D30= 68          h
                and #$03                     ; 9D31= 29 03       ).
                sta $032D                    ; 9D33= 8D 2D 03    .-.
                lda L8700,x                  ; 9D36= BD 00 87    =..
                stz $032B                    ; 9D39= 9C 2B 03    .+.
                cmp $0306                    ; 9D3C= CD 06 03    M..
                beq L9D4B                    ; 9D3F= F0 0A       p.
                sta $E0                      ; 9D41= 85 E0       .`
                inc a                        ; 9D43= 1A          .
                jsr mos.LDC48                ; 9D44= 20 48 DC     H\
                bcs L9D56                    ; 9D47= B0 0D       0.
                lda $E0                      ; 9D49= A5 E0       %`
L9D4B:
                cmp $0302                    ; 9D4B= CD 02 03    M..
                beq L9D0A                    ; 9D4E= F0 BA       p:
                dec a                        ; 9D50= 3A          :
                jsr mos.LDC48                ; 9D51= 20 48 DC     H\
                bcc L9D0A                    ; 9D54= 90 B4       .4
L9D56:
                rts                          ; 9D56= 60          `

L9D57:
                lda $0332                    ; 9D57= AD 32 03    -2.
                tay                          ; 9D5A= A8          (
                cmp $032C                    ; 9D5B= CD 2C 03    M,.
                lda $0333                    ; 9D5E= AD 33 03    -3.
                tax                          ; 9D61= AA          *
                sbc $032D                    ; 9D62= ED 2D 03    m-.
                bcs L9D71                    ; 9D65= B0 0A       0.
                iny                          ; 9D67= C8          H
                bne L9D6B                    ; 9D68= D0 01       P.
                inx                          ; 9D6A= E8          h
L9D6B:
                sty $032E                    ; 9D6B= 8C 2E 03    ...
                stx $032F                    ; 9D6E= 8E 2F 03    ./.
L9D71:
                rts                          ; 9D71= 60          `

L9D72:
                cmp #$FE                     ; 9D72= C9 FE       I~
                bcc L9DCC                    ; 9D74= 90 56       .V
                bne L9D8C                    ; 9D76= D0 14       P.
                cpy #$00                     ; 9D78= C0 00       @.
                beq L9DCC                    ; 9D7A= F0 50       pP
L9D7C:
                bit tube.status1                   ; 9D7C= 2C E0 FE    ,`~
                bpl L9D7C                    ; 9D7F= 10 FB       .{
                lda tube.data1                   ; 9D81= AD E1 FE    -a~
                beq L9DCA                    ; 9D84= F0 44       pD
                jsr OSWRCH                   ; 9D86= 20 EE FF     n.
                jmp L9D7C                    ; 9D89= 4C 7C 9D    L|.

L9D8C:
                lda #<tubeHost.LADE0                     ; 9D8C= A9 7B       ){
                sta EVENTV+0                    ; 9D8E= 8D 20 02    . .
                lda #>tubeHost.LADE0                     ; 9D91= A9 06       ).
                sta EVENTV+1                    ; 9D93= 8D 21 02    .!.
                lda #<tubeBrkHandlerAddr        ; 9D96= A9 16       ).
                sta BRKV+0                    ; 9D98= 8D 02 02    ...
                lda #>tubeBrkHandlerAddr      ; 9D9B= A9 00       ).
                sta BRKV+1                    ; 9D9D= 8D 03 02    ...
                lda #$8E                     ; 9DA0= A9 8E       ).
                sta tube.status1                   ; 9DA2= 8D E0 FE    .`~
                ldy #$00                     ; 9DA5= A0 00        .
L9DA7:
                lda tubeHost.codePage0,y                  ; 9DA7= B9 6E AB    9n+
                sta tubeHostAddr+0*256,y
                lda tubeHost.codePages12,y                  ; 9DAD= B9 65 AC    9e,
                sta tubeHostAddr+1*256,y
                lda tubeHost.codePages12+256,y                  ; 9DB3= B9 65 AD    9e-
                sta tubeHostAddr+2*256,y
                dey                          ; 9DB9= 88          .
                bne L9DA7                    ; 9DBA= D0 EB       Pk
                jsr tubeHost.LAB8D                    ; 9DBC= 20 1F 04     ..
                ldx #tubeHost.brkHandler.size
L9DC1:
                lda tubeHost.brkHandler,x                  ; 9DC1= BD 2D AB    =-+
                sta @wtubeBrkHandlerAddr,x                  ; 9DC4= 9D 16 00    ...
                dex                          ; 9DC7= CA          J
                bpl L9DC1                    ; 9DC8= 10 F7       .w

L9DCA:
                lda #$00                     ; Claim call and return

L9DCC:
                cmp #$12                     ; Jump if not SelectFS
                bne L9DEA
                cpy #$04                     ; Exit if not TAPE/ROM
                bcs L9E16
                cpy #$00                     ; Exit if Y=0, no FS
                beq L9E16
                ldx #$03                     ; X=ROMFS, A=FS number
                tya
                cmp #$02                     ; If A=2, ROMFS, jump to select it
                bcs L9DE3
                ldx #$00                     ; X=TAPE, A=speed+2
                adc #$02
L9DE3:
                adc #$89                     ; Convert to TAPE/ROM select value
                jsr mos.LEDC0           ; Call TAPE/ROM select routine
                bra L9DCA                    ; Jump to claim and return

L9DEA:
                cmp #$06                     ; Not ErrorOccured
                bne L9E17
                lda hazel.hasACCCONChanged ; Skip if ACCCON not changed
                beq L9DFC
                stz hazel.hasACCCONChanged ; Clear ACCCON changed flag
                lda hazel.oldACCCON        ; Restore ACCCON
                sta ACCCON
L9DFC:
                phy                          ; 9DFC= 5A          Z
                ldy hazel.moveSrcHandle
                beq L9E08                    ; 9E00= F0 06       p.
                stz hazel.moveSrcHandle
                jsr L8F0F                    ; 9E05= 20 0F 8F     ..
L9E08:
                ldy hazel.moveDestHandle
                beq L9E13                    ; 9E0B= F0 06       p.
                stz hazel.moveDestHandle
                jsr L8F0F                    ; 9E10= 20 0F 8F     ..
L9E13:
                ply                          ; 9E13= 7A          z
                lda #$06                     ; 9E14= A9 06       ).
L9E16:
                rts                          ; 9E16= 60          `

L9E17:
                cmp #$26                     ; 9E17= C9 26       I&
                bne L9E38                    ; 9E19= D0 1D       P.
                lda #$8D                     ; 9E1B= A9 8D       ).
                jsr L9E2C                    ; 9E1D= 20 2C 9E     ,.
                ldx #$03                     ; 9E20= A2 03       ".
                lda #$04                     ; 9E22= A9 04       ).
                bit $C6                      ; 9E24= 24 C6       $F
                beq L9E2A                    ; 9E26= F0 02       p.
                ldx #$00                     ; 9E28= A2 00       ".
L9E2A:
                lda #$8C                     ; 9E2A= A9 8C       ).
L9E2C:
                jsr mos.LEDC0                ; 9E2C= 20 C0 ED     @m
                lda #$00                     ; 9E2F= A9 00       ).
                tay                          ; 9E31= A8          (
                jsr LA1F9                    ; 9E32= 20 F9 A1     y!
                lda #$26                     ; 9E35= A9 26       )&
                rts                          ; 9E37= 60          `

L9E38:
                cmp #$09                     ; 9E38= C9 09       I.
                bne L9E8F                    ; 9E3A= D0 53       PS
                phy                          ; 9E3C= 5A          Z
                lda ($F2),y                  ; 9E3D= B1 F2       1r
                cmp #$0D                     ; 9E3F= C9 0D       I.
                bne L9E61                    ; 9E41= D0 1E       P.
                jsr L9EFC                    ; 9E43= 20 FC 9E     |.
                jsr LA958                    ; 9E46= 20 58 A9     X)
                .text "  MOS",13
                .text 13
                .text "TERMINAL 1.20",13
                .text 0
                bra L9E8B
L9E61:
                ldx #$02                     ; 9E61= A2 02       ".
L9E63:
                lda ($F2),y                  ; 9E63= B1 F2       1r
                cmp #$2E                     ; 9E65= C9 2E       I.
                beq L9E95                    ; 9E67= F0 2C       p,
                and #$DF                     ; 9E69= 29 DF       )_
                cmp L9E92,x                  ; 9E6B= DD 92 9E    ]..
                bne L9E7B                    ; 9E6E= D0 0B       P.
                iny                          ; 9E70= C8          H
                dex                          ; 9E71= CA          J
                bpl L9E63                    ; 9E72= 10 EF       .o
                lda ($F2),y                  ; 9E74= B1 F2       1r
                jsr mos.isLetter             ; 9E76= 20 71 EA     qj
                bcs L9E95                    ; 9E79= B0 1A       0.
L9E7B:
                lda ($F2),y                  ; 9E7B= B1 F2       1r
                cmp #$0D                     ; 9E7D= C9 0D       I.
                beq L9E8B                    ; 9E7F= F0 0A       p.
                iny                          ; 9E81= C8          H
                cmp #$20                     ; 9E82= C9 20       I
                bne L9E7B                    ; 9E84= D0 F5       Pu
                jsr mos.skipSpacesAndCheckForCRInStringInput ; 9E86= 20 FF F2     .r
                bne L9E61                    ; 9E89= D0 D6       PV
L9E8B:
                ply                          ; 9E8B= 7A          z
                lda #$09                     ; 9E8C= A9 09       ).
                rts                          ; 9E8E= 60          `

L9E8F:
                jmp LAE19                    ; 9E8F= 4C 19 AE    L..

L9E92:
                .text "SOM"
                ; EQUB $53                   ; 9E92= 53          S
                ; EQUB $4F                   ; 9E93= 4F          O
                ; EOR LFC20                  ; 9E94= 4D 20 FC    M |
                ; STZ $68A9,x                ; 9E97= 9E A9 68    .)h

L9E95:
                jsr L9EFC                    ; 9E95= 20 FC 9E
                lda #$68                     ; 9E98= A9 68
                sta $B0                      ; 9E9A= 85 B0       .0
                lda #$83                     ; 9E9C= A9 83       ).
                sta $B1                      ; 9E9E= 85 B1       .1
L9EA0:
                lda ($B0)                    ; 9EA0= B2 B0       20
                bmi L9EF4                    ; 9EA2= 30 50       0P
                jsr L9F0C                    ; 9EA4= 20 0C 9F     ..
                jsr L9F0C                    ; 9EA7= 20 0C 9F     ..
                lda ($B0)                    ; 9EAA= B2 B0       20
L9EAC:
                jsr L9F0E                    ; 9EAC= 20 0E 9F     ..
                inc $B0                      ; 9EAF= E6 B0       f0
                bne L9EB5                    ; 9EB1= D0 02       P.
                inc $B1                      ; 9EB3= E6 B1       f1
L9EB5:
                lda ($B0)                    ; 9EB5= B2 B0       20
                bpl L9EAC                    ; 9EB7= 10 F3       .s
                lda #$04                     ; 9EB9= A9 04       ).
                clc                          ; 9EBB= 18          .
                adc $B0                      ; 9EBC= 65 B0       e0
                sta $B0                      ; 9EBE= 85 B0       .0
                bcc L9EC4                    ; 9EC0= 90 02       ..
                inc $B1                      ; 9EC2= E6 B1       f1
L9EC4:
                jsr mos.LE25C                ; 9EC4= 20 5C E2     \b
                cpx #$13                     ; 9EC7= E0 13       `.
                beq L9EEF                    ; 9EC9= F0 24       p$
L9ECB:
                jsr mos.LE252                ; 9ECB= 20 52 E2     Rb
                txa                          ; 9ECE= 8A          .
                beq L9EA0                    ; 9ECF= F0 CF       pO
                cpx #$14                     ; 9ED1= E0 14       `.
                beq L9EA0                    ; 9ED3= F0 CB       pK
                bcc L9EE4                    ; 9ED5= 90 0D       ..
                cpx #$28                     ; 9ED7= E0 28       `(
                beq L9EA0                    ; 9ED9= F0 C5       pE
                bcs L9EE9                    ; 9EDB= B0 0C       0.
                jsr mos.LE25C                ; 9EDD= 20 5C E2     \b
                cpx #$27                     ; 9EE0= E0 27       `'
                beq L9EEF                    ; 9EE2= F0 0B       p.
L9EE4:
                jsr L9F0C                    ; 9EE4= 20 0C 9F     ..
                bra L9ECB                    ; 9EE7= 80 E2       .b

L9EE9:
                cpx #$3C                     ; 9EE9= E0 3C       `<
                bcc L9EE4                    ; 9EEB= 90 F7       .w
                beq L9EA0                    ; 9EED= F0 B1       p1
L9EEF:
                jsr L9F1E                    ; 9EEF= 20 1E 9F     ..
                bra L9EA0                    ; 9EF2= 80 AC       .,

L9EF4:
                jsr mos.LE252                ; 9EF4= 20 52 E2     Rb
                txa                          ; 9EF7= 8A          .
                beq L9E8B                    ; 9EF8= F0 91       p.
                bra L9EEF                    ; 9EFA= 80 F3       .s

L9EFC:
                phy                          ; 9EFC= 5A          Z
                jsr LA958                    ; 9EFD= 20 58 A9     X)
                .text 13,"OS 3.20",13,0
                ply
                rts                          ; 9F0B= 60          `

L9F0C:
                lda #$20                     ; 9F0C= A9 20       )
L9F0E:
                phx                          ; 9F0E= DA          Z
                ldx $B0                      ; 9F0F= A6 B0       &0
                phx                          ; 9F11= DA          Z
                ldx $B1                      ; 9F12= A6 B1       &1
                jsr OSWRCH                   ; 9F14= 20 EE FF     n.
L9F17:
                stx $B1                      ; 9F17= 86 B1       .1
                plx                          ; 9F19= FA          z
                stx $B0                      ; 9F1A= 86 B0       .0
                plx                          ; 9F1C= FA          z
                rts                          ; 9F1D= 60          `

L9F1E:
                phx                          ; 9F1E= DA          Z
                ldx $B0                      ; 9F1F= A6 B0       &0
                phx                          ; 9F21= DA          Z
                ldx $B1                      ; 9F22= A6 B1       &1
                jsr OSNEWL                   ; 9F24= 20 E7 FF     g.
                bra L9F17                    ; 9F27= 80 EE       .n

; TAPE/ROM OSARGS handler
; =======================
L9F29:
                cpy #$00                     ; Handle<>0 - read/write open file info
                bne L9F3B
                ora #$00                     ; A<>0 - read/write filing system info - exit
                bne L9F3A

; A=0, Y=0 - read current filing system
; -------------------------------------
                lda #$03                     ; Prepare A=ROMFS
                bit $0247                    ; If TAPE/ROM switch
                bne L9F3A
                and $C6                      ; Mask with speed to give A=2 or A=1

; TAPE/ROM FSC 6 - shut down FS
; TAPE/ROM FSC 8 - OS command
; TAPE/ROM FSC 10 - *INFO
; -----------------------------
L9F3A:
                rts

; OSARGS handle<>0 - red/write open file info
; -------------------------------------------
L9F3B:
                cmp #$00                     ; Not =PTR, exit unsupported
                bne L9F3A
                cpy #$02                     ; =PTR#2 - read PTR on output handle
                beq L9F60

; Read PTR on CFS/RFS input file
; ------------------------------
                lda #$01                     ; Check if this is input channel and is open
                jsr LAA68
                lda $039E
                sta $00,x
                phy                          ; 9F4D= 5A          Z
                lda $03DE                    ; 9F4E= AD DE 03    -^.
                ldy $03DD                    ; 9F51= AC DD 03    ,].
                bne L9F57                    ; 9F54= D0 01       P.
                dec a                        ; 9F56= 3A          :
L9F57:
                dey                          ; 9F57= 88          .
                sty $01,x                    ; 9F58= 94 01       ..
                ply                          ; 9F5A= 7A          z
L9F5B:
                sta $02,x                    ; 9F5B= 95 02       ..
                stz $03,x                    ; 9F5D= 74 03       t.
                rts                          ; 9F5F= 60          `

; Read PTR on TAPE output file
; ----------------------------
L9F60:
                lda #$02                     ; Check if this is output channel and is open
                jsr LAA68
                lda $039D                    ; Copy PTR to control block
                sta $00,x
                lda $0394
                sta $01,x
                lda $0395
                bra L9F5B

; TAPE/ROM FSC dispatch table
; ---------------------------

_:=[]
_..=[LA422]          ;0 - *OPT
_..=[LA4F1]          ;1 - EOF
_..=[LA110]          ;2 - */
_..=[LA129]          ;3 - unknown * command
_..=[LA110]          ;4 - *RUN
_..=[LA168]          ;5 - *CAT
_..=[L9F3A]          ;6 - shut down FS
_..=[L9F9E]          ;7 - obtain file handle range
_..=[L9F3A]          ;8 - OS command
_..=[LA155]          ;9 - *EX
_..=[L9F3A]          ;10 - *INFO
_..=[LA113]          ;11 - *RUN command for library
tape_and_rom_dispatch_fsc_routines=_
                
L9F74:
                .byte <tape_and_rom_dispatch_fsc_routines-1
L9F80:
                .byte >tape_and_rom_dispatch_fsc_routines-1

; TAPE/ROM FSC
; ============
L9F8C:
                cmp #$0C                     ; function<12 - exit unchanged
                bcs L9F3A
                stx $BC                      ; Index into dispatch table
                tax
                lda L9F80,x
                pha
                lda L9F74,x
                pha
                ldx $BC
                rts

; TAPE/ROM FSC 7 - obtain file handle range
; -----------------------------------------
L9F9E:
                ldx #$03                     ; 9F9E= A2 03       ".
                ldy #$03                     ; 9FA0= A0 03        .
                lda $0247                    ; 9FA2= AD 47 02    -G.
                bne L9F3A                    ; 9FA5= D0 93       P.
                dey                          ; 9FA7= 88          .
                ldx #$01                     ; 9FA8= A2 01       ".
                rts                          ; 9FAA= 60          `

L9FAB:
                pla                          ; 9FAB= 68          h
                plp                          ; 9FAC= 28          (
                sec                          ; 9FAD= 38          8
                rts                          ; 9FAE= 60          `

L9FAF:
                php                          ; 9FAF= 08          .
                pha                          ; 9FB0= 48          H
                jsr LA9F3                    ; 9FB1= 20 F3 A9     s)
                lda $03C2                    ; 9FB4= AD C2 03    -B.
                pha                          ; 9FB7= 48          H
                jsr LA502                    ; 9FB8= 20 02 A5     .%
                pla                          ; 9FBB= 68          h
                bcs L9FAB                    ; 9FBC= B0 ED       0m
                beq L9FD9                    ; 9FBE= F0 19       p.
                ldx #$03                     ; 9FC0= A2 03       ".
                lda #$FF                     ; 9FC2= A9 FF       ).
L9FC4:
                pha                          ; 9FC4= 48          H
                lda $03BE,x                  ; 9FC5= BD BE 03    =>.
                sta $B0,x                    ; 9FC8= 95 B0       .0
                pla                          ; 9FCA= 68          h
                and $B0,x                    ; 9FCB= 35 B0       50
                dex                          ; 9FCD= CA          J
                bpl L9FC4                    ; 9FCE= 10 F4       .t
                inc a                        ; 9FD0= 1A          .
                bne L9FD9                    ; 9FD1= D0 06       P.
                jsr LA9B1                    ; 9FD3= 20 B1 A9     1)
                jmp L934B                    ; 9FD6= 4C 4B 93    LK.

L9FD9:
                lda $03CA                    ; 9FD9= AD CA 03    -J.
                lsr a                        ; 9FDC= 4A          J
                pla                          ; 9FDD= 68          h
                pha                          ; 9FDE= 48          H
                beq L9FF1                    ; 9FDF= F0 10       p.
                bcc L9FF8                    ; 9FE1= 90 15       ..
L9FE3:
                jsr LA9BB                    ; 9FE3= 20 BB A9     ;)
                jsr LAAED                    ; 9FE6= 20 ED AA     m*
                .text $d5,"Locked",0
L9FF1:
                bcc L9FF8                    ; 9FF1= 90 05       ..
                lda #$03                     ; 9FF3= A9 03       ).
                sta $0258                    ; 9FF5= 8D 58 02    .X.
L9FF8:
                lda #$30                     ; 9FF8= A9 30       )0
                and $BB                      ; 9FFA= 25 BB       %;
                beq LA002                    ; 9FFC= F0 04       p.
                lda $C1                      ; 9FFE= A5 C1       %A
LA000:
                bne LA00A                    ; A000= D0 08       P.
LA002:
                phy                          ; A002= 5A          Z
                jsr LAAA4                    ; A003= 20 A4 AA     $*
                ply                          ; A006= 7A          z
                jsr LA6D2                    ; A007= 20 D2 A6     R&
LA00A:
                jsr LA8A1                    ; A00A= 20 A1 A8     !(
                bne LA066                    ; A00D= D0 57       PW
                jsr LAA35                    ; A00F= 20 35 AA     5*
                bit $03CA                    ; A012= 2C CA 03    ,J.
                bmi LA01F                    ; A015= 30 08       0.
                jsr LA85B                    ; A017= 20 5B A8     [(
                jsr LA678                    ; A01A= 20 78 A6     x&
                bra L9FF8                    ; A01D= 80 D9       .Y

LA01F:
                pla                          ; RUN, no control block to update
                beq LA055
                ldy #$02
LA024:
                lda $03BC,y                  ; Copy load/exec to control block
                sta ($C8),y
                iny
                cpy #$0A
                bne LA024
                lda $03C8                    ; Length b0-b7=Block Length b0-b7
                sta ($C8),y
                iny
                lda $03C9
                clc
                adc $03C6                    ; Length b8-b15=Block Number+Block Length b8-b15
                sta ($C8),y
                iny
                lda #$00
                adc $03C7                    ; Length b16-b23=overflow
                sta ($C8),y
                iny                          ; Length b24-b31=&00
                lda #$00
                sta ($C8),y
                iny
LA04B:
                lda $03BD,y                  ; Attrs=&00000000
                sta ($C8),y
                iny
                cpy #$12
                bne LA04B
LA055:
                plp
LA056:
                jsr LA9B1
LA059:
                bit $BA                      ; If flag set, skip printing newline
                bmi LA064
LA05D:
                php                          ; Print inline text
                jsr LA923
                .byte 13                     ; Could just do JSR OSNEWL
                .byte 0
                plp
LA064:
                clc
                rts

LA066:
                jsr LA506                    ; A066= 20 06 A5     .%
                bne L9FF8                    ; A069= D0 8D       P.
LA06B:
                stx $F2                      ; A06B= 86 F2       .r
                sty $F3                      ; A06D= 84 F3       .s
                ldy #$00                     ; A06F= A0 00        .
                jsr mos.LF26D                ; A071= 20 6D F2     mr
                ldx #$00                     ; A074= A2 00       ".
LA076:
                jsr mos.gsreadEntryPoint     ; A076= 20 7F F2     .r
                bcs LA088                    ; A079= B0 0D       0.
                beq LA085                    ; A07B= F0 08       p.
                sta $03D2,x                  ; A07D= 9D D2 03    .R.
                inx                          ; A080= E8          h
                cpx #$0B                     ; A081= E0 0B       `.
                bne LA076                    ; A083= D0 F1       Pq
LA085:
                jmp mos.badStringError       ; A085= 4C 8F F2    L.r

LA088:
                stz $03D2,x                  ; A088= 9E D2 03    .R.
                rts                          ; A08B= 60          `

; CFS/RFS OSFILE
; ==============
LA08C:
                pha
                stx $C8                      ; C8/9=>control block
                sty $C9
                lda ($C8)                    ; Get XY=>filename
                tax
                ldy #$01
                lda ($C8),y
                tay
                jsr LA06B                    ; Parse filename
                ldy #$02
LA09E:
                lda ($C8),y                  ; A09E= B1 C8       1H
                sta $03BC,y                  ; A0A0= 99 BC 03    .<.
                sta $00AE,y                  ; A0A3= 99 AE 00    ...
                iny                          ; A0A6= C8          H
                cpy #$0A                     ; A0A7= C0 0A       @.
                bne LA09E                    ; A0A9= D0 F3       Ps
                pla                          ; A0AB= 68          h
                beq LA0B5                    ; A0AC= F0 07       p.
                cmp #$FF                     ; A0AE= C9 FF       I.
                bne LA064                    ; A0B0= D0 B2       P2
                jmp L9FAF                    ; A0B2= 4C AF 9F    L/.

LA0B5:
                sta $03C6                    ; A0B5= 8D C6 03    .F.
                sta $03C7                    ; A0B8= 8D C7 03    .G.
LA0BB:
                lda ($C8),y                  ; A0BB= B1 C8       1H
                sta $00A6,y                  ; A0BD= 99 A6 00    .&.
                iny                          ; A0C0= C8          H
                cpy #$12                     ; A0C1= C0 12       @.
                bne LA0BB                    ; A0C3= D0 F6       Pv
                txa                          ; A0C5= 8A          .
                beq LA085                    ; A0C6= F0 BD       p=
                jsr LA9F3                    ; A0C8= 20 F3 A9     s)
                jsr LA822                    ; A0CB= 20 22 A8     "(
                lda #$00                     ; A0CE= A9 00       ).
                jsr LAAA6                    ; A0D0= 20 A6 AA     &*
LA0D3:
                sec                          ; A0D3= 38          8
                ldx #$FD                     ; A0D4= A2 FD       "}  -3
LA0D6:
                lda $FFB7,x                  ; A0D6= BD B7 FF    =7.
                sbc $FFB3,x                  ; A0D9= FD B3 FF    }3.
                sta $02CB,x                  ; A0DC= 9D CB 02    .K.
                inx                          ; A0DF= E8          h
                bne LA0D6                    ; A0E0= D0 F4       Pt
                tay                          ; A0E2= A8          (
                bne LA0F3                    ; A0E3= D0 0E       P.
                cpx $03C8                    ; A0E5= EC C8 03    lH.
                lda #$01                     ; A0E8= A9 01       ).
                sbc $03C9                    ; A0EA= ED C9 03    mI.
                bcc LA0F3                    ; A0ED= 90 04       ..
                ldx #$80                     ; A0EF= A2 80       ".
                bra LA0FB                    ; A0F1= 80 08       ..

LA0F3:
                lda #$01                     ; A0F3= A9 01       ).
                sta $03C9                    ; A0F5= 8D C9 03    .I.
                stx $03C8                    ; A0F8= 8E C8 03    .H.
LA0FB:
                stx $03CA                    ; A0FB= 8E CA 03    .J.
                jsr LA6E9                    ; A0FE= 20 E9 A6     i&
                bmi LA17B                    ; A101= 30 78       0x
                jsr LA85B                    ; A103= 20 5B A8     [(
                inc $03C6                    ; A106= EE C6 03    nF.
                bne LA0D3                    ; A109= D0 C8       PH
                inc $03C7                    ; A10B= EE C7 03    nG.
                bra LA0D3                    ; A10E= 80 C3       .C

; TAPE/ROM FSC 2 - */
; TAPE/ROM FSC 4 - *RUN
; ---------------------
LA110:
                sec                          ; A110= 38          8
                ror $CE                      ; A111= 66 CE       fN
; TAPE/ROM FSC 11 - *RUN command for library
; ------------------------------------------
LA113:
                phx                          ; A113= DA          Z
                phy                          ; A114= 5A          Z
                jsr LA06B                    ; A115= 20 6B A0     k
                lda #$00                     ; A118= A9 00       ).
                ldx #$FF                     ; A11A= A2 FF       ".
                stx $03C2                    ; A11C= 8E C2 03    .B.
                jsr L9FAF                    ; A11F= 20 AF 9F     /.
                ply                          ; A122= 7A          z
                plx                          ; A123= FA          z
                bcc LA12E                    ; A124= 90 08       ..
                jsr LA9CA                    ; A126= 20 CA A9     J)

; TAPE/ROM FSC 3 - unknown * command
; ----------------------------------
LA129:
                lda #$0B                     ; A129= A9 0B       ).
                jmp (FSCV)                  ; A12B= 6C 1E 02    l..

LA12E:
                bit $027A                    ; A12E= 2C 7A 02    ,z.
                bpl LA13C                    ; A131= 10 09       ..
                lda $03C4                    ; A133= AD C4 03    -D.
                and $03C5                    ; A136= 2D C5 03    -E.
                inc a                        ; A139= 1A          .
                bne LA14C                    ; A13A= D0 10       P.
LA13C:
                ldx $03C2                    ; A13C= AE C2 03    .B.
                ldy $03C3                    ; A13F= AC C3 03    ,C.
                lda #$A4                     ; A142= A9 A4       )$
                jsr OSBYTE                   ; A144= 20 F4 FF     t.
                lda #$01                     ; A147= A9 01       ).
                jmp ($03C2)                  ; A149= 6C C2 03    lB.

LA14C:
                ldx #$C2                     ; A14C= A2 C2       "B
                ldy #$03                     ; A14E= A0 03        .
                lda #$04                     ; A150= A9 04       ).
                jmp LAAB0                    ; A152= 4C B0 AA    L0*

; TAPE/ROM FSC 9 - *EX
; --------------------
LA155:
                lda #$08                     ; A155= A9 08       ).
                tsb $E2                      ; A157= 04 E2       .b
                lda $E3                      ; A159= A5 E3       %c
                pha                          ; A15B= 48          H
                ora #$CC                     ; A15C= 09 CC       .L
                sta $E3                      ; A15E= 85 E3       .c
                jsr LA9F3                    ; A160= 20 F3 A9     s)
                pla                          ; A163= 68          h
                sta $E3                      ; A164= 85 E3       .c
                bra LA16F                    ; A166= 80 07       ..

; TAPE/ROM FSC 5 - *CAT
; ---------------------
LA168:
                lda #$08                     ; A168= A9 08       ).
                tsb $E2                      ; A16A= 04 E2       .b
                jsr LA9F3                    ; A16C= 20 F3 A9     s)
LA16F:
                lda #$00                     ; A16F= A9 00       ).
                jsr LA17C                    ; A171= 20 7C A1     |!
                jsr LA9CA                    ; A174= 20 CA A9     J)
LA177:
                lda #$08                     ; A177= A9 08       ).
                trb $E2                      ; A179= 14 E2       .b
LA17B:
                rts                          ; A17B= 60          `

LA17C:
                pha                          ; A17C= 48          H
                lda $0247                    ; A17D= AD 47 02    -G.
                beq LA18B                    ; A180= F0 09       p.
                jsr mos.LF6FC                ; A182= 20 FC F6     |v
                jsr mos.LF701                ; A185= 20 01 F7     .w
                clv                          ; A188= B8          8
                bcs LA1DB                    ; A189= B0 50       0P
LA18B:
                jsr LA678                    ; A18B= 20 78 A6     x&
                lda $03C6                    ; A18E= AD C6 03    -F.
                sta $B4                      ; A191= 85 B4       .4
                lda $03C7                    ; A193= AD C7 03    -G.
                sta $B5                      ; A196= 85 B5       .5
                ldx #$FF                     ; A198= A2 FF       ".
                stx $03DF                    ; A19A= 8E DF 03    ._.
                stz $BA                      ; A19D= 64 BA       d:
                bra LA1B7                    ; A19F= 80 16       ..

LA1A1:
                lda $0247                    ; A1A1= AD 47 02    -G.
                beq LA1DD                    ; A1A4= F0 37       p7
LA1A6:
                jsr mos.LF717                ; A1A6= 20 17 F7     .w
LA1A9:
                lda #$FF                     ; A1A9= A9 FF       ).
                sta $03C6                    ; A1AB= 8D C6 03    .F.
                sta $03C7                    ; A1AE= 8D C7 03    .G.
LA1B1:
                jsr LAA35                    ; A1B1= 20 35 AA     5*
                jsr LA678                    ; A1B4= 20 78 A6     x&
LA1B7:
                lda $0247                    ; A1B7= AD 47 02    -G.
                beq LA1BE                    ; A1BA= F0 02       p.
                bvc LA1DB                    ; A1BC= 50 1D       P.
LA1BE:
                pla                          ; A1BE= 68          h
                pha                          ; A1BF= 48          H
                beq LA1DD                    ; A1C0= F0 1B       p.
                jsr LA95C                    ; A1C2= 20 5C A9     \)
                bne LA1A1                    ; A1C5= D0 DA       PZ
                lda #$30                     ; A1C7= A9 30       )0
                and $BB                      ; A1C9= 25 BB       %;
                beq LA1DB                    ; A1CB= F0 0E       p.
                lda $03C6                    ; A1CD= AD C6 03    -F.
                cmp $B6                      ; A1D0= C5 B6       E6
                bne LA1A1                    ; A1D2= D0 CD       PM
                lda $03C7                    ; A1D4= AD C7 03    -G.
                cmp $B7                      ; A1D7= C5 B7       E7
                bne LA1A1                    ; A1D9= D0 C6       PF
LA1DB:
                pla                          ; A1DB= 68          h
                rts                          ; A1DC= 60          `

LA1DD:
                bvc LA1E4                    ; A1DD= 50 05       P.
                lda #$FF                     ; A1DF= A9 FF       ).
                jsr LA6D4                    ; A1E1= 20 D4 A6     T&
LA1E4:
                ldx #$00                     ; A1E4= A2 00       ".
                jsr LA8C4                    ; A1E6= 20 C4 A8     D(
                lda $0247                    ; A1E9= AD 47 02    -G.
                beq LA1F2                    ; A1EC= F0 04       p.
                bit $BB                      ; A1EE= 24 BB       $;
                bvc LA1A6                    ; A1F0= 50 B4       P4
LA1F2:
                bit $03CA                    ; A1F2= 2C CA 03    ,J.
                bmi LA1A9                    ; A1F5= 30 B2       02
                bra LA1B1                    ; A1F7= 80 B8       .8

; CFS/RFS OSFIND HANDLER
; ======================
LA1F9:
                sta $BC                      ; A1F9= 85 BC       .<
                phx                          ; A1FB= DA          Z
                phy                          ; A1FC= 5A          Z
                ora #$00                     ; A1FD= 09 00       ..
                bne LA220                    ; A1FF= D0 1F       P.
                tya                          ; A201= 98          .
                bne LA212                    ; A202= D0 0E       P.
                lda $0247                    ; A204= AD 47 02    -G.
                bne LA20C                    ; A207= D0 03       P.
                jsr LA29C                    ; A209= 20 9C A2     ."
LA20C:
                lda #$01                     ; A20C= A9 01       ).
                trb $E2                      ; A20E= 14 E2       .b
                bra LA21E                    ; A210= 80 0C       ..

LA212:
                lsr a                        ; A212= 4A          J
                bcs LA20C                    ; A213= B0 F7       0w
                lsr a                        ; A215= 4A          J
                bcs LA21B                    ; A216= B0 03       0.
                jmp LAA81                    ; A218= 4C 81 AA    L.*

LA21B:
                jsr LA29C                    ; A21B= 20 9C A2     ."
LA21E:
                bra LA297                    ; A21E= 80 77       .w

LA220:
                jsr LA06B                    ; A220= 20 6B A0     k
                bit $BC                      ; A223= 24 BC       $<
                bvc LA260                    ; A225= 50 39       P9
                stz $039E                    ; A227= 9C 9E 03    ...
                stz $03DD                    ; A22A= 9C DD 03    .].
                stz $03DE                    ; A22D= 9C DE 03    .^.
                lda #$C1                     ; A230= A9 C1       )A
                trb $E2                      ; A232= 14 E2       .b
                jsr LA9E6                    ; A234= 20 E6 A9     f)
                php                          ; A237= 08          .
                jsr LA502                    ; A238= 20 02 A5     .%
                jsr LA5B7                    ; A23B= 20 B7 A5     7%
                plp                          ; A23E= 28          (
                ldx #$FF                     ; A23F= A2 FF       ".
LA241:
                inx                          ; A241= E8          h
                lda $03B2,x                  ; A242= BD B2 03    =2.
                sta $03A7,x                  ; A245= 9D A7 03    .'.
                bne LA241                    ; A248= D0 F7       Pw
                inc a                        ; A24A= 1A          .
                tsb $E2                      ; A24B= 04 E2       .b
                lda $02E9                    ; A24D= AD E9 02    -i.
                ora $02EA                    ; A250= 0D EA 02    .j.
                bne LA259                    ; A253= D0 04       P.
                lda #$40                     ; A255= A9 40       )@
                tsb $E2                      ; A257= 04 E2       .b
LA259:
                lda #$01                     ; A259= A9 01       ).
                ora $0247                    ; A25B= 0D 47 02    .G.
                bne LA295                    ; A25E= D0 35       P5
LA260:
                txa                          ; A260= 8A          .
                bne LA266                    ; A261= D0 03       P.
                jmp mos.badStringError       ; A263= 4C 8F F2    L.r

LA266:
                ldx #$FF                     ; A266= A2 FF       ".
LA268:
                inx                          ; A268= E8          h
                lda $03D2,x                  ; A269= BD D2 03    =R.
                sta $0380,x                  ; A26C= 9D 80 03    ...
                bne LA268                    ; A26F= D0 F7       Pw
                dec a                        ; A271= 3A          :
                ldx #$08                     ; A272= A2 08       ".
LA274:
                sta $038B,x                  ; A274= 9D 8B 03    ...
                dex                          ; A277= CA          J
                bne LA274                    ; A278= D0 FA       Pz
                txa                          ; A27A= 8A          .
                ldx #$14                     ; A27B= A2 14       ".
LA27D:
                sta $0380,x                  ; A27D= 9D 80 03    ...
                inx                          ; A280= E8          h
                cpx #$1E                     ; A281= E0 1E       `.
                bne LA27D                    ; A283= D0 F8       Px
                rol $0397                    ; A285= 2E 97 03    ...
                jsr LA9F3                    ; A288= 20 F3 A9     s)
                jsr LA822                    ; A28B= 20 22 A8     "(
                jsr LA9BB                    ; A28E= 20 BB A9     ;)
                lda #$02                     ; A291= A9 02       ).
                tsb $E2                      ; A293= 04 E2       .b
LA295:
                sta $BC                      ; A295= 85 BC       .<
LA297:
                ply                          ; A297= 7A          z
                plx                          ; A298= FA          z
                lda $BC                      ; A299= A5 BC       %<
LA29B:
                rts                          ; A29B= 60          `

LA29C:
                lda #$02                     ; A29C= A9 02       ).
                and $E2                      ; A29E= 25 E2       %b
                beq LA29B                    ; A2A0= F0 F9       py
                stz $0397                    ; A2A2= 9C 97 03    ...
                lda #$80                     ; A2A5= A9 80       ).
                ldx $039D                    ; A2A7= AE 9D 03    ...
                stx $0396                    ; A2AA= 8E 96 03    ...
                sta $0398                    ; A2AD= 8D 98 03    ...
                jsr LA2B8                    ; A2B0= 20 B8 A2     8"
                lda #$02                     ; A2B3= A9 02       ).
                trb $E2                      ; A2B5= 14 E2       .b
                rts                          ; A2B7= 60          `

LA2B8:
                jsr LA9E6                    ; A2B8= 20 E6 A9     f)
                ldx #$11                     ; A2BB= A2 11       ".
LA2BD:
                lda $038C,x                  ; A2BD= BD 8C 03    =..
                sta $03BE,x                  ; A2C0= 9D BE 03    .>.
                dex                          ; A2C3= CA          J
                bpl LA2BD                    ; A2C4= 10 F7       .w
                stx $B2                      ; A2C6= 86 B2       .2
                stx $B3                      ; A2C8= 86 B3       .3
                stz $B0                      ; A2CA= 64 B0       d0
                lda #$09                     ; A2CC= A9 09       ).
                sta $B1                      ; A2CE= 85 B1       .1
                ldx #$7F                     ; A2D0= A2 7F       ".
                jsr LAA4D                    ; A2D2= 20 4D AA     M*
                sta $03DF                    ; A2D5= 8D DF 03    ._.
                jsr LAA5A                    ; A2D8= 20 5A AA     Z*
                jsr LAAA0                    ; A2DB= 20 A0 AA      *
                jsr LA6E9                    ; A2DE= 20 E9 A6     i&
                inc $0394                    ; A2E1= EE 94 03    n..
                bne LA2E9                    ; A2E4= D0 03       P.
                inc $0395                    ; A2E6= EE 95 03    n..
LA2E9:
                rts                          ; A2E9= 60          `

LA2EA:
                phx                          ; A2EA= DA          Z
                phy                          ; A2EB= 5A          Z
                lda #$01                     ; A2EC= A9 01       ).
LA2EE:
                jsr LAA68                    ; A2EE= 20 68 AA     h*
                lda $E2                      ; A2F1= A5 E2       %b
                asl a                        ; A2F3= 0A          .
                bcs LA343                    ; A2F4= B0 4D       0M
                asl a                        ; A2F6= 0A          .
                bcc LA301                    ; A2F7= 90 08       ..
                lda #$80                     ; A2F9= A9 80       ).
                tsb $E2                      ; A2FB= 04 E2       .b
                lda #$FE                     ; A2FD= A9 FE       )~
                bcs LA33B                    ; A2FF= B0 3A       0:
LA301:
                ldx $039E                    ; A301= AE 9E 03    ...
                inx                          ; A304= E8          h
                cpx $02E9                    ; A305= EC E9 02    li.
                bne LA336                    ; A308= D0 2C       P,
                bit $02EB                    ; A30A= 2C EB 02    ,k.
                bmi LA332                    ; A30D= 30 23       0#
                lda $02EC                    ; A30F= AD EC 02    -l.
                pha                          ; A312= 48          H
                jsr LA9E6                    ; A313= 20 E6 A9     f)
                php                          ; A316= 08          .
                jsr LA5AF                    ; A317= 20 AF A5     /%
                plp                          ; A31A= 28          (
                pla                          ; A31B= 68          h
                sta $BC                      ; A31C= 85 BC       .<
                clc                          ; A31E= 18          .
                bit $02EB                    ; A31F= 2C EB 02    ,k.
                bpl LA33D                    ; A322= 10 19       ..
                lda $02E9                    ; A324= AD E9 02    -i.
                ora $02EA                    ; A327= 0D EA 02    .j.
                bne LA33D                    ; A32A= D0 11       P.
                lda #$40                     ; A32C= A9 40       )@
                tsb $E2                      ; A32E= 04 E2       .b
                bra LA33D                    ; A330= 80 0B       ..

LA332:
                lda #$40                     ; A332= A9 40       )@
                tsb $E2                      ; A334= 04 E2       .b
LA336:
                dex                          ; A336= CA          J
                clc                          ; A337= 18          .
                lda $0A00,x                  ; A338= BD 00 0A    =..
LA33B:
                sta $BC                      ; A33B= 85 BC       .<
LA33D:
                inc $039E                    ; A33D= EE 9E 03    n..
                jmp LA297                    ; A340= 4C 97 A2    L."

LA343:
                jsr LAAED                    ; A343= 20 ED AA     m*
                .text $df,"EOF",0
LA34B:
                sta $C4                      ; A34B= 85 C4       .D
                phx                          ; A34D= DA          Z
                phy                          ; A34E= 5A          Z
                lda #$02                     ; A34F= A9 02       ).
                jsr LAA68                    ; A351= 20 68 AA     h*
                ldx $039D                    ; A354= AE 9D 03    ...
                lda $C4                      ; A357= A5 C4       %D
                sta $0900,x                  ; A359= 9D 00 09    ...
                inx                          ; A35C= E8          h
                bne LA365                    ; A35D= D0 06       P.
                jsr LA2B8                    ; A35F= 20 B8 A2     8"
                jsr LA9BB                    ; A362= 20 BB A9     ;)
LA365:
                inc $039D                    ; A365= EE 9D 03    n..
                lda $C4                      ; A368= A5 C4       %D
                jmp LA295                    ; A36A= 4C 95 A2    L."

; TAPE/ROM OSGBPB handler
; =======================
LA36D:
                lsr a                        ; Odd numbered calls - change PTR - exit with A=changed, SEC
                bcs LA376
                beq LA376                    ; OSGBPB 0 - exit with A=unchanged, SEC
                cmp #$03                     ; function/2<3 - function<6 - function 2 and 4 - jump to do
                bcc LA378
LA376:
                sec
                rts
; Call Return
;  0    A=0   SEC                        - unsupported
;  1    A=0   SEC  Write using new PTR   - unsupported
;  2    A=         Write with current PTR
;  3    A=1   SEC  Read with new PTR     - unsupported
;  4    A=         Read with current PTR
;  5+   A=A/2 SEC                        - unsupported

; TAPE/ROM OSGBPB 2 and 4 - read/write with current PTR
; -----------------------------------------------------
LA378:
                lsr a                        ; A378= 4A          J
                stx $CC                      ; A379= 86 CC       .L
                sty $CD                      ; A37B= 84 CD       .M
                ldy #$01                     ; A37D= A0 01        .
LA37F:
                lda ($CC),y                  ; A37F= B1 CC       1L
                sta $C8                      ; A381= 85 C8       .H
                iny                          ; A383= C8          H
                lda ($CC),y                  ; A384= B1 CC       1L
                sta $C9                      ; A386= 85 C9       .I
                iny                          ; A388= C8          H
                lda ($CC),y                  ; A389= B1 CC       1L
                iny                          ; A38B= C8          H
                and ($CC),y                  ; A38C= 31 CC       1L
                inc a                        ; A38E= 1A          .
                and $027A                    ; A38F= 2D 7A 02    -z.
                pha                          ; A392= 48          H
                php                          ; A393= 08          .
                beq LA3A7                    ; A394= F0 11       p.
                ldx $CC                      ; A396= A6 CC       &L
                ldy $CD                      ; A398= A4 CD       $M
                inx                          ; A39A= E8          h
                bne LA39E                    ; A39B= D0 01       P.
                iny                          ; A39D= C8          H
LA39E:
                lda #$00                     ; A39E= A9 00       ).
                plp                          ; A3A0= 28          (
                php                          ; A3A1= 08          .
                adc #$00                     ; A3A2= 69 00       i.
                jsr LAAB0                    ; A3A4= 20 B0 AA     0*
LA3A7:
                lda ($CC)                    ; A3A7= B2 CC       2L
                tay                          ; A3A9= A8          (
                lda #$01                     ; A3AA= A9 01       ).
                plp                          ; A3AC= 28          (
                php                          ; A3AD= 08          .
                adc #$00                     ; A3AE= 69 00       i.
                jsr LAA8D                    ; A3B0= 20 8D AA     .*
                bcs LA3C1                    ; A3B3= B0 0C       0.
                plp                          ; A3B5= 28          (
                pla                          ; A3B6= 68          h
                beq LA3BE                    ; A3B7= F0 05       p.
                lda #$80                     ; A3B9= A9 80       ).
                jsr tubeHost.entryPoint                    ; A3BB= 20 06 04     ..
LA3BE:
                jmp LAA81                    ; A3BE= 4C 81 AA    L.*

LA3C1:
                plp                          ; A3C1= 28          (
                bcs LA401                    ; A3C2= B0 3D       0=
                bit $E2                      ; A3C4= 24 E2       $b
                bpl LA3D3                    ; A3C6= 10 0B       ..
                pla                          ; A3C8= 68          h
                beq LA3D0                    ; A3C9= F0 05       p.
                lda #$80                     ; A3CB= A9 80       ).
                jsr tubeHost.entryPoint                    ; A3CD= 20 06 04     ..
LA3D0:
                jmp LA343                    ; A3D0= 4C 43 A3    LC#

LA3D3:
                jsr LAAE0                    ; A3D3= 20 E0 AA     `*
                beq LA3F6                    ; A3D6= F0 1E       p.
                lda ($CC)                    ; A3D8= B2 CC       2L
                tay                          ; A3DA= A8          (
                jsr LA2EA                    ; A3DB= 20 EA A2     j"
                bcs LA3F6                    ; A3DE= B0 16       0.
                plx                          ; A3E0= FA          z
                phx                          ; A3E1= DA          Z
                beq LA3E9                    ; A3E2= F0 05       p.
                sta tube.data3                   ; A3E4= 8D E5 FE    .e~
                bra LA3F1                    ; A3E7= 80 08       ..

LA3E9:
                sta ($C8)                    ; A3E9= 92 C8       .H
                inc $C8                      ; A3EB= E6 C8       fH
                bne LA3F1                    ; A3ED= D0 02       P.
                inc $C9                      ; A3EF= E6 C9       fI
LA3F1:
                jsr LAACA                    ; A3F1= 20 CA AA     J*
                bra LA3D3                    ; A3F4= 80 DD       .]

LA3F6:
                pla                          ; A3F6= 68          h
                php                          ; A3F7= 08          .
                beq LA3FF                    ; A3F8= F0 05       p.
                lda #$80                     ; A3FA= A9 80       ).
                jsr tubeHost.entryPoint                    ; A3FC= 20 06 04     ..
LA3FF:
                plp                          ; A3FF= 28          (
                rts                          ; A400= 60          `

LA401:
                jsr LAAE0                    ; A401= 20 E0 AA     `*
                beq LA3F6                    ; A404= F0 F0       pp
                lda ($CC)                    ; A406= B2 CC       2L
                tay                          ; A408= A8          (
                pla                          ; A409= 68          h
                pha                          ; A40A= 48          H
                beq LA412                    ; A40B= F0 05       p.
                lda tube.data3                   ; A40D= AD E5 FE    -e~
                bra LA41A                    ; A410= 80 08       ..

LA412:
                lda ($C8)                    ; A412= B2 C8       2H
                inc $C8                      ; A414= E6 C8       fH
                bne LA41A                    ; A416= D0 02       P.
                inc $C9                      ; A418= E6 C9       fI
LA41A:
                jsr LA34B                    ; A41A= 20 4B A3     K#
                jsr LAACA                    ; A41D= 20 CA AA     J*
                bra LA401                    ; A420= 80 DF       ._

; TAPE/ROM FSC 0 - *OPT
; ---------------------
LA422:
                txa                          ; *OPT 0
                beq LA453
                cpx #$03                     ; *OPT 3
                beq LA448
                cpy #$03                     ; *OPT n,3+ - error Bad command (*BUG* should be Bad option)
                bcs LA433
                dex                          ; *OPT 1
                beq LA436
                dex                          ; *OPT 2
                beq LA43D
LA433:
                jmp mos.LFBED ; *OPT 4+ - error Bad command (*BUG* should be Bad option)

; *OPT 1 - set message level
; --------------------------
LA436:
                lda #$33                     ; A436= A9 33       )3
                iny                          ; A438= C8          H
                iny                          ; A439= C8          H
                iny                          ; A43A= C8          H
                bra LA43F                    ; A43B= 80 02       ..

; *OPT 2 - set error response level
; ---------------------------------
LA43D:
                lda #$CC                     ; A43D= A9 CC       )L
LA43F:
                iny                          ; A43F= C8          H
                and $E3                      ; A440= 25 E3       %c
LA442:
                ora LA456,y                  ; A442= 19 56 A4    .V$
                sta $E3                      ; A445= 85 E3       .c
                rts                          ; A447= 60          `

; *OPT 3 - set interblock gap
; ---------------------------
LA448:
                tya                          ; *OPT 3,128+ - set to default
                bmi LA44D    ;
                bne LA44F                    ; *OPT 3,<>0 - use setting
LA44D:
                lda #$19                     ; *OPT 3,0 or *OPT 3,128+ - use default of 2.5 sec
LA44F:
                sta $03D1                    ; Set inter-block gap
                rts

LA453:
                tay                          ; A453= A8          (
                bra LA442                    ; A454= 80 EC       .l

LA456:
                ; LDA ($00,x)                ; A456= A1 00       !.
                ; EQUB $22                   ; A458= 22          "
                ; ORA ($00),y                ; A459= 11 00       ..
                ; DEY                        ; A45B= 88          .
                ; CPY LC0C6                  ; A45C= CC C6 C0    LF@
                .byte $A1
                .byte $00
                .byte $22
                .byte $11
                .byte $00
                .byte $88
                .byte $CC
LA45D:
                dec $C0
                lda $0247                    ; A45F= AD 47 02    -G.
                beq LA46B                    ; A462= F0 07       p.
                jsr mos.LF710                ; A464= 20 10 F7     .w
                tay                          ; A467= A8          (
                clc                          ; A468= 18          .
                bra LA485                    ; A469= 80 1A       ..

LA46B:
                lda ACIA+0                    ; A46B= AD 08 FE    -.~
                pha                          ; A46E= 48          H
                and #$02                     ; A46F= 29 02       ).
                beq LA47E                    ; A471= F0 0B       p.
                ldy $CA                      ; A473= A4 CA       $J
                beq LA47E                    ; A475= F0 07       p.
                pla                          ; A477= 68          h
                lda $BD                      ; A478= A5 BD       %=
                sta ACIA+1                    ; A47A= 8D 09 FE    ..~
                rts                          ; A47D= 60          `

LA47E:
                ldy ACIA+1                    ; A47E= AC 09 FE    ,.~
                pla                          ; A481= 68          h
                lsr a                        ; A482= 4A          J
                lsr a                        ; A483= 4A          J
                lsr a                        ; A484= 4A          J
LA485:
                ldx $C2                      ; A485= A6 C2       &B
                beq LA4F0                    ; A487= F0 67       pg
                dex                          ; A489= CA          J
                bne LA492                    ; A48A= D0 06       P.
                bcc LA4F0                    ; A48C= 90 62       .b
                ldy #$02                     ; A48E= A0 02        .
                bra LA4EE                    ; A490= 80 5C       .\

LA492:
                dex                          ; A492= CA          J
                bne LA4A8                    ; A493= D0 13       P.
                bcs LA4F0                    ; A495= B0 59       0Y
                tya                          ; A497= 98          .
                jsr LAA44                    ; A498= 20 44 AA     D*
                ldy #$03                     ; A49B= A0 03        .
                cmp #$2A                     ; A49D= C9 2A       I*
                beq LA4EE                    ; A49F= F0 4D       pM
                jsr LAA1C                    ; A4A1= 20 1C AA     .*
                ldy #$01                     ; A4A4= A0 01        .
                bra LA4EE                    ; A4A6= 80 46       .F

LA4A8:
                dex                          ; A4A8= CA          J
                bne LA4B5                    ; A4A9= D0 0A       P.
                bcs LA4B0                    ; A4AB= B0 03       0.
                sty $BD                      ; A4AD= 84 BD       .=
                rts                          ; A4AF= 60          `

LA4B0:
                lda #$80                     ; A4B0= A9 80       ).
                sta $C0                      ; A4B2= 85 C0       .@
                rts                          ; A4B4= 60          `

LA4B5:
                dex                          ; A4B5= CA          J
                bne LA4E1                    ; A4B6= D0 29       P)
                bcs LA4E9                    ; A4B8= B0 2F       0/
                tya                          ; A4BA= 98          .
                jsr LA6A9                    ; A4BB= 20 A9 A6     )&
                ldy $BC                      ; A4BE= A4 BC       $<
                inc $BC                      ; A4C0= E6 BC       f<
                bit $BD                      ; A4C2= 24 BD       $=
                bmi LA4D3                    ; A4C4= 30 0D       0.
                jsr LAABC                    ; A4C6= 20 BC AA     <*
                beq LA4D0                    ; A4C9= F0 05       p.
                stx tube.data3                   ; A4CB= 8E E5 FE    .e~
                bra LA4D3                    ; A4CE= 80 03       ..

LA4D0:
                txa                          ; A4D0= 8A          .
                sta ($B0),y                  ; A4D1= 91 B0       .0
LA4D3:
                iny                          ; A4D3= C8          H
                cpy $03C8                    ; A4D4= CC C8 03    LH.
                bne LA4F0                    ; A4D7= D0 17       P.
                lda #$01                     ; A4D9= A9 01       ).
                sta $BC                      ; A4DB= 85 BC       .<
                ldy #$05                     ; A4DD= A0 05        .
                bra LA4EE                    ; A4DF= 80 0D       ..

LA4E1:
                tya                          ; A4E1= 98          .
                jsr LA6A9                    ; A4E2= 20 A9 A6     )&
                dec $BC                      ; A4E5= C6 BC       F<
                bpl LA4F0                    ; A4E7= 10 07       ..
LA4E9:
                jsr LAA12                    ; A4E9= 20 12 AA     .*
                ldy #$00                     ; A4EC= A0 00        .
LA4EE:
                sty $C2                      ; A4EE= 84 C2       .B
LA4F0:
                rts                          ; A4F0= 60          `

; TAPE/ROM FSC 1 - =EOF
; ---------------------
LA4F1:
                pha
                phy
                txa
                tay
                lda #$03                     ; Check if this channel is open for anything
                jsr LAA68
                lda $E2                      ; Get EOF flag
                and #$40
                tax                          ; Return in X
                ply
                pla
                rts

LA502:
                stz $B4                      ; A502= 64 B4       d4
                stz $B5                      ; A504= 64 B5       d5
LA506:
                lsr $CE                      ; A506= 46 CE       FN
                lda $B4                      ; A508= A5 B4       %4
                pha                          ; A50A= 48          H
                sta $B6                      ; A50B= 85 B6       .6
                lda $B5                      ; A50D= A5 B5       %5
                pha                          ; A50F= 48          H
                sta $B7                      ; A510= 85 B7       .7
                jsr LA923                    ; A512= 20 23 A9     #)
                .text "Searching",13,0
                lda #$ff
                jsr LA17C                    ; A522= 20 7C A1     |!
                pla                          ; A525= 68          h
                sta $B5                      ; A526= 85 B5       .5
                pla                          ; A528= 68          h
                sta $B4                      ; A529= 85 B4       .4
                lda $B6                      ; A52B= A5 B6       %6
                ora $B7                      ; A52D= 05 B7       .7
                bne LA564                    ; A52F= D0 33       P3
                stz $B4                      ; A531= 64 B4       d4
                stz $B5                      ; A533= 64 B5       d5
                lda $0247                    ; A535= AD 47 02    -G.
                beq LA55B                    ; A538= F0 21       p!
                bvs LA55B                    ; A53A= 70 1F       p.
                jsr LA9CA                    ; A53C= 20 CA A9     J)
                bit $CE                      ; A53F= 24 CE       $N
                bvc LA54D                    ; A541= 50 0A       P.
                sec                          ; A543= 38          8
LA544:
                rts                          ; A544= 60          `

LA545:
                lda #$40                     ; A545= A9 40       )@
                jsr OSFIND                   ; A547= 20 CE FF     N.
                tay                          ; A54A= A8          (
                bne LA544                    ; A54B= D0 F7       Pw
LA54D:
                jsr LAAED                    ; A54D= 20 ED AA     m*
                .text $d6,"Not found",0
LA55B:
                lda $C1                      ; A55B= A5 C1       %A
                bne LA564                    ; A55D= D0 05       P.
                ldx #$B1                     ; A55F= A2 B1       "1
                jsr LAA4D                    ; A561= 20 4D AA     M*
LA564:
                ldy #$FF                     ; A564= A0 FF        .
                sty $03DF                    ; A566= 8C DF 03    ._.
                clc                          ; A569= 18          .
                rts                          ; A56A= 60          `

LA56B:
                beq LA584                    ; A56B= F0 17       p.
                pha                          ; A56D= 48          H
                lda #$07                     ; A56E= A9 07       ).
                jsr mos.callFSCV             ; A570= 20 E5 F1     eq
                pla                          ; A573= 68          h
                clc                          ; A574= 18          .
                php                          ; A575= 08          .
                sei                          ; A576= 78          x
                sta $FA                      ; A577= 85 FA       .z
                cpy $FA                      ; A579= C4 FA       Dz
                bcc LA583                    ; A57B= 90 06       ..
                cpx $FA                      ; A57D= E4 FA       dz
                bcc LA587                    ; A57F= 90 06       ..
                beq LA587                    ; A581= F0 04       p.
LA583:
                plp                          ; A583= 28          (
LA584:
                pla                          ; A584= 68          h
                pla                          ; A585= 68          h
                rts                          ; A586= 60          `

LA587:
                plp                          ; A587= 28          (
                lda #$00                     ; A588= A9 00       ).
                rts                          ; A58A= 60          `

LA58B:
                lda $0256                    ; A58B= AD 56 02    -V.
                jsr LA56B                    ; A58E= 20 6B A5     k%
LA591:
                php                          ; A591= 08          .
                phy                          ; A592= 5A          Z
                ldy $0256                    ; A593= AC 56 02    ,V.
                sta $0256                    ; A596= 8D 56 02    .V.
                beq LA59E                    ; A599= F0 03       p.
                jsr OSFIND                   ; A59B= 20 CE FF     N.
LA59E:
                lsr hazel.tempFSFlag      ; A59E= 4E C6 DF    NF_
                ply                          ; A5A1= 7A          z
                plp                          ; A5A2= 28          (
                beq LA5AE                    ; A5A3= F0 09       p.
                asl hazel.tempFSFlag      ; A5A5= 0E C6 DF    .F_
                jsr LA545                    ; A5A8= 20 45 A5     E%
                sta $0256                    ; A5AB= 8D 56 02    .V.
LA5AE:
                rts                          ; A5AE= 60          `

LA5AF:
                ldx #$A6                     ; A5AF= A2 A6       "&
                jsr LAA4D                    ; A5B1= 20 4D AA     M*
                jsr LA678                    ; A5B4= 20 78 A6     x&
LA5B7:
                lda $03CA                    ; A5B7= AD CA 03    -J.
                lsr a                        ; A5BA= 4A          J
                bcc LA5C0                    ; A5BB= 90 03       ..
                jmp L9FE3                    ; A5BD= 4C E3 9F    Lc.

LA5C0:
                lda $03DD                    ; A5C0= AD DD 03    -].
                sta $B4                      ; A5C3= 85 B4       .4
                lda $03DE                    ; A5C5= AD DE 03    -^.
                sta $B5                      ; A5C8= 85 B5       .5
                stz $B0                      ; A5CA= 64 B0       d0
                lda #$0A                     ; A5CC= A9 0A       ).
                sta $B1                      ; A5CE= 85 B1       .1
                lda #$FF                     ; A5D0= A9 FF       ).
                sta $B2                      ; A5D2= 85 B2       .2
                sta $B3                      ; A5D4= 85 B3       .3
                jsr LA6D2                    ; A5D6= 20 D2 A6     R&
                jsr LA8A1                    ; A5D9= 20 A1 A8     !(
                bne LA603                    ; A5DC= D0 25       P%
                lda $0AFF                    ; A5DE= AD FF 0A    -..
                sta $02EC                    ; A5E1= 8D EC 02    .l.
                jsr LAA35                    ; A5E4= 20 35 AA     5*
                stx $03DD                    ; A5E7= 8E DD 03    .].
                sty $03DE                    ; A5EA= 8C DE 03    .^.
                ldx #$02                     ; A5ED= A2 02       ".
LA5EF:
                lda $03C8,x                  ; A5EF= BD C8 03    =H.
                sta $02E9,x                  ; A5F2= 9D E9 02    .i.
                dex                          ; A5F5= CA          J
                bpl LA5EF                    ; A5F6= 10 F7       .w
                bit $02EB                    ; A5F8= 2C EB 02    ,k.
                bpl LA600                    ; A5FB= 10 03       ..
                jsr LA059                    ; A5FD= 20 59 A0     Y
LA600:
                jmp LA9C5                    ; A600= 4C C5 A9    LE)

LA603:
                jsr LA506                    ; A603= 20 06 A5     .%
                bra LA5B7                    ; A606= 80 AF       ./

LA608:
                cmp #$2A                     ; A608= C9 2A       I*
                beq LA643                    ; A60A= F0 37       p7
                cmp #$23                     ; A60C= C9 23       I#
                bne LA61F                    ; A60E= D0 0F       P.
                inc $03C6                    ; A610= EE C6 03    nF.
                bne LA618                    ; A613= D0 03       P.
                inc $03C7                    ; A615= EE C7 03    nG.
LA618:
                ldx #$FF                     ; A618= A2 FF       ".
                bit mos.LE34E                ; A61A= 2C 4E E3    ,Nc
                bra LA670                    ; A61D= 80 51       .Q

LA61F:
                jsr LA177                    ; A61F= 20 77 A1     w!
                jsr LAAED                    ; A622= 20 ED AA     m*
                .byte $D7
                .text "Bad ROM"
                .byte 0
                ; EQUB $D7                   ; A625= D7          W
                ; EQUB $42                   ; A626= 42          B
                ; ADC ($64,x)                ; A627= 61 64       ad
                ; JSR $4F52                  ; A629= 20 52 4F     RO
                ; EOR LA000                  ; A62C= 4D 00 A0    M.
                ; EQUB $FF                   ; A62F= FF          .

LA62E:
                ldy #$FF
                jsr LAA5C                    ; A630= 20 5C AA     \*
                lda #$01                     ; A633= A9 01       ).
                sta $C2                      ; A635= 85 C2       .B
                jsr LAA1C                    ; A637= 20 1C AA     .*
LA63A:
                jsr LA880                    ; A63A= 20 80 A8     .(
                lda #$03                     ; A63D= A9 03       ).
                cmp $C2                      ; A63F= C5 C2       EB
                bne LA63A                    ; A641= D0 F7       Pw
LA643:
                jsr LAA46                    ; A643= 20 46 AA     F*
LA646:
                jsr LA694                    ; A646= 20 94 A6     .&
                bvc LA665                    ; A649= 50 1A       P.
                sta $03B2,y                  ; A64B= 99 B2 03    .2.
                beq LA656                    ; A64E= F0 06       p.
                iny                          ; A650= C8          H
                cpy #$0B                     ; A651= C0 0B       @.
                bne LA646                    ; A653= D0 F1       Pq
                dey                          ; A655= 88          .
LA656:
                ldx #$0C                     ; A656= A2 0C       ".
LA658:
                jsr LA694                    ; A658= 20 94 A6     .&
                bvc LA665                    ; A65B= 50 08       P.
                sta $03B2,x                  ; A65D= 9D B2 03    .2.
                inx                          ; A660= E8          h
                cpx #$1F                     ; A661= E0 1F       `.
                bne LA658                    ; A663= D0 F3       Ps
LA665:
                tya                          ; A665= 98          .
                tax                          ; A666= AA          *
                stz $03B2,x                  ; A667= 9E B2 03    .2.
                lda $BE                      ; A66A= A5 BE       %>
                ora $BF                      ; A66C= 05 BF       .?
                sta $C1                      ; A66E= 85 C1       .A
LA670:
                jsr LAA44                    ; A670= 20 44 AA     D*
                sty $C2                      ; A673= 84 C2       .B
                txa                          ; A675= 8A          .
                bne LA6CC                    ; A676= D0 54       PT
LA678:
                lda $0247                    ; A678= AD 47 02    -G.
                beq LA62E                    ; A67B= F0 B1       p1
LA67D:
                jsr mos.LF710                ; A67D= 20 10 F7     .w
                cmp #$2B                     ; A680= C9 2B       I+
                bne LA608                    ; A682= D0 84       P.
                lda #$08                     ; A684= A9 08       ).
                and $E2                      ; A686= 25 E2       %b
                beq LA68D                    ; A688= F0 03       p.
                jsr LA05D                    ; A68A= 20 5D A0     ]
LA68D:
                jsr mos.LF701                ; A68D= 20 01 F7     .w
                bcc LA67D                    ; A690= 90 EB       .k
                clv                          ; A692= B8          8
                rts                          ; A693= 60          `

LA694:
                lda $0247                    ; A694= AD 47 02    -G.
                beq LA6A6                    ; A697= F0 0D       p.
                phx                          ; A699= DA          Z
                phy                          ; A69A= 5A          Z
                jsr mos.LF710                ; A69B= 20 10 F7     .w
                sta $BD                      ; A69E= 85 BD       .=
                lda #$FF                     ; A6A0= A9 FF       ).
                sta $C0                      ; A6A2= 85 C0       .@
                ply                          ; A6A4= 7A          z
                plx                          ; A6A5= FA          z
LA6A6:
                jsr LA778                    ; A6A6= 20 78 A7     x'
LA6A9:
                php                          ; A6A9= 08          .
                pha                          ; A6AA= 48          H
                sec                          ; A6AB= 38          8
                ror $CB                      ; A6AC= 66 CB       fK
                eor $BF                      ; A6AE= 45 BF       E?
                sta $BF                      ; A6B0= 85 BF       .?
LA6B2:
                lda $BF                      ; A6B2= A5 BF       %?
                clc                          ; A6B4= 18          .
                bpl LA6C2                    ; A6B5= 10 0B       ..
                eor #$08                     ; A6B7= 49 08       I.
                sta $BF                      ; A6B9= 85 BF       .?
                lda $BE                      ; A6BB= A5 BE       %>
                eor #$10                     ; A6BD= 49 10       I.
                sta $BE                      ; A6BF= 85 BE       .>
                sec                          ; A6C1= 38          8
LA6C2:
                rol $BE                      ; A6C2= 26 BE       &>
                rol $BF                      ; A6C4= 26 BF       &?
                lsr $CB                      ; A6C6= 46 CB       FK
                bne LA6B2                    ; A6C8= D0 E8       Ph
                pla                          ; A6CA= 68          h
                plp                          ; A6CB= 28          (
LA6CC:
                rts                          ; A6CC= 60          `

LA6CD:
                jsr LA776                    ; A6CD= 20 76 A7     v'
                bra LA6A9                    ; A6D0= 80 D7       .W

LA6D2:
                lda #$00                     ; A6D2= A9 00       ).
LA6D4:
                sta $BD                      ; A6D4= 85 BD       .=
                ldx #$00                     ; A6D6= A2 00       ".
                stz $BC                      ; A6D8= 64 BC       d<
                bvc LA6E6                    ; A6DA= 50 0A       P.
                lda $03C8                    ; A6DC= AD C8 03    -H.
                ora $03C9                    ; A6DF= 0D C9 03    .I.
                beq LA6E6                    ; A6E2= F0 02       p.
                ldx #$04                     ; A6E4= A2 04       ".
LA6E6:
                stx $C2                      ; A6E6= 86 C2       .B
                rts                          ; A6E8= 60          `

LA6E9:
                php                          ; A6E9= 08          .
                ldx #$03                     ; A6EA= A2 03       ".
LA6EC:
                stz $03CB,x                  ; A6EC= 9E CB 03    .K.
                dex                          ; A6EF= CA          J
                bpl LA6EC                    ; A6F0= 10 FA       .z
                lda $03C6                    ; A6F2= AD C6 03    -F.
                ora $03C7                    ; A6F5= 0D C7 03    .G.
                bne LA6FF                    ; A6F8= D0 05       P.
                jsr LA784                    ; A6FA= 20 84 A7     .'
                bra LA702                    ; A6FD= 80 03       ..

LA6FF:
                jsr LA788                    ; A6FF= 20 88 A7     .'
LA702:
                lda #$2A                     ; A702= A9 2A       )*
                sta $BD                      ; A704= 85 BD       .=
                jsr LAA44                    ; A706= 20 44 AA     D*
                jsr LAA16                    ; A709= 20 16 AA     .*
                jsr LA778                    ; A70C= 20 78 A7     x'
                dey                          ; A70F= 88          .
LA710:
                iny                          ; A710= C8          H
                lda $03D2,y                  ; A711= B9 D2 03    9R.
                sta $03B2,y                  ; A714= 99 B2 03    .2.
                jsr LA6CD                    ; A717= 20 CD A6     M&
                bne LA710                    ; A71A= D0 F4       Pt
                ldx #$0C                     ; A71C= A2 0C       ".
LA71E:
                lda $03B2,x                  ; A71E= BD B2 03    =2.
                jsr LA6CD                    ; A721= 20 CD A6     M&
                inx                          ; A724= E8          h
                cpx #$1D                     ; A725= E0 1D       `.
                bne LA71E                    ; A727= D0 F5       Pu
                jsr LA76F                    ; A729= 20 6F A7     o'
                lda $03C8                    ; A72C= AD C8 03    -H.
                ora $03C9                    ; A72F= 0D C9 03    .I.
                beq LA74F                    ; A732= F0 1B       p.
                jsr LAA46                    ; A734= 20 46 AA     F*
LA737:
                jsr LAABC                    ; A737= 20 BC AA     <*
                beq LA741                    ; A73A= F0 05       p.
                lda tube.data3                   ; A73C= AD E5 FE    -e~
                bra LA743                    ; A73F= 80 02       ..

LA741:
                lda ($B0),y                  ; A741= B1 B0       10
LA743:
                jsr LA6CD                    ; A743= 20 CD A6     M&
                iny                          ; A746= C8          H
                cpy $03C8                    ; A747= CC C8 03    LH.
                bne LA737                    ; A74A= D0 EB       Pk
                jsr LA76F                    ; A74C= 20 6F A7     o'
LA74F:
                jsr LA778                    ; A74F= 20 78 A7     x'
                jsr LA778                    ; A752= 20 78 A7     x'
                jsr LAA12                    ; A755= 20 12 AA     .*
                lda #$01                     ; A758= A9 01       ).
                jsr LA78A                    ; A75A= 20 8A A7     .'
                plp                          ; A75D= 28          (
                jsr LA7AB                    ; A75E= 20 AB A7     +'
                bit $03CA                    ; A761= 2C CA 03    ,J.
                bpl LA76E                    ; A764= 10 08       ..
                php                          ; A766= 08          .
                jsr LA784                    ; A767= 20 84 A7     .'
                jsr LA056                    ; A76A= 20 56 A0     V
                plp                          ; A76D= 28          (
LA76E:
                rts                          ; A76E= 60          `

LA76F:
                lda $BF                      ; A76F= A5 BF       %?
                jsr LA776                    ; A771= 20 76 A7     v'
                lda $BE                      ; A774= A5 BE       %>
LA776:
                sta $BD                      ; A776= 85 BD       .=
LA778:
                jsr LA880                    ; A778= 20 80 A8     .(
                bit $C0                      ; A77B= 24 C0       $@
                bpl LA778                    ; A77D= 10 F9       .y
                stz $C0                      ; A77F= 64 C0       d@
                lda $BD                      ; A781= A5 BD       %=
                rts                          ; A783= 60          `

LA784:
                lda #$32                     ; A784= A9 32       )2
                bra LA78A                    ; A786= 80 02       ..

LA788:
                lda $C7                      ; A788= A5 C7       %G
LA78A:
                ldx #$05                     ; A78A= A2 05       ".
LA78C:
                sta $0240                    ; A78C= 8D 40 02    .@.
LA78F:
                jsr LA880                    ; A78F= 20 80 A8     .(
                bit $0240                    ; A792= 2C 40 02    ,@.
                bpl LA78F                    ; A795= 10 F8       .x
                dex                          ; A797= CA          J
                bne LA78C                    ; A798= D0 F2       Pr
                rts                          ; A79A= 60          `

LA79B:
                lda $03C6                    ; A79B= AD C6 03    -F.
                ora $03C7                    ; A79E= 0D C7 03    .G.
                beq LA7A8                    ; A7A1= F0 05       p.
                bit $03DF                    ; A7A3= 2C DF 03    ,_.
                bpl LA7AB                    ; A7A6= 10 03       ..
LA7A8:
                jsr LA059                    ; A7A8= 20 59 A0     Y
LA7AB:
                ldy #$00                     ; A7AB= A0 00        .
                stz $BA                      ; A7AD= 64 BA       d:
                lda $03CA                    ; A7AF= AD CA 03    -J.
                sta $03DF                    ; A7B2= 8D DF 03    ._.
                jsr mos.LEF1B                ; A7B5= 20 1B EF     .o
                beq LA821                    ; A7B8= F0 67       pg
                lda #$0D                     ; A7BA= A9 0D       ).
                jsr OSWRCH                   ; A7BC= 20 EE FF     n.
LA7BF:
                lda $03B2,y                  ; A7BF= B9 B2 03    92.
                beq LA7D4                    ; A7C2= F0 10       p.
                cmp #$20                     ; A7C4= C9 20       I
                bcc LA7CC                    ; A7C6= 90 04       ..
                cmp #$7F                     ; A7C8= C9 7F       I.
                bcc LA7CE                    ; A7CA= 90 02       ..
LA7CC:
                lda #$3F                     ; A7CC= A9 3F       )?
LA7CE:
                jsr OSWRCH                   ; A7CE= 20 EE FF     n.
                iny                          ; A7D1= C8          H
                bne LA7BF                    ; A7D2= D0 EB       Pk
LA7D4:
                lda $0247                    ; A7D4= AD 47 02    -G.
                beq LA7DD                    ; A7D7= F0 04       p.
                bit $BB                      ; A7D9= 24 BB       $;
                bvc LA821                    ; A7DB= 50 44       PD
LA7DD:
                jsr L9F0C                    ; A7DD= 20 0C 9F     ..
                iny                          ; A7E0= C8          H
                cpy #$0B                     ; A7E1= C0 0B       @.
                bcc LA7D4                    ; A7E3= 90 EF       .o
                lda $03C6                    ; A7E5= AD C6 03    -F.
                tax                          ; A7E8= AA          *
                jsr LA86A                    ; A7E9= 20 6A A8     j(
                bit $03CA                    ; A7EC= 2C CA 03    ,J.
                bpl LA821                    ; A7EF= 10 30       .0
                txa                          ; A7F1= 8A          .
                clc                          ; A7F2= 18          .
                adc $03C9                    ; A7F3= 6D C9 03    mI.
                jsr LA865                    ; A7F6= 20 65 A8     e(
LA7F9:
                lda $03C8                    ; A7F9= AD C8 03    -H.
                jsr LA86A                    ; A7FC= 20 6A A8     j(
                bit $BB                      ; A7FF= 24 BB       $;
                bvc LA821                    ; A801= 50 1E       P.
                ldx #$04                     ; A803= A2 04       ".
LA805:
                jsr L9F0C                    ; A805= 20 0C 9F     ..
                dex                          ; A808= CA          J
                bne LA805                    ; A809= D0 FA       Pz
                ldx #$0F                     ; A80B= A2 0F       ".
                jsr LA815                    ; A80D= 20 15 A8     .(
                jsr L9F0C                    ; A810= 20 0C 9F     ..
                ldx #$13                     ; A813= A2 13       ".
LA815:
                ldy #$04                     ; A815= A0 04        .
LA817:
                lda $03B2,x                  ; A817= BD B2 03    =2.
                jsr LA86A                    ; A81A= 20 6A A8     j(
                dex                          ; A81D= CA          J
                dey                          ; A81E= 88          .
                bne LA817                    ; A81F= D0 F6       Pv
LA821:
                rts                          ; A821= 60          `

LA822:
                lda $0247                    ; A822= AD 47 02    -G.
                beq LA82D                    ; A825= F0 06       p.
                jsr LA9CA                    ; A827= 20 CA A9     J)
                jmp mos.LFBED                ; A82A= 4C ED FB    Lm{

LA82D:
                jsr LAA5A                    ; A82D= 20 5A AA     Z*
                jsr LAAA0                    ; A830= 20 A0 AA      *
                jsr mos.LEF1B                ; A833= 20 1B EF     .o
                beq LA821                    ; A836= F0 E9       pi
                jsr LA923                    ; A838= 20 23 A9     #)
                .text "RECORD then RETURN"
                .byte $00

LA84E:
                jsr LA880
                jsr OSRDCH                   ; A851= 20 E0 FF     `.
                cmp #$0D                     ; A854= C9 0D       I.
                bne LA84E                    ; A856= D0 F6       Pv
                jmp OSNEWL                   ; A858= 4C E7 FF    Lg.

LA85B:
                ldx #$FD                     ; A85B= A2 FD       "}
LA85D:
                inc $B4,x                    ; A85D= F6 B4       v4
                bne LA864                    ; A85F= D0 03       P.
                inx                          ; A861= E8          h
                bne LA85D                    ; A862= D0 F9       Py
LA864:
                rts                          ; A864= 60          `

LA865:
                pha                          ; A865= 48          H
                jsr L9F0C                    ; A866= 20 0C 9F     ..
                pla                          ; A869= 68          h
LA86A:
                pha                          ; A86A= 48          H
                lsr a                        ; A86B= 4A          J
                lsr a                        ; A86C= 4A          J
                lsr a                        ; A86D= 4A          J
                lsr a                        ; A86E= 4A          J
                jsr LA873                    ; A86F= 20 73 A8     s(
                pla                          ; A872= 68          h
LA873:
                and #$0F                     ; A873= 29 0F       ).
                ora #$30                     ; A875= 09 30       .0
                cmp #$3A                     ; A877= C9 3A       I:
                bcc LA87D                    ; A879= 90 02       ..
                adc #$06                     ; A87B= 69 06       i.
LA87D:
                jmp OSWRCH                   ; A87D= 4C EE FF    Ln.

LA880:
                php                          ; A880= 08          .
                bit $EB                      ; A881= 24 EB       $k
                bmi LA889                    ; A883= 30 04       0.
                bit $FF                      ; A885= 24 FF       $.
                bmi LA88B                    ; A887= 30 02       0.
LA889:
                plp                          ; A889= 28          (
                rts                          ; A88A= 60          `

LA88B:
                jsr LA177                    ; A88B= 20 77 A1     w!
                jsr LA9BB                    ; A88E= 20 BB A9     ;)
LA891:
                lda #$7E                     ; A891= A9 7E       )~
                jsr OSBYTE                   ; A893= 20 F4 FF     t.
                jsr LAAED                    ; A896= 20 ED AA     m*
                .byte $11
                .text "Escape"
                .byte $00
LA8A1:
                tya                          ; A8A1= 98          .
                beq LA8B1                    ; A8A2= F0 0D       p.
                jsr LA923                    ; A8A4= 20 23 A9     #)
                .byte $0D
                .text "Loading"
                .byte $0D
                .byte $00
LA8B1:
                stz $BA                      ; A8B1= 64 BA          :
                ldx #$FF                     ; A8B3= A2 FF       ".
                lda $C1                      ; A8B5= A5 C1       %A
                bne LA8C4                    ; A8B7= D0 0B       P.
                jsr LA95C                    ; A8B9= 20 5C A9     \)
                php                          ; A8BC= 08          .
                ldx #$FF                     ; A8BD= A2 FF       ".
                ldy #$11                     ; A8BF= A0 11        .
                plp                          ; A8C1= 28          (
                bne LA8DA                    ; A8C2= D0 16       P.
LA8C4:
                ldy #$04                     ; A8C4= A0 04        .
                lda $C1                      ; A8C6= A5 C1       %A
                bne LA8DA                    ; A8C8= D0 10       P.
                lda $03C6                    ; A8CA= AD C6 03    -F.
                cmp $B4                      ; A8CD= C5 B4       E4
                bne LA8D8                    ; A8CF= D0 07       P.
                lda $03C7                    ; A8D1= AD C7 03    -G.
                cmp $B5                      ; A8D4= C5 B5       E5
                beq LA8E3                    ; A8D6= F0 0B       p.
LA8D8:
                ldy #$1E                     ; A8D8= A0 1E        .
LA8DA:
                phy                          ; A8DA= 5A          Z
                phx                          ; A8DB= DA          Z
                jsr LA7A8                    ; A8DC= 20 A8 A7     ('
                plx                          ; A8DF= FA          z
                ply                          ; A8E0= 7A          z
                bra LA8F3                    ; A8E1= 80 10       ..

LA8E3:
                phx                          ; A8E3= DA          Z
                jsr LA79B                    ; A8E4= 20 9B A7     .'
                jsr LA9A0                    ; A8E7= 20 A0 A9      )
                plx                          ; A8EA= FA          z
                lda $BE                      ; A8EB= A5 BE       %>
                ora $BF                      ; A8ED= 05 BF       .?
                beq LA96A                    ; A8EF= F0 79       py
                ldy #$04                     ; A8F1= A0 04        .
LA8F3:
                lda #$AB                     ; A8F3= A9 AB       )+
                dec $BA                      ; A8F5= C6 BA       F:
                pha                          ; A8F7= 48          H
                bit $EB                      ; A8F8= 24 EB       $k
                bmi LA909                    ; A8FA= 30 0D       0.
                txa                          ; A8FC= 8A          .
                and $0247                    ; A8FD= 2D 47 02    -G.
LA900:
                bne LA909                    ; A900= D0 07       P.
                txa                          ; A902= 8A          .
                and #$11                     ; A903= 29 11       ).
                and $BB                      ; A905= 25 BB       %;
                beq LA918                    ; A907= F0 0F       p.
LA909:
                pla                          ; A909= 68          h
                sta $B9                      ; A90A= 85 B9       .9
                sty $B8                      ; A90C= 84 B8       .8
                jsr LA58B                    ; A90E= 20 8B A5     .%
                lsr $EB                      ; A911= 46 EB       Fk
                jsr LA9B1                    ; A913= 20 B1 A9     1)
                bra LA955                    ; A916= 80 3D       .=

LA918:
                tya                          ; A918= 98          .
                clc                          ; A919= 18          .
                adc #$03                     ; A91A= 69 03       i.
                tay                          ; A91C= A8          (
                bcc LA922                    ; A91D= 90 03       ..
                pla                          ; A91F= 68          h
                inc a                        ; A920= 1A          .
                pha                          ; A921= 48          H
LA922:
                phy                          ; A922= 5A          Z
LA923:
                jsr mos.LEF1B                ; A923= 20 1B EF     .o
                tay                          ; A926= A8          (

;-------------------------------------------------------------------------
;
; Print 0-terminated message using address from stack.
;
; entry:
;
; S=[StrL; StrH] - where Str = (address of string)-1
; Y = 0 to print message; otherwise, don't print message
; 
printFollowingMessage:                       ;
                pla
                sta printMessageAddress+0
                pla
                sta printMessageAddress+1
                phy                          ;save initial Y
                tya                          ;Z=1 if Y=0
                php                          ;save Y=0 state
fetchNextChar:
                inc printMessageAddress+0
                bne +
                inc printMessageAddress+1
+
                lda (printMessageAddress)   ;fetch next char to print
                beq printingFinished        ;branch taken if last char
                plp                         ;restore Y=0 state
                php                         ;save Y=0 state
                beq fetchNextChar ;branch taken if Y=0 - i.e., skip the
                                  ;printing

                ; save printMessageAddress while calling OSASCI - not
                ; obvious why? Does this routine have to be
                ; re-entrant?
                ldy printMessageAddress+0
                phy                          
                ldy printMessageAddress+1
                jsr OSASCI                   
                sty printMessageAddress+1
                ply                          
                sty printMessageAddress+0
                
                bra fetchNextChar

printingFinished:
                plp                          ;discard Y=0 state
                inc printMessageAddress+0
                bne +
                inc printMessageAddress+1
+
                ply                          ;restore initial Y
LA955:
                jmp (printMessageAddress)

LA958:
                ldy #$01                     ; A958= A0 01        .
                bra printFollowingMessage    ; A95A= 80 CB       .K

;-------------------------------------------------------------------------

LA95C:
                ldx #$FF                     ; A95C= A2 FF       ".
LA95E:
                inx                          ; A95E= E8          h
                lda $03D2,x                  ; A95F= BD D2 03    =R.
                bne LA96B                    ; A962= D0 07       P.
                txa                          ; A964= 8A          .
                beq LA96A                    ; A965= F0 03       p.
                lda $03B2,x                  ; A967= BD B2 03    =2.
LA96A:
                rts                          ; A96A= 60          `

LA96B:
                jsr mos.isLetter             ; A96B= 20 71 EA     qj
                eor $03B2,x                  ; A96E= 5D B2 03    ]2.
                bcs LA975                    ; A971= B0 02       0.
                and #$DF                     ; A973= 29 DF       )_
LA975:
                beq LA95E                    ; A975= F0 E7       pg
LA977:
                rts                          ; A977= 60          `

LA978:
                lda $BA                      ; A978= A5 BA       %:
                beq LA99D                    ; A97A= F0 21       p!
                txa                          ; A97C= 8A          .
                beq LA99D                    ; A97D= F0 1E       p.
                lda #$22                     ; A97F= A9 22       )"
                bit $BB                      ; A981= 24 BB       $;
                beq LA99D                    ; A983= F0 18       p.
                jsr LAA12                    ; A985= 20 12 AA     .*
                tay                          ; A988= A8          (
                jsr printFollowingMessage    ; A989= 20 27 A9     ')
                .byte $0D
                .byte $07
                .text "Rewind tape"
                .byte $0D
                .byte $0D
                .byte $00
                rts                          ; A99C= 60          `

LA99D:
                jsr LA05D                    ; A99D= 20 5D A0     ]
LA9A0:
                lda $C2                      ; A9A0= A5 C2       %B
                beq LA977                    ; A9A2= F0 D3       pS
                jsr LA880                    ; A9A4= 20 80 A8     .(
                lda $0247                    ; A9A7= AD 47 02    -G.
                beq LA9A0                    ; A9AA= F0 F4       pt
                jsr LA45D                    ; A9AC= 20 5D A4     ]$
                bra LA9A0                    ; A9AF= 80 EF       .o

LA9B1:
                jsr mos.LEF1B                ; A9B1= 20 1B EF     .o
                beq LA9BB                    ; A9B4= F0 05       p.
LA9B6:
                lda #$07                     ; A9B6= A9 07       ).
                jsr OSWRCH                   ; A9B8= 20 EE FF     n.
LA9BB:
                lda $027A                    ; A9BB= AD 7A 02    -z.
                beq LA9C5                    ; A9BE= F0 05       p.
                lda #$80                     ; A9C0= A9 80       ).
                jsr tubeHost.entryPoint                    ; A9C2= 20 06 04     ..
LA9C5:
                ldx #$00                     ; A9C5= A2 00       ".
                jsr LAA61                    ; A9C7= 20 61 AA     a*
LA9CA:
                php                          ; A9CA= 08          .
                sei                          ; A9CB= 78          x
                lda serialRegisterULACopy                    ; A9CC= AD 82 02    -..
                sta SERPROC+0                    ; A9CF= 8D 10 FE    ..~
                stz $EA                      ; A9D2= 64 EA       dj
                bra LA9D7                    ; A9D4= 80 01       ..

LA9D6:
                php                          ; A9D6= 08          .
LA9D7:
                jsr LAA12                    ; A9D7= 20 12 AA     .*
                lda $0250                    ; A9DA= AD 50 02    -P.
                jmp mos.LE921                ; A9DD= 4C 21 E9    L!i

LA9E0:
                plp                          ; A9E0= 28          (
                bit $FF                      ; A9E1= 24 FF       $.
                bpl LA9FD                    ; A9E3= 10 18       ..
                rts                          ; A9E5= 60          `

LA9E6:
                lda $E3                      ; A9E6= A5 E3       %c
                asl a                        ; A9E8= 0A          .
                asl a                        ; A9E9= 0A          .
                asl a                        ; A9EA= 0A          .
                asl a                        ; A9EB= 0A          .
                sta $BB                      ; A9EC= 85 BB       .;
                lda $03D1                    ; A9EE= AD D1 03    -Q.
                bra LA9FB                    ; A9F1= 80 08       ..

LA9F3:
                lda $E3                      ; A9F3= A5 E3       %c
                and #$F0                     ; A9F5= 29 F0       )p
                sta $BB                      ; A9F7= 85 BB       .;
                lda #$06                     ; A9F9= A9 06       ).
LA9FB:
                sta $C7                      ; A9FB= 85 C7       .G
LA9FD:
                cli                          ; A9FD= 58          X
LA9FE:
                php                          ; A9FE= 08          .
                sei                          ; A9FF= 78          x
LAA00:
                bit $024F                    ; AA00= 2C 4F 02    ,O.
                bpl LA9E0                    ; AA03= 10 DB       .[
                lda $EA                      ; AA05= A5 EA       %j
                bmi LA9E0                    ; AA07= 30 D7       0W
                lda #$01                     ; AA09= A9 01       ).
                sta $EA                      ; AA0B= 85 EA       .j
                jsr LAA12                    ; AA0D= 20 12 AA     .*
                plp                          ; AA10= 28          (
                rts                          ; AA11= 60          `

LAA12:
                lda #$03                     ; AA12= A9 03       ).
                bra LAA31                    ; AA14= 80 1B       ..

LAA16:
                lda #$30                     ; AA16= A9 30       )0
                sta $CA                      ; AA18= 85 CA       .J
                bra LAA2F                    ; AA1A= 80 13       ..

LAA1C:
                lda #$05                     ; AA1C= A9 05       ).
                sta SERPROC+0                    ; AA1E= 8D 10 FE    ..~
                ldx #$FF                     ; AA21= A2 FF       ".
LAA23:
                dex                          ; AA23= CA          J
                bne LAA23                    ; AA24= D0 FD       P}
                stz $CA                      ; AA26= 64 CA       dJ
                lda #$D0                     ; AA28= A9 D0       )P
LAA2A:
                ldy #$85                     ; AA2A= A0 85        .
                sty SERPROC+0                    ; AA2C= 8C 10 FE    ..~
LAA2F:
                ora $C6                      ; AA2F= 05 C6       .F
LAA31:
                sta ACIA+0                    ; AA31= 8D 08 FE    ..~
                rts                          ; AA34= 60          `

LAA35:
                ldx $03C6                    ; AA35= AE C6 03    .F.
                ldy $03C7                    ; AA38= AC C7 03    ,G.
                inx                          ; AA3B= E8          h
                stx $B4                      ; AA3C= 86 B4       .4
                bne LAA41                    ; AA3E= D0 01       P.
                iny                          ; AA40= C8          H
LAA41:
                sty $B5                      ; AA41= 84 B5       .5
                rts                          ; AA43= 60          `

LAA44:
                stz $C0                      ; AA44= 64 C0       d@
LAA46:
                ldy #$00                     ; AA46= A0 00        .
                stz $BE                      ; AA48= 64 BE       d>
                stz $BF                      ; AA4A= 64 BF       d?
                rts                          ; AA4C= 60          `

LAA4D:
                ldy #$FF                     ; AA4D= A0 FF        .
LAA4F:
                iny                          ; AA4F= C8          H
                inx                          ; AA50= E8          h
                lda $0300,x                  ; AA51= BD 00 03    =..
                sta $03D2,y                  ; AA54= 99 D2 03    .R.
                bne LAA4F                    ; AA57= D0 F6       Pv
                rts                          ; AA59= 60          `

LAA5A:
                ldy #$00                     ; AA5A= A0 00        .
LAA5C:
                cli                          ; AA5C= 58          X
                ldx #$01                     ; AA5D= A2 01       ".
                sty $C3                      ; AA5F= 84 C3       .C
LAA61:
                lda #$89                     ; AA61= A9 89       ).
                ldy $C3                      ; AA63= A4 C3       $C
                jmp OSBYTE                   ; AA65= 4C F4 FF    Lt.

; Check if TAPE/ROM channel is open
; ---------------------------------
; Y=handle to check, A=status mask to use
LAA68:
                phy
                jsr LAA8D
                ply
                bcs LAAC9                    ; Channel open, exit
                cpy $0257                    ; Not SPOOL handle
                bne LAA79
                stz $0257                    ; Clear the SPOOL handle
                bra LAA81
LAA79:
                cpy $0256                    ; Not EXEC handle
                bne LAA81
                stz $0256                    ; Clear the EXEC handle
LAA81:
                jsr LAAED                    ; Generate error
                .byte $DE
                .text "Channel"
                brk

LAA8D:
                pha                          ; Toggle channel with CFS/RFS switch
                tya
                eor $0247
                tay                          ; If CFS=unchanged, if RFS 1/2/3->3/0/1
                pla
                and $E2                      ; Mask with open channels bitmask
                lsr a                        ; Move 'input open if tested' into Carry
                dey                          ; Exit if testing CFS#1 or RFS#3
                beq LAA9F
                lsr a                        ; Move 'output open if tested' into Carry
                dey                          ; Exit if testing CFS#2
                beq LAA9F
                clc                          ; Otherwise, Carry=Not Open
LAA9F:
                rts

LAAA0:
                lda #$10                     ; AAA0= A9 10       ).
                bra LAA2A                    ; AAA2= 80 86       ..

LAAA4:
                lda #$01                     ; AAA4= A9 01       ).
LAAA6:
                jsr LAABC                    ; AAA6= 20 BC AA     <*
                beq LAAC9                    ; AAA9= F0 1E       p.
                txa                          ; AAAB= 8A          .
                ldx #$B0                     ; AAAC= A2 B0       "0
                ldy #$00                     ; AAAE= A0 00        .
LAAB0:
                pha                          ; AAB0= 48          H
                lda #$C0                     ; AAB1= A9 C0       )@
LAAB3:
                jsr tubeHost.entryPoint                    ; AAB3= 20 06 04     ..
                bcc LAAB3                    ; AAB6= 90 FB       .{
                pla                          ; AAB8= 68          h
                jmp tubeHost.entryPoint                    ; AAB9= 4C 06 04    L..

LAABC:
                tax                          ; AABC= AA          *
                lda $B2                      ; AABD= A5 B2       %2
                and $B3                      ; AABF= 25 B3       %3
                inc a                        ; AAC1= 1A          .
                beq LAAC9                    ; AAC2= F0 05       p.
                lda $027A                    ; AAC4= AD 7A 02    -z.
                and #$80                     ; AAC7= 29 80       ).
LAAC9:
                rts                          ; AAC9= 60          `

LAACA:
                ldy #$05                     ; AACA= A0 05        .
LAACC:
                lda ($CC),y                  ; AACC= B1 CC       1L
                bne LAAD7                    ; AACE= D0 07       P.
                iny                          ; AAD0= C8          H
                cpy #$08                     ; AAD1= C0 08       @.
                bcc LAACC                    ; AAD3= 90 F7       .w
LAAD5:
                lda ($CC),y                  ; AAD5= B1 CC       1L
LAAD7:
                dec a                        ; AAD7= 3A          :
                sta ($CC),y                  ; AAD8= 91 CC       .L
                dey                          ; AADA= 88          .
                cpy #$05                     ; AADB= C0 05       @.
                bcs LAAD5                    ; AADD= B0 F6       0v
                rts                          ; AADF= 60          `

LAAE0:
                ldy #$08                     ; AAE0= A0 08        .
                lda #$00                     ; AAE2= A9 00       ).
LAAE4:
                ora ($CC),y                  ; AAE4= 11 CC       .L
                dey                          ; AAE6= 88          .
                cpy #$05                     ; AAE7= C0 05       @.
                bcs LAAE4                    ; AAE9= B0 F9       0y
                tax                          ; AAEB= AA          *
                rts                          ; AAEC= 60          `

LAAED:
                sei                          ; AAED= 78          x
                pla                          ; AAEE= 68          h
                sta $FA                      ; AAEF= 85 FA       .z
                pla                          ; AAF1= 68          h
                sta $FB                      ; AAF2= 85 FB       .{
                stz $0100                    ; AAF4= 9C 00 01    ...
                ldy #$00                     ; AAF7= A0 00        .
LAAF9:
                iny                          ; AAF9= C8          H
                lda ($FA),y                  ; AAFA= B1 FA       1z
                sta $0100,y                  ; AAFC= 99 00 01    ...
LAAFF:
                bne LAAF9                    ; AAFF= D0 F8       Px
                jmp $0100                    ; AB01= 4C 00 01    L..

                jsr LAAED                    ; AB04= 20 ED AA     m*
                .text $d8,13,"Data?",0
                bra LAB2A                    ; AB0F= 80 19       ..

                jsr LAAED                    ; AB11= 20 ED AA     m*
                .text $db,13,"File?",0
                bra LAB2A                    ; AB1C= 80 0C       ..

                jsr LAAED                    ; AB1E= 20 ED AA     m*
                .text $da,13,"Block?",0
LAB2A:
                jmp LA978                    ; AB2A= 4C 78 A9    Lx)

;-------------------------------------------------------------------------
;
; Tube host code
;
; See http://mdfs.net/Software/Tube/M128/Host320.lst
;
; I mostly just copied JGH's comments here.

tubeHost: .block          ;tube code
                
brkHandler: .block
                .logical tubeBrkHandlerAddr
                lda #$FF
                jsr sendR4       ;send $ff via R4 to interrupt copro
                lda tube.data2   ;get ACK byte from copro
                lda #$00
                jsr sendR2A       ;send $00 via R2 to specify ERROR
                tay               ;Y=0
                lda ($FD),y       ;get error number
                jsr sendR2A       ;send error number via R2
-
                iny             ;next char
                lda ($FD),y     ;fetch error string char
                jsr sendR2A     ;send via R2
                tax             ;set N/Z as per error string char
                bne -           ;repeat until terminating $00 sent
idleStartup:
                ldx #$FF
                txs             ;clear stack
                cli
idleLoop:
                bit tube.status1 ;is there a char in R1?
                bpl LAB58        ;branch taken if no char in R1
handleOSWRCH:
                lda tube.data1  ;get char from R1
                jsr OSWRCH      ;pass to OSWRCH
LAB58:
                bit tube.status2 ;is there a command in R2?
                bpl idleLoop     ;branch taken if no command in R2
                bit tube.status1 ;is there a char in R1?
                bmi handleOSWRCH ;branch taken if char in R1
                ldx tube.data2   ;get command from R2
                stx callCommandRoutine+1 ;use as index into command
                                         ;table
callCommandRoutine:
                ; not sure why this can't be jmp
                ; (tubeHost.commandRoutines,x)? - and then the table
                ; wouldn't have to be page-aligned.
                jmp (tubeHost.commandRoutines)

                ; ???
                .dword $8000
                .here
size=*-brkHandler
                .bend

; Slightly ugly aliases for inner symbol :(
idleStartup=brkHandler.idleStartup
idleLoop=brkHandler.idleLoop

codePage0:
                .logical tubeHostAddr
copyLanguage:
                jmp LAC30

copyEscapeStatus:
                jmp LADDA

; Tube transfer/claim/release
entryPoint:
                cmp #$80
                bcc dataTransfer
                cmp #$C0
                bcs claim
                ora #$40
                cmp $15
                bne done
release:
                php                          ; AB82= 08          .
                sei                          ; AB83= 78          x
                lda #$05                     ; AB84= A9 05       ).
                jsr sendR4
                jsr sendR4TubeClaimantID
                plp                          ; AB8C= 28          (
LAB8D:
                lda #$80                     ; AB8D= A9 80       ).
                sta $15                      ; AB8F= 85 15       ..
                sta $14                      ; AB91= 85 14       ..
                rts                          ; AB93= 60          `

claim:
                asl tubeClaimed    ;test if Tube free
                bcs claim2         ;taken if Tube free - with C=1 and
                                   ;tube marked as claimed
                cmp tubeClaimantID
                beq done       ;taken with C=1 if already claimed
                clc            ;signal claim failure
                rts

claim2:
                sta tubeClaimantID ; store claimant ID
done:
                rts

dataTransfer:
                php
                sei
                sty tubeTransferAddr+1
                stx tubeTransferAddr+0
                jsr sendR4      ;send reason code to interrupt copro
                tax             ;save reason code
                ldy #$03        ;will send 4 bytes
                jsr sendR4TubeClaimantID ;send Tube claimant ID
-
                lda (tubeTransferAddr),y
                jsr sendR4
                dey
                bpl -

                ; disable R3 FIFO, disable R3 NMI
                ldy #tube.status1.V|tube.status1.M
                sty tube.status1

                ; disable/enable other per-transfer type flags as
                ; appropriate.
                lda dataTransferFlags,x
                sta tube.status1 ;STPVMJIQ

                lsr a           ;0STPVMJI Q
                lsr a           ;00STPVMJ I
                bcc +           ;branch taken if CoPro->I/O transfer

                ; Read R3 twice to delay and empty FIFO
                bit tube.data3
                bit tube.data3
+
                jsr sendR4      ;send value to synchronize
-
                bit tube.status4
                bvc -
                bcs LABE4       ;branch taken if I/O->CoPro transfer
                cpx #$04        ;$04 = execute in CoPro
                bne LABEC       ;taken if not execute in CoPro
LABDB:
                jsr release                    ; ABDB= 20 14 04     ..
                jsr sendR2A                    ; ABDE= 20 61 06     a.
                jmp idleStartup                ; ABE1= 4C 32 00    L2.

LABE4:
                lsr a            ;000STPVM J
                bcc LABEC        ;branch taken if J=0
                ldy #tube.status1.S|tube.status1.M
                sty tube.status1
LABEC:
                plp                          ; ABEC= 28          (
                rts                          ; ABED= 60          `

LABEE:
                ldx $028D   ;get last BREAK type
                beq LABDB   ;if soft break, release Tube, send $80 via
                            ;R2, and enter idle loop.

; The current language is not copied across the Tube on soft Break,
; only on Power-On Break and Hard Break, or when entered explicitly
; with OSBYTE 142.
                
enterNewLanguage: .proc
                lda #$FF
                jsr tubeHost.entryPoint ;claim with ID=$3f
                bcc enterNewLanguage    ;repeat until claimed
                jsr getLanguageParasiteAddr ;sort out addresses
                
transferPage:
                php
                sei

                ; initiate I/O->CoPro 256 bytes, then transfer the
                ; next 256 bytes of the language ROM.
                lda #$07
                jsr doTube
                
                ldy #$00
                stz tubeLanguageHostAddr+0
-
                lda (tubeLanguageHostAddr),y
                sta tube.data3
                nop
                nop
                nop
                iny
                bne -
                plp

                ; advance to next dest page.
                inc tubeLanguageParasiteAddr+1
                bne +
                inc tubeLanguageParasiteAddr+2
                bne +
                inc tubeLanguageParasiteAddr+3
+
                
                inc tubeLanguageHostAddr+1 ;next source page
                bit tubeLanguageHostAddr+1
                bvc transferPage ;branch taken if source page $c0 not
                                 ;reached yet

                ; copy done - execute language in parasite
                jsr getLanguageParasiteAddr
                lda #$04        ;execute in copro

                ; call Tube entry point with whatever reason code,
                ; supplying language parasite address as the parasite
                ; address.
doTube:
                ldy #>tubeLanguageParasiteAddr
                ldx #<tubeLanguageParasiteAddr
                jmp tubeHost.entryPoint
                .pend
                
LAC30:
                cli                          ; AC30= 58          X
                bcs enterNewLanguage         ; AC31= B0 C0       0@
                bne LABEE                    ; AC33= D0 B9       P9
                bra LAC8F                    ; AC35= 80 61       .a

getLanguageParasiteAddr: .proc
                lda #$80                     ; AC37= A9 80       ).
                sta tubeLanguageParasiteAddr+1 ;$xxxx80xx
                sta tubeLanguageHostAddr+1     ;$80xx
                lda #$20
                and $8006  ;test parasite address flag
                tay        ;Y=0 if $8000, Y=$20 if parasite address
                sty tubeLanguageParasiteAddr+0
                beq LAC60       ;branch taken if good to go with A=0
                                ;and Y=0

                ldx $8007       ;get copyright offset
                ; skip copyright message
-
                inx
                lda $8000,x
                bne -
                
                lda $8000+1,x
                sta tubeLanguageParasiteAddr+0
                lda $8000+2,x
                sta tubeLanguageParasiteAddr+1
                ldy $8000+3,x                  
                lda $8000+4,x
LAC60:
                sta tubeLanguageParasiteAddr+3
                sty tubeLanguageParasiteAddr+2
                rts
                .pend
                .here

codePages12:
                .logical tubeHostAddr+256

; names of the indexes here come from app note 004
commandRoutines:
                .cerror (*&$ff)!=0,"commandRoutines must be paged aligned"
                .word doRDCH    ;RDCHNO = $00
                .word doCLI     ;CLINO = $02
                .word doSBYT    ;SBYTNO = $04
                .word doBYTE    ;BYTENO = $06
                .word doWORD    ;WORDNO = $08
                .word doRDLN    ;RDLNNO = $0a
                .word doARGS     ;ARGSNO = $0c
                .word doBGET     ;BGETNO = $0e
                .word doBPUT     ;BPUTNO = $10
                .word doFIND     ;FINDNO = $12
                .word doFILE    ;FILENO = $14
                .word doGBPB     ;GBPBNO = $16

                ; Tube data transfer flags
dataTransferFlags:
                ; 0 - CoPro->I/O bytes
                ;
                ; Enable: PIRQ from R3, PIRQ from R1
                .byte tube.status1.S|tube.status1.J|tube.status1.I

                ; 1 - I/O->CoPro bytes
                ;
                ; Enable: PNMI from R3
                .byte tube.status1.S|tube.status1.M

                ; 2 - CoPro->I/O words
                ;
                ; Enable: 2-byte R3, PIRQ from R2, PIRQ from R1
                .byte tube.status1.S|tube.status1.V|tube.status1.J|tube.status1.I

                ; 3 - I/O->CoPro words
                ;
                ; Enable: 2-byte R3, PNMI from R3
                .byte tube.status1.S|tube.status1.V|tube.status1.M

                ; 4 - Execute in CoPro
                ;
                ; Disable: 2-byte R3, PNMI from R3
                .byte tube.status1.V|tube.status1.M

                ; 5 - Reserved
                ;
                ; Disable: 2-byte R3, PNMI from R3
                .byte tube.status1.V|tube.status1.M

                ; 6 - CoPro->I/O 256 bytes
                ;
                ; Enable: PIRQ from R1
                .byte tube.status1.S|tube.status1.I

                ; 7 - I/O->CoPro 256 bytes
                ;
                ; Disable: 2-byte R3, PNMI from R3
                .byte tube.status1.V|tube.status1.M

doBPUT:
                jsr recvR2      ;Receive file handle
                tay             ;Y = file handle
                jsr recvR2      ;Receive byte
                jsr OSBPUT      ;Do OSBPUT
LAC8F:
                bra sendR27FThenGoIdle

doBGET:
                jsr recvR2      ;Receive file handle
                tay             ;Y = file handle
                jsr OSBGET      ;Do OSBGET
LAC98:
                bra sendR2CAThenGoIdle

doRDCH:
                jsr OSRDCH      ;Do OSRDCH
sendR2CAThenGoIdle:
                ror a           ;set A bit 7 as per carry
                jsr sendR2A     ;send via R2
                rol a           ;restore A
                bra sendR2AThenGoIdle

doFIND: .proc
                jsr recvR2            ;Receive reason code
                beq close             ;taken if A=$00 - CLOSE#
                pha                   ;save reason code
                jsr recvR2String      ;receive file name
                pla                   ;restore reason code
                jsr OSFIND            ;call OSFIND
                bra sendR2AThenGoIdle

close:
                jsr recvR2      ;Receive file handle
                tay             ;Y = file handle
                lda #$00        ;A = $00 - CLOSE#
                jsr OSFIND      ;call OSFIND
                bra sendR27FThenGoIdle
                .pend
                
doARGS:
                jsr recvR2                    ; ACBE= 20 A1 06     !.
                tay                          ; ACC1= A8          (
                ldx #$04                     ; ACC2= A2 04       ".
                jsr LADF8                    ; ACC4= 20 93 06     ..
                jsr OSARGS                   ; ACC7= 20 DA FF     Z.
                jsr sendR2A                    ; ACCA= 20 61 06     a.
                ldx #$03                     ; ACCD= A2 03       ".
LACCF:
                lda $00,x                    ; ACCF= B5 00       5.
                jsr sendR2A                    ; ACD1= 20 61 06     a.
                dex                          ; ACD4= CA          J
                bpl LACCF                    ; ACD5= 10 F8       .x
                bra goIdle_0

;-------------------------------------------------------------------------
;
; Receive a CR-terminated string over the Tube via R2.
;
; exit:
; YX = pointer to received string (here, always $0700)
;
recvR2String: .proc
                ldx #$00
                ldy #$00        ;index
-
                jsr recvR2      ;get next string char
                sta $0700,y     ;store in string buffer
                iny
                beq +           ;taken if too many bytes received
                cmp #$0D
                bne -           ;taken if end of string data not reached
+
                ldy #$07        ;on exit, YX=$0700
                rts                          
                .pend

;-------------------------------------------------------------------------
;
; Handle a Tube OSCLI request.
;
; See App Note 004 p22
;
doCLI:
                jsr recvR2String
                jsr OSCLI
sendR27FThenGoIdle:
                lda #$7F                     ; ACF3= A9 7F       ).
sendR2AThenGoIdle:
-
                bit tube.status2
                bvc -
                sta tube.data2
goIdle_0:
                bra goIdle_1

doGBPB:
                ldx #$0D                     ; ACFF= A2 0D       ".
                jsr LADF8                    ; AD01= 20 93 06     ..
                ldy #$00                     ; AD04= A0 00        .
                jsr OSGBPB                   ; AD06= 20 D1 FF     Q.
                pha                          ; AD09= 48          H
                ldx #$0C                     ; AD0A= A2 0C       ".
LAD0C:
                lda $00,x                    ; AD0C= B5 00       5.
                jsr sendR2A                    ; AD0E= 20 61 06     a.
                dex                          ; AD11= CA          J
                bpl LAD0C                    ; AD12= 10 F8       .x
                pla                          ; AD14= 68          h
                bra sendR2CAThenGoIdle
                
doFILE: .proc
                ldx #$10                     ; AD17= A2 10       ".
-
                jsr recvR2                    ; AD19= 20 A1 06     !.
                sta $01,x                    ; AD1C= 95 01       ..
                dex                          ; AD1E= CA          J
                bne -
                jsr recvR2String                    ; AD21= 20 74 05     t.
                stx $00                      ; AD24= 86 00       ..
                sty $01                      ; AD26= 84 01       ..
                ldy #$00                     ; AD28= A0 00        .
                jsr recvR2                    ; AD2A= 20 A1 06     !.
                jsr OSFILE                   ; AD2D= 20 DD FF     ].
                jsr sendR2A                    ; AD30= 20 61 06     a.
                ldx #$10                     ; AD33= A2 10       ".
-
                lda $01,x                    ; AD35= B5 01       5.
                jsr sendR2A                    ; AD37= 20 61 06     a.
                dex                          ; AD3A= CA          J
                bne -
                bra goIdle_1
                .pend

;-------------------------------------------------------------------------
;
; Do a small (A<$80) OSBYTE 
;
doSBYT:
                jsr recvR2XA    ;receive X and A arguments
                jsr OSBYTE
sendR2X:
                bit tube.status2                   ; AD45= 2C E2 FE    ,b~
                bvc sendR2X
                stx tube.data2                   ; AD4A= 8E E3 FE    .c~
goIdle_1:
                jmp idleLoop                    ; AD4D= 4C 36 00    L6.

doBYTE:
                jsr recvR2XA                    ; AD50= 20 9D 06     ..
                tay                          ; AD53= A8          (
                jsr recvR2                    ; AD54= 20 A1 06     !.
                jsr OSBYTE                   ; AD57= 20 F4 FF     t.
                eor #$9D                     ; AD5A= 49 9D       I.
                beq goIdle_1
                ror a                        ; AD5E= 6A          j
                jsr sendR2A                    ; AD5F= 20 61 06     a.
LAD62:
                bit tube.status2                   ; AD62= 2C E2 FE    ,b~
                bvc LAD62                    ; AD65= 50 FB       P{
                sty tube.data2                   ; AD67= 8C E3 FE    .c~
                bra sendR2X

doWORD:
                jsr recvR2                    ; AD6C= 20 A1 06     !.
                tay                          ; AD6F= A8          (
                jsr LAE0F                    ; AD70= 20 AA 06     *.
                bmi LAD7F                    ; AD73= 30 0A       0.
LAD75:
                jsr recvR2                    ; AD75= 20 A1 06     !.
                sta $0128,x                  ; AD78= 9D 28 01    .(.
                dex                          ; AD7B= CA          J
                bpl LAD75                    ; AD7C= 10 F7       .w
                tya                          ; AD7E= 98          .
LAD7F:
                ldx #$28                     ; AD7F= A2 28       "(
                ldy #$01                     ; AD81= A0 01        .
                jsr OSWORD                   ; AD83= 20 F1 FF     q.
                jsr LAE0F                    ; AD86= 20 AA 06     *.
                bmi goIdle_1
LAD8B:
                ldy $0128,x                  ; AD8B= BC 28 01    <(.
LAD8E:
                bit tube.status2                   ; AD8E= 2C E2 FE    ,b~
                bvc LAD8E                    ; AD91= 50 FB       P{
                sty tube.data2                   ; AD93= 8C E3 FE    .c~
                dex                          ; AD96= CA          J
                bpl LAD8B                    ; AD97= 10 F2       .r
LAD99:
                bra goIdle_1
                
doRDLN:
                ldx #$04                     ; AD9B= A2 04       ".
LAD9D:
                jsr recvR2                    ; AD9D= 20 A1 06     !.
                sta $00,x                    ; ADA0= 95 00       ..
                dex                          ; ADA2= CA          J
                bpl LAD9D                    ; ADA3= 10 F8       .x
                inx                          ; ADA5= E8          h
                txa                          ; ADA6= 8A          .
                tay                          ; ADA7= A8          (
                jsr OSWORD                   ; ADA8= 20 F1 FF     q.
                bcc LADB2                    ; ADAB= 90 05       ..
                lda #$FF                     ; ADAD= A9 FF       ).
                jmp sendR2AThenGoIdle                    ; ADAF= 4C 90 05    L..

LADB2:
                ldx #$00                     ; ADB2= A2 00       ".
                lda #$7F                     ; ADB4= A9 7F       ).
                jsr sendR2A                    ; ADB6= 20 61 06     a.
LADB9:
                lda $0700,x                  ; ADB9= BD 00 07    =..
                jsr sendR2A                    ; ADBC= 20 61 06     a.
                inx                          ; ADBF= E8          h
                cmp #$0D                     ; ADC0= C9 0D       I.
                bne LADB9                    ; ADC2= D0 F5       Pu
                bra LAD99                    ; ADC4= 80 D3       .S

sendR2A:                          ;adc6/0661
                bit tube.status2                   ; ADC6= 2C E2 FE    ,b~
                bvc sendR2A                    ; ADC9= 50 FB       P{
                sta tube.data2                   ; ADCB= 8D E3 FE    .c~
                rts                          ; ADCE= 60          `
                
sendR4TubeClaimantID:              ;adcf
                lda tubeClaimantID ;get Tube ID
sendR4:                          ;add1/066c
                bit tube.status4 ;check R4 status
                bvc sendR4       ;branch taken if FIFO full
                sta tube.data4   ;put byte in FIFO
                rts

LADDA:
                lda $FF                      ; ADDA= A5 FF       %.
                sec                          ; ADDC= 38          8
                ror a                        ; ADDD= 6A          j
                bra LADEF                    ; ADDE= 80 0F       ..

LADE0:
                pha                          ; ADE0= 48          H
                lda #$00                     ; ADE1= A9 00       ).
                jsr LADEF                    ; ADE3= 20 8A 06     ..
                tya                          ; ADE6= 98          .
                jsr LADEF                    ; ADE7= 20 8A 06     ..
                txa                          ; ADEA= 8A          .
                jsr LADEF                    ; ADEB= 20 8A 06     ..
                pla                          ; ADEE= 68          h
LADEF:
                bit tube.status1                   ; ADEF= 2C E0 FE    ,`~
                bvc LADEF                    ; ADF2= 50 FB       P{
                sta tube.data1                   ; ADF4= 8D E1 FE    .a~
                rts                          ; ADF7= 60          `

LADF8:
                jsr recvR2                    ; ADF8= 20 A1 06     !.
                sta $ff,x                    ; ADFB= 95 FF       ..
                dex                          ; ADFD= CA          J
                bne LADF8                    ; ADFE= D0 F8       Px
                bra recvR2                    ; AE00= 80 04       ..

recvR2XA:
                jsr recvR2                    ; AE02= 20 A1 06     !.
                tax                          ; AE05= AA          *
recvR2:
                bit tube.status2                   ; AE06= 2C E2 FE    ,b~
                bpl recvR2                    ; AE09= 10 FB       .{
                lda tube.data2                   ; AE0B= AD E3 FE    -c~
                rts                          ; AE0E= 60          `

LAE0F:
                bit tube.status2                   ; AE0F= 2C E2 FE    ,b~
                bpl LAE0F                    ; AE12= 10 FB       .{
                ldx tube.data2                   ; AE14= AE E3 FE    .c~
                dex                          ; AE17= CA          J
                rts                          ; AE18= 60          `
                .here
                .bend

LAE19:
                php                          ; AE19= 08          .
                phy                          ; AE1A= 5A          Z
                phx                          ; AE1B= DA          Z
                pha                          ; AE1C= 48          H
                cmp #$04                     ; AE1D= C9 04       I.
                beq LAE2E                    ; AE1F= F0 0D       p.
                cmp #$07                     ; AE21= C9 07       I.
                beq LAE4A                    ; AE23= F0 25       p%
                cmp #$2A                     ; AE25= C9 2A       I*
                beq LAE9D                    ; AE27= F0 74       pt
LAE29:
                pla                          ; AE29= 68          h
                plx                          ; AE2A= FA          z
                ply                          ; AE2B= 7A          z
                plp                          ; AE2C= 28          (
                rts                          ; AE2D= 60          `

LAE2E:
                jsr LB832                    ; AE2E= 20 32 B8     28
                cmp #$0B                     ; AE31= C9 0B       I.
                bne LAE29                    ; AE33= D0 F4       Pt
                pla                          ; AE35= 68          h
                plx                          ; AE36= FA          z
                lda #$8E                     ; AE37= A9 8E       ).
                jsr OSBYTE                   ; AE39= 20 F4 FF     t.
LAE3C:
                ldx #$04                     ; AE3C= A2 04       ".
LAE3E:
                lda $0229,x                  ; AE3E= BD 29 02    =).
                cmp LAE93-1,x                ; AE41= DD 92 AE    ]..
                bne LAE49                    ; AE44= D0 03       P.
                dex                          ; AE46= CA          J
                bne LAE3E                    ; AE47= D0 F5       Pu
LAE49:
                rts                          ; AE49= 60          `
                
LAE4A:
                phy                          ; AE4A= 5A          Z
                ply                          ; AE4B= 7A          z
                bne LAE29                    ; AE4C= D0 DB       P[
                lda $EF                      ; AE4E= A5 EF       %o
                cmp #$60                     ; AE50= C9 60       I`
                bne LAE29                    ; AE52= D0 D5       PU
                pla                          ; AE54= 68          h
                phy                          ; AE55= 5A          Z
                sei                          ; AE56= 78          x
                lda $F0                      ; AE57= A5 F0       %p
                bmi LAE6C                    ; AE59= 30 11       0.
                lsr a                        ; AE5B= 4A          J
                bne LAE66                    ; AE5C= D0 08       P.
                lda #$11                     ; AE5E= A9 11       ).
                sta $76                      ; AE60= 85 76       .v
                ror $74                      ; AE62= 66 74       ft
                bra LAE29                    ; AE64= 80 C3       .C

LAE66:
                
                stz $78                      ; AE66= 64 78       dx
                ror $77                      ; AE68= 66 77       fw
                
LAE6A:
                bra LAE29                    ; AE6A= 80 BD       .=

LAE6C:
                lsr a                        ; AE6C= 4A          J
                bcc LAE9D                    ; AE6D= 90 2E       ..
                stz $75                      ; AE6F= 64 75       du
                jsr LAE3C                    ; AE71= 20 3C AE     <.
                beq LAE29                    ; AE74= F0 B3       p3
                ldx #$04                     ; AE76= A2 04       ".
LAE78:
                lda INSV-1,x                  ; AE78= BD 29 02    =).
                sta $6F,x                    ; AE7B= 95 6F       .o
                lda LAE93-1,x                ; AE7D= BD 92 AE    =..
                sta INSV-1,x                  ; AE80= 9D 29 02    .).
                dex                          ; AE83= CA          J
                bne LAE78                    ; AE84= D0 F2       Pr
                ldx #$06                     ; AE86= A2 06       ".
LAE88:
                lda LAE97-1,x                  ; AE88= BD 96 AE    =..
                sta extendedVectorSpace+insvIndex*3-1,x
                dex                          ; AE8E= CA          J
                bne LAE88                    ; AE8F= D0 F7       Pw
                bra LAE6A                    ; AE91= 80 D7       .W

LAE93:
                .word E_INSV             ;
                .word E_REMV
LAE97:
                .word LAED4
                .byte $0f
                .word LAF13
                .byte $0F                    ; AE9C= 0F          .
LAE9D:
                sei                          ; AE9D= 78          x
                jsr LAE3C                    ; AE9E= 20 3C AE     <.
                bne LAE6A                    ; AEA1= D0 C7       PG
                ldx #$06                     ; AEA3= A2 06       ".
LAEA5:
                lda extendedVectorSpace+insvIndex*3-1,x
                cmp LAE97-1,x                  ; AEA8= DD 96 AE    ]..
                bne LAE6A                    ; AEAB= D0 BD       P=
                dex                          ; AEAD= CA          J
                bne LAEA5                    ; AEAE= D0 F5       Pu
                ldx #$04                     ; AEB0= A2 04       ".
LAEB2:
                lda $6F,x                    ; AEB2= B5 6F       5o
                sta $0229,x                  ; AEB4= 9D 29 02    .).
                dex                          ; AEB7= CA          J
                bne LAEB2                    ; AEB8= D0 F8       Px
                lda #$E6                     ; AEBA= A9 E6       )f
                jsr LB823                    ; AEBC= 20 23 B8     #8
                lda #$CB                     ; AEBF= A9 CB       )K
                ldx #$09                     ; AEC1= A2 09       ".
                jsr LB825                    ; AEC3= 20 25 B8     %8
                jsr LB11A                    ; AEC6= 20 1A B1     .1
                inc a                        ; AEC9= 1A          .
LAECA:
                jsr LB823                    ; AECA= 20 23 B8     #8
                dec a                        ; AECD= 3A          :
                cmp #$01                     ; AECE= C9 01       I.
                bne LAECA                    ; AED0= D0 F8       Px
                bra LAE6A                    ; AED2= 80 96       ..

LAED4:
                php                          ; AED4= 08          .
                sei                          ; AED5= 78          x
                cpx #$01                     ; AED6= E0 01       `.
                bne LAF0B                    ; AED8= D0 31       P1
                bit $77                      ; AEDA= 24 77       $w
                bpl LAEEC                    ; AEDC= 10 0E       ..
                cmp #$13                     ; AEDE= C9 13       I.
                beq LAEE7                    ; AEE0= F0 05       p.
                cmp #$11                     ; AEE2= C9 11       I.
                bne LAEEC                    ; AEE4= D0 06       P.
                clc                          ; AEE6= 18          .
LAEE7:
                ror $78                      ; AEE7= 66 78       fx
LAEE9:
                plp                          ; AEE9= 28          (
                clc                          ; AEEA= 18          .
                rts                          ; AEEB= 60          `

LAEEC:
                bit $74                      ; AEEC= 24 74       $t
                bpl LAF0B                    ; AEEE= 10 1B       ..
                pha                          ; AEF0= 48          H
                sec                          ; AEF1= 38          8
                jsr LAF0F                    ; AEF2= 20 0F AF     ./
                tya                          ; AEF5= 98          .
                bne LAF08                    ; AEF6= D0 10       P.
                cpx #$20                     ; AEF8= E0 20       `
                bcs LAF08                    ; AEFA= B0 0C       0.
                lda #$13                     ; AEFC= A9 13       ).
                cpx #$10                     ; AEFE= E0 10       `.
                bcc LAF06                    ; AF00= 90 04       ..
                cmp $76                      ; AF02= C5 76       Ev
                beq LAF08                    ; AF04= F0 02       p.
LAF06:
                sta $75                      ; AF06= 85 75       .u
LAF08:
                pla                          ; AF08= 68          h
                ldx #$01                     ; AF09= A2 01       ".
LAF0B:
                plp                          ; AF0B= 28          (
                jmp ($0070)                  ; AF0C= 6C 70 00    lp.

LAF0F:
                clv                          ; AF0F= B8          8
                jmp (CNPV)                  ; AF10= 6C 2E 02    l..

LAF13:
                php                          ; AF13= 08          .
                sei                          ; AF14= 78          x
                cpx #$01                     ; AF15= E0 01       `.
                bne LAF37                    ; AF17= D0 1E       P.
                bit $74                      ; AF19= 24 74       $t
                bpl LAF33                    ; AF1B= 10 16       ..
                clc                          ; AF1D= 18          .
                jsr LAF0F                    ; AF1E= 20 0F AF     ./
                cpy #$00                     ; AF21= C0 00       @.
                bne LAF31                    ; AF23= D0 0C       P.
                cpx #$20                     ; AF25= E0 20       `
                bcs LAF31                    ; AF27= B0 08       0.
                lda #$11                     ; AF29= A9 11       ).
                cmp $76                      ; AF2B= C5 76       Ev
                beq LAF31                    ; AF2D= F0 02       p.
                sta $75                      ; AF2F= 85 75       .u
LAF31:
                ldx #$01                     ; AF31= A2 01       ".
LAF33:
                plp                          ; AF33= 28          (
                jmp ($0072)                  ; AF34= 6C 72 00    lr.

LAF37:
                cpx #$02                     ; AF37= E0 02       `.
                bne LAF33                    ; AF39= D0 F8       Px
                lda $75                      ; AF3B= A5 75       %u
                tay                          ; AF3D= A8          (
                beq LAF48                    ; AF3E= F0 08       p.
                bvs LAEE9                    ; AF40= 70 A7       p'
                stz $75                      ; AF42= 64 75       du
                sta $76                      ; AF44= 85 76       .v
                bra LAEE9                    ; AF46= 80 A1       .!

LAF48:
                lda $78                      ; AF48= A5 78       %x
                bpl LAF33                    ; AF4A= 10 E7       .g
                plp                          ; AF4C= 28          (
                sec                          ; AF4D= 38          8
LAF4E:
                rts                          ; AF4E= 60          `

LAF4F:
                lda #$DA                     ; AF4F= A9 DA       )Z
                jsr LB823                    ; AF51= 20 23 B8     #8
                jsr LB634                    ; AF54= 20 34 B6     46
                ldy #$00                     ; AF57= A0 00        .
                lda ($FD),y                  ; AF59= B1 FD       1}
                bne LAF63                    ; AF5B= D0 06       P.
                stz $20                      ; AF5D= 64 20       d
                lda #$16                     ; AF5F= A9 16       ).
                sta $6F                      ; AF61= 85 6F       .o
LAF63:
                lda #$0D                     ; AF63= A9 0D       ).
LAF65:
                jsr OSASCI                   ; AF65= 20 E3 FF     c.
                iny                          ; AF68= C8          H
                lda ($FD),y                  ; AF69= B1 FD       1}
                bne LAF65                    ; AF6B= D0 F8       Px
                jsr OSNEWL                   ; AF6D= 20 E7 FF     g.
                sec                          ; AF70= 38          8
                ror $19                      ; AF71= 66 19       f.
                lda $1A                      ; AF73= A5 1A       %.
                bne LAFF4                    ; AF75= D0 7D       P}
LAF77:
                dec a                        ; AF77= 3A          :
                bne LAF4E                    ; AF78= D0 D4       PT
                lda #$01                     ; AF7A= A9 01       ).
                sta $6F                      ; AF7C= 85 6F       .o
LAF7E:
                sei                          ; AF7E= 78          x
                ldx #$FE                     ; AF7F= A2 FE       "~
                txs                          ; AF81= 9A          .
                lda #<LAF4F                     ; AF82= A9 4F       )O
                sta BRKV+0
                lda #>LAF4F
                sta BRKV+1
                lda #<LB7B1
                sta IND1V+0
                lda #>LB7B1
                sta IND1V+1
                lda #<LB7B1
                sta IND2V+0
                lda #>LB7B1
                sta IND2V+1
                ldx #$6E                     ; AFA0= A2 6E       "n
LAFA2:
                stz $00,x                    ; AFA2= 74 00       t.
                dex                          ; AFA4= CA          J
                bpl LAFA2                    ; AFA5= 10 FB       .{
                dec $21                      ; AFA7= C6 21       F!
                dec $34                      ; AFA9= C6 34       F4
                dec $36                      ; AFAB= C6 36       F6
                cli                          ; AFAD= 58          X
                lda #$0B                     ; AFAE= A9 0B       ).
                jsr LB690                    ; AFB0= 20 90 B6     .6
                lda #$87                     ; AFB3= A9 87       ).
                jsr OSBYTE                   ; AFB5= 20 F4 FF     t.
                tya                          ; AFB8= 98          .
                jsr LB579                    ; AFB9= 20 79 B5     y5
                ldy #$FF                     ; AFBC= A0 FF        .
LAFBE:
                iny                          ; AFBE= C8          H
                lda LAFCE,y                  ; AFBF= B9 CE AF    9N/
                beq LAFF4                    ; AFC2= F0 30       p0
                ldx LAFE1,y                  ; AFC4= BE E1 AF    >a/
                phy                          ; AFC7= 5A          Z
                jsr LB825                    ; AFC8= 20 25 B8     %8
                ply                          ; AFCB= 7A          z
                bra LAFBE                    ; AFCC= 80 F0       .p

LAFCE:
                .byte $CB                    ; AFCE= CB          K
                rts                          ; AFCF= 60          `

                rts                          ; AFD0= 60          `

                rts                          ; AFD1= 60          `

                .byte $0F                    ; AFD2= 0F          .
                .byte $0F                    ; AFD3= 0F          .
                cmp mos.LDFDE,x              ; AFD4= DD DE DF    ]^_
                cpx #$E1                     ; AFD7= E0 E1       `a
                .byte $E2                    ; AFD9= E2          b
                .byte $E3                    ; AFDA= E3          c
                cpx $E5                      ; AFDB= E4 E5       de
                tsb $7E                      ; AFDD= 04 7E       .~
                inc $02                      ; AFDF= E6 02       f.
LAFE1:
                brk                          ; AFE1= 00          .
                ora ($03,x)                  ; AFE2= 01 03       ..
                .byte $FF                    ; AFE4= FF          .
                ora ($02,x)                  ; AFE5= 01 02       ..
                cpy #$D0                     ; AFE7= C0 D0       @P
                cpx #$F0                     ; AFE9= E0 F0       `p
                ora ($90,x)                  ; AFEB= 01 90       ..
                ldy #$A0                     ; AFED= A0 A0
                ora ($00,x)                  ; AFEF= 01 00       ..
                brk                          ; AFF1= 00          .
                ora ($02,x)                  ; AFF2= 01 02       ..
LAFF4:
                ldx #$FE                     ; AFF4= A2 FE       "~
                txs                          ; AFF6= 9A          .
                sec                          ; AFF7= 38          8
                ror $1A                      ; AFF8= 66 1A       f.
                stz $1D                      ; AFFA= 64 1D       d.
                jsr LB004                    ; AFFC= 20 04 B0     .0
                jsr LB004                    ; AFFF= 20 04 B0     .0
                bra LB030                    ; B002= 80 2C       .,

LB004:
                jsr LB041                    ; B004= 20 41 B0     A0
                ldy #$01                     ; B007= A0 01        .
                sta ($1B),y                  ; B009= 91 1B       ..
                iny                          ; B00B= C8          H
                txa                          ; B00C= 8A          .
                sta ($1B),y                  ; B00D= 91 1B       ..
                iny                          ; B00F= C8          H
                tya                          ; B010= 98          .
                sta ($1B),y                  ; B011= 91 1B       ..
                asl a                        ; B013= 0A          .
                sta ($1B)                    ; B014= 92 1B       ..
                rts                          ; B016= 60          `

LB017:
                php                          ; B017= 08          .
                pha                          ; B018= 48          H
                phx                          ; B019= DA          Z
                phy                          ; B01A= 5A          Z
                tsx                          ; B01B= BA          :
                inx                          ; B01C= E8          h
                txa                          ; B01D= 8A          .
                eor #$FF                     ; B01E= 49 FF       I.
                sta ($1B)                    ; B020= 92 1B       ..
                tay                          ; B022= A8          (
LB023:
                pla                          ; B023= 68          h
                sta ($1B),y                  ; B024= 91 1B       ..
                dey                          ; B026= 88          .
                bne LB023                    ; B027= D0 FA       Pz
                lda #$20                     ; B029= A9 20       )
                sta $1E                      ; B02B= 85 1E       ..
                jsr LB041                    ; B02D= 20 41 B0     A0
LB030:
                lda ($1B)                    ; B030= B2 1B       2.
                tax                          ; B032= AA          *
                ldy #$00                     ; B033= A0 00        .
LB035:
                iny                          ; B035= C8          H
                lda ($1B),y                  ; B036= B1 1B       1.
                pha                          ; B038= 48          H
                dex                          ; B039= CA          J
                bne LB035                    ; B03A= D0 F9       Py
                ply                          ; B03C= 7A          z
                plx                          ; B03D= FA          z
                pla                          ; B03E= 68          h
                plp                          ; B03F= 28          (
                rts                          ; B040= 60          `

LB041:
                ldy #$04                     ; B041= A0 04        .
                sty $1C                      ; B043= 84 1C       ..
                ldy #$20                     ; B045= A0 20
                ldx #$50                     ; B047= A2 50       "P
                lda #$B6                     ; B049= A9 B6       )6
                lsr $1D                      ; B04B= 46 1D       F.
                bcs LB05B                    ; B04D= B0 0C       0.
                inc $1D                      ; B04F= E6 1D       f.
                ldy #$04                     ; B051= A0 04        .
                sty $1C                      ; B053= 84 1C       ..
                ldy #$00                     ; B055= A0 00        .
                ldx #$5D                     ; B057= A2 5D       "]
                lda #$B0                     ; B059= A9 B0       )0
LB05B:
                sty $1B                      ; B05B= 84 1B       ..
                rts                          ; B05D= 60          `

LB05E:
                jsr LB063                    ; B05E= 20 63 B0     c0
                bra LB05E                    ; B061= 80 FB       .{

LB063:
                bit $20                      ; B063= 24 20       $
                bpl LB06C                    ; B065= 10 05       ..
                jsr LB096                    ; B067= 20 96 B0     .0
                bcc LB083                    ; B06A= 90 17       ..
LB06C:
                bra LB017                    ; B06C= 80 A9       .)

LB06E:
                cmp #$0A                     ; B06E= C9 0A       I.
                bcc LB081                    ; B070= 90 0F       ..
                ldx #$00                     ; B072= A2 00       ".
LB074:
                inx                          ; B074= E8          h
                sbc #$0A                     ; B075= E9 0A       i.
                cmp #$0A                     ; B077= C9 0A       I.
                bcs LB074                    ; B079= B0 F9       0y
                pha                          ; B07B= 48          H
                txa                          ; B07C= 8A          .
                jsr LB06E                    ; B07D= 20 6E B0     n0
                pla                          ; B080= 68          h
LB081:
                ora #$30                     ; B081= 09 30       .0
LB083:
                pha                          ; B083= 48          H
                phy                          ; B084= 5A          Z
                tay                          ; B085= A8          (
                lda #$8A                     ; B086= A9 8A       ).
                ldx #$02                     ; B088= A2 02       ".
                jsr OSBYTE                   ; B08A= 20 F4 FF     t.
                ply                          ; B08D= 7A          z
                pla                          ; B08E= 68          h
                bcc LB0B0                    ; B08F= 90 1F       ..
                jsr LB017                    ; B091= 20 17 B0     .0
                bra LB083                    ; B094= 80 ED       .m

LB096:
                ldy $6F                      ; B096= A4 6F       $o
                beq LB0B1                    ; B098= F0 17       p.
                inc $6F                      ; B09A= E6 6F       fo
                lda LB14C-1,y                ; B09C= B9 4B B1    9K1
                bpl LB0AE                    ; B09F= 10 0D       ..
                stz $6F                      ; B0A1= 64 6F       do
                pha                          ; B0A3= 48          H
                lda #$D9                     ; B0A4= A9 D9       )Y
                jsr LB823                    ; B0A6= 20 23 B8     #8
                pla                          ; B0A9= 68          h
                ldy #$18                     ; B0AA= A0 18        .
                sty $1F                      ; B0AC= 84 1F       ..
LB0AE:
                asl a                        ; B0AE= 0A          .
                lsr a                        ; B0AF= 4A          J
LB0B0:
                rts                          ; B0B0= 60          `

LB0B1:
                lda #$81                     ; B0B1= A9 81       ).
                jsr LB823                    ; B0B3= 20 23 B8     #8
                txa                          ; B0B6= 8A          .
                bcs LB0B0                    ; B0B7= B0 F7       0w
                bpl LB0B0                    ; B0B9= 10 F5       .u
                cmp #$E0                     ; B0BB= C9 E0       I`
                bcs LB0B0                    ; B0BD= B0 F1       0q
                jsr LB0C4                    ; B0BF= 20 C4 B0     D0
                sec                          ; B0C2= 38          8
LB0C3:
                rts                          ; B0C3= 60          `

LB0C4:
                cmp #$99                     ; B0C4= C9 99       I.
                beq LB12A                    ; B0C6= F0 62       pb
                and #$0F                     ; B0C8= 29 0F       ).
                beq LB0E9                    ; B0CA= F0 1D       p.
                cmp #$02                     ; B0CC= C9 02       I.
                bcc LB0EE                    ; B0CE= 90 1E       ..
                beq LB0C3                    ; B0D0= F0 F1       pq
                cmp #$04                     ; B0D2= C9 04       I.
                bcc LB116                    ; B0D4= 90 40       .@
                beq LB11A                    ; B0D6= F0 42       pB
                cmp #$06                     ; B0D8= C9 06       I.
                bcc LB10A                    ; B0DA= 90 2E       ..
                beq LB0F5                    ; B0DC= F0 17       p.
                cmp #$08                     ; B0DE= C9 08       I.
                bcc LB0C3                    ; B0E0= 90 E1       .a
                beq LB11E                    ; B0E2= F0 3A       p:
                cmp #$09                     ; B0E4= C9 09       I.
                beq LB12E                    ; B0E6= F0 46       pF
                rts                          ; B0E8= 60          `

LB0E9:
                lda #$0C                     ; B0E9= A9 0C       ).
LB0EB:
                jmp OSWRCH                   ; B0EB= 4C EE FF    Ln.

LB0EE:
                lda #$16                     ; B0EE= A9 16       ).
                sta $6F                      ; B0F0= 85 6F       .o
                stz $20                      ; B0F2= 64 20       d
                rts                          ; B0F4= 60          `

LB0F5:
                ldx #$10                     ; B0F5= A2 10       ".
                jsr LB101                    ; B0F7= 20 01 B1     .1
                and #$10                     ; B0FA= 29 10       ).
                bne LB113                    ; B0FC= D0 15       P.
LB0FE:
                jmp LB7B6                    ; B0FE= 4C B6 B7    L67

LB101:
                lda #$EC                     ; B101= A9 EC       )l
                ldy #$FF                     ; B103= A0 FF        .
                jsr OSBYTE                   ; B105= 20 F4 FF     t.
                txa                          ; B108= 8A          .
                rts                          ; B109= 60          `

LB10A:
                ldx #$40                     ; B10A= A2 40       "@
                jsr LB101                    ; B10C= 20 01 B1     .1
                and #$40                     ; B10F= 29 40       )@
                beq LB0FE                    ; B111= F0 EB       pk
LB113:
                jmp LB7E2                    ; B113= 4C E2 B7    Lb7

LB116:
                lda #$02                     ; B116= A9 02       ).
                bra LB0EB                    ; B118= 80 D1       .Q

LB11A:
                lda #$03                     ; B11A= A9 03       ).
                bra LB0EB                    ; B11C= 80 CD       .M

LB11E:
                lda #$FF                     ; B11E= A9 FF       ).
                eor $21                      ; B120= 45 21       E!
                sta $21                      ; B122= 85 21       .!
                sta $20                      ; B124= 85 20       .
                bne LB0FE                    ; B126= D0 D6       PV
                bra LB113                    ; B128= 80 E9       .i

LB12A:
                ldx #$0C                     ; B12A= A2 0C       ".
                bra LB130                    ; B12C= 80 02       ..

LB12E:
                ldx #$AF                     ; B12E= A2 AF       "/
LB130:
                phx                          ; B130= DA          Z
                ldx #$60                     ; B131= A2 60       "`
                jsr LB82A                    ; B133= 20 2A B8     *8
                plx                          ; B136= FA          z
LB137:
                phx                          ; B137= DA          Z
                lda #$13                     ; B138= A9 13       ).
                jsr OSBYTE                   ; B13A= 20 F4 FF     t.
                plx                          ; B13D= FA          z
                dex                          ; B13E= CA          J
                bne LB137                    ; B13F= D0 F6       Pv
                ldx #$00                     ; B141= A2 00       ".
                jsr LB82A                    ; B143= 20 2A B8     *8
LB146:
                jsr LB198                    ; B146= 20 98 B1     .1
                bcc LB146                    ; B149= 90 FB       .{
                rts                          ; B14B= 60          `

LB14C:
                .byte $1B                    ; B14C= 1B          .
                lsr $4B2A,x                  ; B14D= 5E 2A 4B    ^*K
                eor $59                      ; B150= 45 59       EY
                and $217C,y                  ; B152= 39 7C 21    9|!
                jmp ($1B59,x)                ; B155= 7C 59 1B    |Y.

                .byte $5C                    ; B158= 5C          \
                .byte $54                    ; B159= 54          T
                eor $52                      ; B15A= 45 52       ER
                eor $4E49                    ; B15C= 4D 49 4E    MIN
                eor ($4C,x)                  ; B15F= 41 4C       AL
                ora $3D0A                    ; B161= 0D 0A 3D    ..=
                .byte $1B                    ; B164= 1B          .
;BNE LB187        :\ B165= D0 20       P
;BVS LB11A        :\ B167= 70 B1       p1
                .byte $D0
LB166:
                jsr LB170
                bcs LB1C4                    ; B169= B0 59       0Y
                cmp #$1B                     ; B16B= C9 1B       I.
                bne LB166                    ; B16D= D0 F7       Pw
                rts                          ; B16F= 60          `

LB170:
                jsr LB17A                    ; B170= 20 7A B1     z1
                cmp #$7F                     ; B173= C9 7F       I.
                beq LB170                    ; B175= F0 F9       py
                cmp #$20                     ; B177= C9 20       I
                rts                          ; B179= 60          `

LB17A:
                phx                          ; B17A= DA          Z
                phy                          ; B17B= 5A          Z
LB17C:
                jsr LB189                    ; B17C= 20 89 B1     .1
                bcs LB184                    ; B17F= B0 03       0.
                ply                          ; B181= 7A          z
                plx                          ; B182= FA          z
                rts                          ; B183= 60          `

LB184:
                jsr LB017                    ; B184= 20 17 B0     .0
LB187:
                bra LB17C                    ; B187= 80 F3       .s

LB189:
                bit $20                      ; B189= 24 20       $
                bmi LB190                    ; B18B= 30 03       0.
                jmp LB096                    ; B18D= 4C 96 B0    L.0

LB190:
                bit $25                      ; B190= 24 25       $%
                bmi LB1E0                    ; B192= 30 4C       0L
                bit $23                      ; B194= 24 23       $#
                bmi LB1A3                    ; B196= 30 0B       0.
LB198:
                lda #$91                     ; B198= A9 91       ).
                ldx #$01                     ; B19A= A2 01       ".
                jsr OSBYTE                   ; B19C= 20 F4 FF     t.
                tya                          ; B19F= 98          .
                and $22                      ; B1A0= 25 22       %"
LB1A2:
                rts                          ; B1A2= 60          `

LB1A3:
                jsr LB198                    ; B1A3= 20 98 B1     .1
                bcs LB1A2                    ; B1A6= B0 FA       0z
                jsr LB1D0                    ; B1A8= 20 D0 B1     P1
                bcc LB201                    ; B1AB= 90 54       .T
                asl a                        ; B1AD= 0A          .
                asl a                        ; B1AE= 0A          .
                asl a                        ; B1AF= 0A          .
                asl a                        ; B1B0= 0A          .
                sta $24                      ; B1B1= 85 24       .$
LB1B3:
                jsr LB198                    ; B1B3= 20 98 B1     .1
                bcc LB1BD                    ; B1B6= 90 05       ..
                jsr LB017                    ; B1B8= 20 17 B0     .0
                bra LB1B3                    ; B1BB= 80 F6       .v

LB1BD:
                jsr LB1D0                    ; B1BD= 20 D0 B1     P1
                bcc LB1B3                    ; B1C0= 90 F1       .q
                ora $24                      ; B1C2= 05 24       .$
LB1C4:
                clc                          ; B1C4= 18          .
                rts                          ; B1C5= 60          `

LB1C6:
                jsr LB166                    ; B1C6= 20 66 B1     f1
                bcc LB1D0                    ; B1C9= 90 05       ..
                plx                          ; B1CB= FA          z
                plx                          ; B1CC= FA          z
                jmp LB389                    ; B1CD= 4C 89 B3    L.3

LB1D0:
                cmp #$3A                     ; B1D0= C9 3A       I:
                bcs LB1D7                    ; B1D2= B0 03       0.
                sbc #$2F                     ; B1D4= E9 2F       i/
                rts                          ; B1D6= 60          `

LB1D7:
                sbc #$37                     ; B1D7= E9 37       i7
                cmp #$10                     ; B1D9= C9 10       I.
                bcs LB1C4                    ; B1DB= B0 E7       0g
                cmp #$0A                     ; B1DD= C9 0A       I.
LB1DF:
                rts                          ; B1DF= 60          `

LB1E0:
                stz $26                      ; B1E0= 64 26       d&
                jsr LB198                    ; B1E2= 20 98 B1     .1
                bcs LB1DF                    ; B1E5= B0 F8       0x
                cmp #$7F                     ; B1E7= C9 7F       I.
                bcs LB1DF                    ; B1E9= B0 F4       0t
                cmp #$20                     ; B1EB= C9 20       I
                bcs LB203                    ; B1ED= B0 14       0.
                bit $27                      ; B1EF= 24 27       $'
                bmi LB201                    ; B1F1= 30 0E       0.
                cmp #$07                     ; B1F3= C9 07       I.
                bcc LB201                    ; B1F5= 90 0A       ..
                beq LB240                    ; B1F7= F0 47       pG
                cmp #$0B                     ; B1F9= C9 0B       I.
                bcc LB240                    ; B1FB= 90 43       .C
                cmp #$0D                     ; B1FD= C9 0D       I.
                beq LB240                    ; B1FF= F0 3F       p?
LB201:
                sec                          ; B201= 38          8
                rts                          ; B202= 60          `

LB203:
                stz $27                      ; B203= 64 27       d'
                cmp #$7C                     ; B205= C9 7C       I|
                bne LB23E                    ; B207= D0 35       P5
LB209:
                jsr LB198                    ; B209= 20 98 B1     .1
                bcc LB213                    ; B20C= 90 05       ..
                jsr LB017                    ; B20E= 20 17 B0     .0
                bra LB209                    ; B211= 80 F6       .v

LB213:
                cmp #$20                     ; B213= C9 20       I
                bcc LB242                    ; B215= 90 2B       .+
                cmp #$21                     ; B217= C9 21       I!
                bne LB22F                    ; B219= D0 14       P.
                lda #$80                     ; B21B= A9 80       ).
                sta $26                      ; B21D= 85 26       .&
LB21F:
                jsr LB198                    ; B21F= 20 98 B1     .1
                bcc LB229                    ; B222= 90 05       ..
                jsr LB017                    ; B224= 20 17 B0     .0
                bra LB21F                    ; B227= 80 F6       .v

LB229:
                cmp #$20                     ; B229= C9 20       I
                bcc LB21F                    ; B22B= 90 F2       .r
                bra LB203                    ; B22D= 80 D4       .T

LB22F:
                cmp #$3F                     ; B22F= C9 3F       I?
                bne LB236                    ; B231= D0 03       P.
                lda #$7F                     ; B233= A9 7F       ).
                clc                          ; B235= 18          .
LB236:
                bcc LB23E                    ; B236= 90 06       ..
                cmp #$7C                     ; B238= C9 7C       I|
                beq LB23E                    ; B23A= F0 02       p.
                and #$9F                     ; B23C= 29 9F       ).
LB23E:
                ora $26                      ; B23E= 05 26       .&
LB240:
                clc                          ; B240= 18          .
                rts                          ; B241= 60          `

LB242:
                sec                          ; B242= 38          8
                ror $27                      ; B243= 66 27       f'
                sec                          ; B245= 38          8
                rts                          ; B246= 60          `

LB247:
                lda #$00                     ; B247= A9 00       ).
                sta $F2                      ; B249= 85 F2       .r
                lda #$05                     ; B24B= A9 05       ).
                sta $F3                      ; B24D= 85 F3       .s
                ldy #$00                     ; B24F= A0 00        .
LB251:
                jsr LB17A                    ; B251= 20 7A B1     z1
                ldx $1F                      ; B254= A6 1F       &.
                beq LB296                    ; B256= F0 3E       p>
                stz $2B                      ; B258= 64 2B       d+
                cmp #$1B                     ; B25A= C9 1B       I.
                bne LB262                    ; B25C= D0 04       P.
                ldy #$00                     ; B25E= A0 00        .
                bra LB266                    ; B260= 80 04       ..

LB262:
                cmp #$0D                     ; B262= C9 0D       I.
                bne LB273                    ; B264= D0 0D       P.
LB266:
                lda #$0D                     ; B266= A9 0D       ).
                sta ($F2),y                  ; B268= 91 F2       .r
                bit $2B                      ; B26A= 24 2B       $+
                bmi LB271                    ; B26C= 30 03       0.
                jsr OSASCI                   ; B26E= 20 E3 FF     c.
LB271:
                clc                          ; B271= 18          .
                rts                          ; B272= 60          `

LB273:
                cmp #$7F                     ; B273= C9 7F       I.
                bne LB27E                    ; B275= D0 07       P.
                cpy #$00                     ; B277= C0 00       @.
                beq LB251                    ; B279= F0 D6       pV
                dey                          ; B27B= 88          .
                bra LB291                    ; B27C= 80 13       ..

LB27E:
                cmp #$7F                     ; B27E= C9 7F       I.
                bcs LB251                    ; B280= B0 CF       0O
                cmp #$20                     ; B282= C9 20       I
                bcc LB251                    ; B284= 90 CB       .K
                cpy #$FF                     ; B286= C0 FF       @.
                bcs LB251                    ; B288= B0 C7       0G
                sta ($F2),y                  ; B28A= 91 F2       .r
                iny                          ; B28C= C8          H
                bit $2B                      ; B28D= 24 2B       $+
                bmi LB251                    ; B28F= 30 C0       0@
LB291:
                jsr LB728                    ; B291= 20 28 B7     (7
                bra LB251                    ; B294= 80 BB       .;

LB296:
                cmp #$1B                     ; B296= C9 1B       I.
                bne LB27E                    ; B298= D0 E4       Pd
                jsr LB166                    ; B29A= 20 66 B1     f1
                cmp #$5C                     ; B29D= C9 5C       I\
                beq LB266                    ; B29F= F0 C5       pE
                sec                          ; B2A1= 38          8
                rts                          ; B2A2= 60          `

LB2A3:
                ldx #$19                     ; B2A3= A2 19       ".
LB2A5:
                dex                          ; B2A5= CA          J
                stz $00,x                    ; B2A6= 74 00       t.
                bne LB2A5                    ; B2A8= D0 FB       P{
LB2AA:
                stz $3A                      ; B2AA= 64 3A       d:
                stz $3B                      ; B2AC= 64 3B       d;
LB2AE:
                jsr LB166                    ; B2AE= 20 66 B1     f1
                bcs LB2E0                    ; B2B1= B0 2D       0-
                jsr LB8AD                    ; B2B3= 20 AD B8     -8
                bcc LB2E5                    ; B2B6= 90 2D       .-
                pha                          ; B2B8= 48          H
                lda $3A                      ; B2B9= A5 3A       %:
                sta $02,x                    ; B2BB= 95 02       ..
                lda $3B                      ; B2BD= A5 3B       %;
                sta $03,x                    ; B2BF= 95 03       ..
                pla                          ; B2C1= 68          h
                cmp #$40                     ; B2C2= C9 40       I@
                bcs LB2F5                    ; B2C4= B0 2F       0/
                cmp #$30                     ; B2C6= C9 30       I0
                bcc LB2D7                    ; B2C8= 90 0D       ..
                cmp #$3C                     ; B2CA= C9 3C       I<
                bcs LB2E3                    ; B2CC= B0 15       0.
                inc $00                      ; B2CE= E6 00       f.
                inx                          ; B2D0= E8          h
                inx                          ; B2D1= E8          h
                inx                          ; B2D2= E8          h
                cpx #$18                     ; B2D3= E0 18       `.
                bcc LB2AA                    ; B2D5= 90 D3       .S
LB2D7:
                cmp #$40                     ; B2D7= C9 40       I@
                bcs LB2F5                    ; B2D9= B0 1A       0.
                jsr LB166                    ; B2DB= 20 66 B1     f1
                bcc LB2D7                    ; B2DE= 90 F7       .w
LB2E0:
                jmp LB389                    ; B2E0= 4C 89 B3    L.3

LB2E3:
                sta $01,x                    ; B2E3= 95 01       ..
LB2E5:
                lda $00                      ; B2E5= A5 00       %.
                bne LB2AE                    ; B2E7= D0 C5       PE
                inc $00                      ; B2E9= E6 00       f.
                bra LB2AE                    ; B2EB= 80 C1       .A

LB2ED:
                lda #$01                     ; B2ED= A9 01       ).
                sta $02                      ; B2EF= 85 02       ..
                stz $01                      ; B2F1= 64 01       d.
                stz $03                      ; B2F3= 64 03       d.
LB2F5:
                rts                          ; B2F5= 60          `

LB2F6:
                lda #$03                     ; B2F6= A9 03       ).
                bra LB2FC                    ; B2F8= 80 02       ..

LB2FA:
                lda #$00                     ; B2FA= A9 00       ).
LB2FC:
                phx                          ; B2FC= DA          Z
                tax                          ; B2FD= AA          *
                lda $01,x                    ; B2FE= B5 01       5.
                cmp #$01                     ; B300= C9 01       I.
                lda $03,x                    ; B302= B5 03       5.
                beq LB307                    ; B304= F0 01       p.
                sec                          ; B306= 38          8
LB307:
                lda $02,x                    ; B307= B5 02       5.
                plx                          ; B309= FA          z
                and #$FF                     ; B30A= 29 FF       ).
                rts                          ; B30C= 60          `

LB30D:
                pla                          ; B30D= 68          h
                sta $28                      ; B30E= 85 28       .(
                pla                          ; B310= 68          h
                sta $29                      ; B311= 85 29       .)
                lda $01                      ; B313= A5 01       %.
                bne LB338                    ; B315= D0 21       P!
                lda $02                      ; B317= A5 02       %.
                ora $03                      ; B319= 05 03       ..
                bne LB31F                    ; B31B= D0 02       P.
                inc $02                      ; B31D= E6 02       f.
LB31F:
                lda $02                      ; B31F= A5 02       %.
                bne LB325                    ; B321= D0 02       P.
                dec $03                      ; B323= C6 03       F.
LB325:
                dec $02                      ; B325= C6 02       F.
                bne LB32D                    ; B327= D0 04       P.
                lda $03                      ; B329= A5 03       %.
                beq LB332                    ; B32B= F0 05       p.
LB32D:
                jsr LB332                    ; B32D= 20 32 B3     23
                bra LB31F                    ; B330= 80 ED       .m

LB332:
                lda $29                      ; B332= A5 29       %)
                pha                          ; B334= 48          H
                lda $28                      ; B335= A5 28       %(
                pha                          ; B337= 48          H
LB338:
                rts                          ; B338= 60          `

LB339:
                dec $1E                      ; B339= C6 1E       F.
                bne LB340                    ; B33B= D0 03       P.
                jsr LB017                    ; B33D= 20 17 B0     .0
LB340:
                lda $6F                      ; B340= A5 6F       %o
                bne LB348                    ; B342= D0 04       P.
                lda $21                      ; B344= A5 21       %!
                sta $20                      ; B346= 85 20       .
LB348:
                rts                          ; B348= 60          `

LB349:
                jsr LB34E                    ; B349= 20 4E B3     N3
                bra LB349                    ; B34C= 80 FB       .{

LB34E:
                jsr LB339                    ; B34E= 20 39 B3     93
                jsr LB170                    ; B351= 20 70 B1     p1
LB354:
                cmp #$20                     ; B354= C9 20       I
                bcc LB361                    ; B356= 90 09       ..
                jmp LB728                    ; B358= 4C 28 B7    L(7

LB35B:
                jmp LB46C                    ; B35B= 4C 6C B4    Ll4

LB35E:
                jmp LB493                    ; B35E= 4C 93 B4    L.4

LB361:
                pha                          ; B361= 48          H
                jsr LB2ED                    ; B362= 20 ED B2     m2
                pla                          ; B365= 68          h
                cmp #$07                     ; B366= C9 07       I.
                bcc LB3BB                    ; B368= 90 51       .Q
                beq LB3E9                    ; B36A= F0 7D       p}
                cmp #$09                     ; B36C= C9 09       I.
                bcc LB35B                    ; B36E= 90 EB       .k
                beq LB35E                    ; B370= F0 EC       pl
                cmp #$0B                     ; B372= C9 0B       I.
                bcc LB3EE                    ; B374= 90 78       .x
                cmp #$0D                     ; B376= C9 0D       I.
                beq LB3E9                    ; B378= F0 6F       po
                cmp #$1B                     ; B37A= C9 1B       I.
                bne LB3BB                    ; B37C= D0 3D       P=
LB37E:
                ldx $6F                      ; B37E= A6 6F       &o
                bne LB386                    ; B380= D0 04       P.
                bit $2D                      ; B382= 24 2D       $-
                bmi LB3BB                    ; B384= 30 35       05
LB386:
                jsr LB166                    ; B386= 20 66 B1     f1
LB389:
                cmp #$1B                     ; B389= C9 1B       I.
                beq LB37E                    ; B38B= F0 F1       pq
                cmp #$25                     ; B38D= C9 25       I%
                beq LB401                    ; B38F= F0 70       pp
                cmp #$28                     ; B391= C9 28       I(
                beq LB404                    ; B393= F0 6F       po
                cmp #$44                     ; B395= C9 44       ID
                beq LB3EE                    ; B397= F0 55       pU
                cmp #$45                     ; B399= C9 45       IE
                beq LB3EB                    ; B39B= F0 4E       pN
                cmp #$4D                     ; B39D= C9 4D       IM
                beq LB3E7                    ; B39F= F0 46       pF
                cmp #$50                     ; B3A1= C9 50       IP
                beq LB3C5                    ; B3A3= F0 20       p
                cmp #$5B                     ; B3A5= C9 5B       I[
                beq LB407                    ; B3A7= F0 5E       p^
                cmp #$5D                     ; B3A9= C9 5D       I]
                stz $2B                      ; B3AB= 64 2B       d+
                beq LB3F6                    ; B3AD= F0 47       pG
                cmp #$5E                     ; B3AF= C9 5E       I^
                beq LB3F3                    ; B3B1= F0 40       p@
                cmp #$5F                     ; B3B3= C9 5F       I_
                beq LB3BC                    ; B3B5= F0 05       p.
                cmp #$63                     ; B3B7= C9 63       Ic
                beq LB3FE                    ; B3B9= F0 43       pC
LB3BB:
                rts                          ; B3BB= 60          `

LB3BC:
                jsr LB247                    ; B3BC= 20 47 B2     G2
                bcs LB389                    ; B3BF= B0 C8       0H
LB3C1:
                sec                          ; B3C1= 38          8
                jmp (IND2V)                  ; B3C2= 6C 32 02    l2.

LB3C5:
                sec                          ; B3C5= 38          8
                ror $2B                      ; B3C6= 66 2B       f+
                jsr LB247                    ; B3C8= 20 47 B2     G2
                bcs LB389                    ; B3CB= B0 BC       0<
                ldx $1F                      ; B3CD= A6 1F       &.
                stz $1F                      ; B3CF= 64 1F       d.
                beq LB3E4                    ; B3D1= F0 11       p.
                ldy #$00                     ; B3D3= A0 00        .
                jsr LB89E                    ; B3D5= 20 9E B8     .8
                beq LB3BB                    ; B3D8= F0 E1       pa
                stx $6F                      ; B3DA= 86 6F       .o
                cmp #$2A                     ; B3DC= C9 2A       I*
                beq LB3FB                    ; B3DE= F0 1B       p.
                cmp #$21                     ; B3E0= C9 21       I!
                beq LB3C1                    ; B3E2= F0 DD       p]
LB3E4:
                jmp LB4F2                    ; B3E4= 4C F2 B4    Lr4

LB3E7:
                lda #$0B                     ; B3E7= A9 0B       ).
LB3E9:
                bra LB3F0                    ; B3E9= 80 05       ..

LB3EB:
                jmp OSNEWL                   ; B3EB= 4C E7 FF    Lg.

LB3EE:
                lda #$0A                     ; B3EE= A9 0A       ).
LB3F0:
                jmp OSWRCH                   ; B3F0= 4C EE FF    Ln.

LB3F3:
                sec                          ; B3F3= 38          8
                ror $2B                      ; B3F4= 66 2B       f+
LB3F6:
                jsr LB247                    ; B3F6= 20 47 B2     G2
                bcs LB389                    ; B3F9= B0 8E       0.
LB3FB:
                jmp LB61F                    ; B3FB= 4C 1F B6    L.6

LB3FE:
                jmp LAF7E                    ; B3FE= 4C 7E AF    L~/

LB401:
                jmp LB640                    ; B401= 4C 40 B6    L@6

LB404:
                jmp LB68B                    ; B404= 4C 8B B6    L.6

LB407:
                jsr LB2A3                    ; B407= 20 A3 B2     #2
                ldx #$0E                     ; B40A= A2 0E       ".
LB40C:
                cmp LB41E-1,x                ; B40C= DD 1D B4    ].4
                beq LB418                    ; B40F= F0 07       p.
                dex                          ; B411= CA          J
                bne LB40C                    ; B412= D0 F8       Px
                sec                          ; B414= 38          8
                jmp (IND1V)                  ; B415= 6C 30 02    l0.

LB418:
                txa                          ; B418= 8A          .
                asl a                        ; B419= 0A          .
                tax                          ; B41A= AA          *
                jmp (LB42C-2,x)                ; B41B= 7C 2A B4    |*4
LB41E:
                .byte $41,$42   ; B41E= 41 42       AB
                .byte $43       ; B420= 43          C
                .byte $44       ; B421= 44          D
                .byte $48       ; B422= 48          H
                .byte $4a       ; B423= 4A          J
                .byte $4B       ; B424= 4B          K
                .byte $53       ; B425= 53          S
                .byte $58       ; B426= 58          X
                .byte $68       ; B427= 68          h
                .byte $6C       ; B428= 6C
                .byte $6E       ; B429= 6E
                .byte $66
                .byte $63
LB42C:
                .word LB4C5
                .word LB485
                .word LB493
                .word LB46C
                .word LB4A7
                .word LB5FD
                .word LB60D
                .word LB720
                .word LB5E1
                .word LB6B1
                .word LB6AD
                .word LB5A9
                .word LB4A7
                .word LB4D1
LB448:
                jsr LB44D
                bra LB448
LB44D:
                jsr LB339                    ; B44D= 20 39 B3     93
                jsr LB17A                    ; B450= 20 7A B1     z1
                cmp #$1B                     ; B453= C9 1B       I.
                bne LB466                    ; B455= D0 0F       P.
                lda #$DA                     ; B457= A9 DA       )Z
                ldy #$FF                     ; B459= A0 FF        .
                ldx #$00                     ; B45B= A2 00       ".
                jsr OSBYTE                   ; B45D= 20 F4 FF     t.
                lda #$1B                     ; B460= A9 1B       ).
                cpx #$00                     ; B462= E0 00       `.
                beq LB469                    ; B464= F0 03       p.
LB466:
                jmp OSWRCH                   ; B466= 4C EE FF    Ln.

LB469:
                jmp LB37E                    ; B469= 4C 7E B3    L~3

LB46C:
                lda #$08                     ; B46C= A9 08       ).
                sta $2C                      ; B46E= 85 2C       .,
                jsr LB30D                    ; B470= 20 0D B3     .3
                jsr LB821                    ; B473= 20 21 B8     !8
                txa                          ; B476= 8A          .
                bne LB480                    ; B477= D0 07       P.
                bit $34                      ; B479= 24 34       $4
                bpl LB4E2                    ; B47B= 10 65       .e
LB47D:
                tya                          ; B47D= 98          .
LB47E:
                beq LB4E2                    ; B47E= F0 62       pb
LB480:
                lda $2C                      ; B480= A5 2C       %,
LB482:
                jmp OSWRCH                   ; B482= 4C EE FF    Ln.

LB485:
                lda #$0A                     ; B485= A9 0A       ).
                sta $2C                      ; B487= 85 2C       .,
                jsr LB30D                    ; B489= 20 0D B3     .3
                jsr LB821                    ; B48C= 20 21 B8     !8
LB48F:
                cpy $39                      ; B48F= C4 39       D9
                bra LB47E                    ; B491= 80 EB       .k

LB493:
                lda #$09                     ; B493= A9 09       ).
                sta $2C                      ; B495= 85 2C       .,
                jsr LB30D                    ; B497= 20 0D B3     .3
                jsr LB821                    ; B49A= 20 21 B8     !8
                cpx $37                      ; B49D= E4 37       d7
LB49F:
                bcc LB480                    ; B49F= 90 DF       ._
                lda $34                      ; B4A1= A5 34       %4
                beq LB4E2                    ; B4A3= F0 3D       p=
                bra LB48F                    ; B4A5= 80 E8       .h

LB4A7:
                jsr LB2FA                    ; B4A7= 20 FA B2     z2
                bcs LB4E2                    ; B4AA= B0 36       06
                tay                          ; B4AC= A8          (
                beq LB4B0                    ; B4AD= F0 01       p.
                dey                          ; B4AF= 88          .
LB4B0:
                jsr LB2F6                    ; B4B0= 20 F6 B2     v2
                bcs LB4E2                    ; B4B3= B0 2D       0-
                tax                          ; B4B5= AA          *
                beq LB4B9                    ; B4B6= F0 01       p.
                dex                          ; B4B8= CA          J
LB4B9:
                lda #$1F                     ; B4B9= A9 1F       ).
                jsr OSWRCH                   ; B4BB= 20 EE FF     n.
                txa                          ; B4BE= 8A          .
                jsr OSWRCH                   ; B4BF= 20 EE FF     n.
                tya                          ; B4C2= 98          .
                bra LB482                    ; B4C3= 80 BD       .=

LB4C5:
                lda #$0B                     ; B4C5= A9 0B       ).
                sta $2C                      ; B4C7= 85 2C       .,
                jsr LB30D                    ; B4C9= 20 0D B3     .3
                jsr LB821                    ; B4CC= 20 21 B8     !8
                bra LB47D                    ; B4CF= 80 AC       .,

LB4D1:
                jsr LB2FA                    ; B4D1= 20 FA B2     z2
                bne LB4E2                    ; B4D4= D0 0C       P.
                tay                          ; B4D6= A8          (
LB4D7:
                lda #$1B                     ; B4D7= A9 1B       ).
LB4D9:
                iny                          ; B4D9= C8          H
                jsr LB083                    ; B4DA= 20 83 B0     .0
                lda LB4E2,y                  ; B4DD= B9 E2 B4    9b4
                bne LB4D9                    ; B4E0= D0 F7       Pw
LB4E2:
                rts                          ; B4E2= 60          `

                .byte $5B                    ; B4E3= 5B          [
                .byte $3e,$35,$63            ; B4E4= 3E 35 63    >5c
                .byte $00                    ; B4E7= 00          .
                .byte $5B                    ; B4E8= 5B          [
                .byte $30,$6e                ; B4E9= 30 6E       0n
                .byte $00                    ; B4EB= 00          .
                .byte $5B                    ; B4EC= 5B          [
                .byte $33                    ; B4ED= 33          3
                .byte $6e,$00,$5b            ; B4EE= 6E 00 5B    n.[
                .byte $00                    ; B4F1= 00          .
LB4F2:
                jsr LB830                    ; B4F2= 20 30 B8     08
                bcs LB547                    ; B4F5= B0 50       0P
                cmp #$07                     ; B4F7= C9 07       I.
                bcs LB518                    ; B4F9= B0 1D       0.
                pha                          ; B4FB= 48          H
                jsr LB832                    ; B4FC= 20 32 B8     28
                stz $2E                      ; B4FF= 64 2E       d.
                cmp #$0A                     ; B501= C9 0A       I.
                beq LB50B                    ; B503= F0 06       p.
                dec $2E                      ; B505= C6 2E       F.
                cmp #$09                     ; B507= C9 09       I.
                bne LB546                    ; B509= D0 3B       P;
LB50B:
                ply                          ; B50B= 7A          z
                cpy #$06                     ; B50C= C0 06       @.
                bne LB515                    ; B50E= D0 05       P.
                lda $2E                      ; B510= A5 2E       %.
                sta $34                      ; B512= 85 34       .4
LB514:
                rts                          ; B514= 60          `

LB515:
                jmp LB6E0                    ; B515= 4C E0 B6    L`6

LB518:
                cmp #$08                     ; B518= C9 08       I.
                beq LB53A                    ; B51A= F0 1E       p.
                bcs LB54A                    ; B51C= B0 2C       0,
LB51E:
                jsr LB89E                    ; B51E= 20 9E B8     .8
                beq LB514                    ; B521= F0 F1       pq
                jsr LB565                    ; B523= 20 65 B5     e5
                jsr LB89E                    ; B526= 20 9E B8     .8
                beq LB535                    ; B529= F0 0A       p.
                cmp #$2C                     ; B52B= C9 2C       I,
                bne LB547                    ; B52D= D0 18       P.
                iny                          ; B52F= C8          H
                jsr LB535                    ; B530= 20 35 B5     55
                bra LB51E                    ; B533= 80 E9       .i

LB535:
                lda $3A                      ; B535= A5 3A       %:
                jmp OSWRCH                   ; B537= 4C EE FF    Ln.

LB53A:
                jsr LB89E                    ; B53A= 20 9E B8     .8
                jsr LB565                    ; B53D= 20 65 B5     e5
                bcs LB547                    ; B540= B0 05       0.
                lda $3A                      ; B542= A5 3A       %:
                bra LB579                    ; B544= 80 33       .3

LB546:
                pla                          ; B546= 68          h
LB547:
                jmp LB7B3                    ; B547= 4C B3 B7    L37

LB54A:
                ldy #$00                     ; B54A= A0 00        .
                cmp #$0B                     ; B54C= C9 0B       I.
                bcc LB547                    ; B54E= 90 F7       .w
                beq LB561                    ; B550= F0 0F       p.
                iny                          ; B552= C8          H
                cmp #$0E                     ; B553= C9 0E       I.
                beq LB561                    ; B555= F0 0A       p.
                bcs LB547                    ; B557= B0 EE       0n
                ldy #$04                     ; B559= A0 04        .
                cmp #$0C                     ; B55B= C9 0C       I.
                beq LB561                    ; B55D= F0 02       p.
                ldy #$05                     ; B55F= A0 05        .
LB561:
                tya                          ; B561= 98          .
                jmp LB64F                    ; B562= 4C 4F B6    LO6

LB565:
                jsr LB8A9                    ; B565= 20 A9 B8     )8
                bcs LB573                    ; B568= B0 09       0.
LB56A:
                iny                          ; B56A= C8          H
                lda ($F2),y                  ; B56B= B1 F2       1r
                jsr LB8AD                    ; B56D= 20 AD B8     -8
                bcc LB56A                    ; B570= 90 F8       .x
                clc                          ; B572= 18          .
LB573:
                rts                          ; B573= 60          `

                jsr LB2FA                    ; B574= 20 FA B2     z2
                bcs LB547                    ; B577= B0 CE       0N
LB579:
                tay                          ; B579= A8          (
                and #$7F                     ; B57A= 29 7F       ).
                cmp #$08                     ; B57C= C9 08       I.
                bcs LB547                    ; B57E= B0 C7       0G
                tax                          ; B580= AA          *
                lda LB5A1,x                  ; B581= BD A1 B5    =!5
                lsr a                        ; B584= 4A          J
                ldx #$1F                     ; B585= A2 1F       ".
                bcs LB58B                    ; B587= B0 02       0.
                ldx #$18                     ; B589= A2 18       ".
LB58B:
                stx $39                      ; B58B= 86 39       .9
                sta $37                      ; B58D= 85 37       .7
                inc a                        ; B58F= 1A          .
                sta $38                      ; B590= 85 38       .8
                lda #$16                     ; B592= A9 16       ).
                jsr OSWRCH                   ; B594= 20 EE FF     n.
                tya                          ; B597= 98          .
                jsr OSWRCH                   ; B598= 20 EE FF     n.
                asl a                        ; B59B= 0A          .
                cmp #$0E                     ; B59C= C9 0E       I.
                ror $30                      ; B59E= 66 30       f0
                rts                          ; B5A0= 60          `

LB5A1:
                .byte $9F                    ; B5A1= 9F          .
                .byte $4F                    ; B5A2= 4F          O
                .byte $27                    ; B5A3= 27          '
                .byte $9e,$4f,$27            ; B5A4= 9E 4F 27    .O'
                .byte $4e,$4e                ; B5A7= 4E 4E

LB5A9:
                jsr LB2FA                    ; B5A9= 20 FA B2
                bcs LB606                    ; B5AC= B0 58
                cmp #$05                     ; B5AE= C9 05       I.
                beq LB5D4                    ; B5B0= F0 22       p"
                cmp #$06                     ; B5B2= C9 06       I.
LB5B4:
                bne LB606                    ; B5B4= D0 50       PP
                jsr LB821                    ; B5B6= 20 21 B8     !8
                inx                          ; B5B9= E8          h
                phx                          ; B5BA= DA          Z
                iny                          ; B5BB= C8          H
                phy                          ; B5BC= 5A          Z
                ldy #$0D                     ; B5BD= A0 0D        .
                jsr LB4D7                    ; B5BF= 20 D7 B4     W4
                pla                          ; B5C2= 68          h
                jsr LB06E                    ; B5C3= 20 6E B0     n0
                lda #$3B                     ; B5C6= A9 3B       );
                jsr LB083                    ; B5C8= 20 83 B0     .0
                pla                          ; B5CB= 68          h
                jsr LB06E                    ; B5CC= 20 6E B0     n0
                lda #$52                     ; B5CF= A9 52       )R
                jmp LB083                    ; B5D1= 4C 83 B0    L.0

LB5D4:
                ldy #$05                     ; B5D4= A0 05        .
                bit $19                      ; B5D6= 24 19       $.
                stz $19                      ; B5D8= 64 19       d.
                bpl LB5DE                    ; B5DA= 10 02       ..
                ldy #$09                     ; B5DC= A0 09        .
LB5DE:
                jmp LB4D7                    ; B5DE= 4C D7 B4    LW4

LB5E1:
                jsr LB821                    ; B5E1= 20 21 B8     !8
                phx                          ; B5E4= DA          Z
                phy                          ; B5E5= 5A          Z
                lda #$20                     ; B5E6= A9 20       )
                sta $2C                      ; B5E8= 85 2C       .,
                jsr LB5F2                    ; B5EA= 20 F2 B5     r5
                ply                          ; B5ED= 7A          z
                plx                          ; B5EE= FA          z
                jmp LB4B9                    ; B5EF= 4C B9 B4    L94

LB5F2:
                jsr LB30D                    ; B5F2= 20 0D B3     .3
                jsr LB821                    ; B5F5= 20 21 B8     !8
                cpx $38                      ; B5F8= E4 38       d8
                jmp LB49F                    ; B5FA= 4C 9F B4    L.4

LB5FD:
                jsr LB2FA                    ; B5FD= 20 FA B2     z2
                bcs LB606                    ; B600= B0 04       0.
                cmp #$03                     ; B602= C9 03       I.
                bcc LB618                    ; B604= 90 12       ..
LB606:
                rts                          ; B606= 60          `

LB607:
                .byte $0F                    ; B607= 0F          .
                .byte $13                    ; B608= 13          .
                inc a                        ; B609= 1A          .
                brk                          ; B60A= 00          .
                tsb $0B                      ; B60B= 04 0B       ..
LB60D:
                jsr LB2FA                    ; B60D= 20 FA B2     z2
                bcs LB606                    ; B610= B0 F4       0t
                cmp #$03                     ; B612= C9 03       I.
                bcs LB606                    ; B614= B0 F0       0p
                adc #$03                     ; B616= 69 03       i.
LB618:
                tax                          ; B618= AA          *
                lda LB607,x                  ; B619= BD 07 B6    =.6
                jmp LB7E6                    ; B61C= 4C E6 B7    Lf7

LB61F:
                lda $20                      ; B61F= A5 20       %
                and $36                      ; B621= 25 36       %6
                bpl LB628                    ; B623= 10 03       ..
                jmp LB7B3                    ; B625= 4C B3 B7    L37

LB628:
                lda #$E5                     ; B628= A9 E5       )e
                jsr LB823                    ; B62A= 20 23 B8     #8
                ldx #$00                     ; B62D= A2 00       ".
                ldy #$05                     ; B62F= A0 05        .
                jsr OSCLI                   ; B631= 20 F7 FF     w.
LB634:
                lda #$E5                     ; B634= A9 E5       )e
                ldx #$01                     ; B636= A2 01       ".
                jsr LB825                    ; B638= 20 25 B8     %8
                lda #$7E                     ; B63B= A9 7E       )~
                jmp OSBYTE                   ; B63D= 4C F4 FF    Lt.

LB640:
                jsr LB1C6                    ; B640= 20 C6 B1     F1
                cmp #$07                     ; B643= C9 07       I.
                bcc LB64F                    ; B645= 90 08       ..
                bne LB606                    ; B647= D0 BD       P=
                jsr LB166                    ; B649= 20 66 B1     f1
                jmp LB354                    ; B64C= 4C 54 B3    LT3

LB64F:
                sta $2A                      ; B64F= 85 2A       .*
                stz $25                      ; B651= 64 25       d%
                stz $23                      ; B653= 64 23       d#
                ldx #$FE                     ; B655= A2 FE       "~
                txs                          ; B657= 9A          .
                inx                          ; B658= E8          h
                stx $22                      ; B659= 86 22       ."
                lda $2A                      ; B65B= A5 2A       %*
                cmp #$06                     ; B65D= C9 06       I.
                bcc LB665                    ; B65F= 90 04       ..
                ror $23                      ; B661= 66 23       f#
                bra LB66D                    ; B663= 80 08       ..

LB665:
                cmp #$04                     ; B665= C9 04       I.
                bcc LB67B                    ; B667= 90 12       ..
                beq LB671                    ; B669= F0 06       p.
                ror $25                      ; B66B= 66 25       f%
LB66D:
                stz $27                      ; B66D= 64 27       d'
                lsr $22                      ; B66F= 46 22       F"
LB671:
                ror $30                      ; B671= 66 30       f0
                lda #$21                     ; B673= A9 21       )!
                jsr LB7E6                    ; B675= 20 E6 B7     f7
                jmp LB448                    ; B678= 4C 48 B4    LH4

LB67B:
                stz $30                      ; B67B= 64 30       d0
                lsr a                        ; B67D= 4A          J
                ror $2D                      ; B67E= 66 2D       f-
                lsr a                        ; B680= 4A          J
                ror $22                      ; B681= 66 22       f"
                lda #$1E                     ; B683= A9 1E       ).
                jsr LB7E6                    ; B685= 20 E6 B7     f7
                jmp LB349                    ; B688= 4C 49 B3    LI3

LB68B:
                jsr LB1C6                    ; B68B= 20 C6 B1     F1
                bcc LB69B                    ; B68E= 90 0B       ..
LB690:
                lsr a                        ; B690= 4A          J
                and #$04                     ; B691= 29 04       ).
                bne LB69C                    ; B693= D0 07       P.
                ror a                        ; B695= 6A          j
                lsr a                        ; B696= 4A          J
                adc #$40                     ; B697= 69 40       i@
                sta $33                      ; B699= 85 33       .3
LB69B:
                rts                          ; B69B= 60          `

LB69C:
                stz $33                      ; B69C= 64 33       d3
                ldx #$60                     ; B69E= A2 60       "`
                ldy #$23                     ; B6A0= A0 23        #
                bcc LB6A8                    ; B6A2= 90 04       ..
                phx                          ; B6A4= DA          Z
                phy                          ; B6A5= 5A          Z
                plx                          ; B6A6= FA          z
                ply                          ; B6A7= 7A          z
LB6A8:
                stx $31                      ; B6A8= 86 31       .1
                sty $32                      ; B6AA= 84 32       .2
                rts                          ; B6AC= 60          `

LB6AD:
                lda #$00                     ; B6AD= A9 00       ).
                bra LB6B3                    ; B6AF= 80 02       ..
                
LB6B1:
                lda #$FF                     ; B6B1= A9 FF       ).
LB6B3:
                sta $2E                      ; B6B3= 85 2E       ..
                stz $2F                      ; B6B5= 64 2F       d/
LB6B7:
                ldx $2F                      ; B6B7= A6 2F       &/
                inx                          ; B6B9= E8          h
                inx                          ; B6BA= E8          h
                inx                          ; B6BB= E8          h
                cpx #$1B                     ; B6BC= E0 1B       `.
                beq LB6DF                    ; B6BE= F0 1F       p.
                stx $2F                      ; B6C0= 86 2F       ./
                jsr LB6C7                    ; B6C2= 20 C7 B6     G6
                bra LB6B7                    ; B6C5= 80 F0       .p

LB6C7:
                ldy $FFFF,x                  ; B6C7= BC FF FF    <..
                lda $00,x                    ; B6CA= B5 00       5.
                bne LB6DF                    ; B6CC= D0 11       P.
                lda LFFFE,x                  ; B6CE= BD FE FF    =~.
                cmp #$3E                     ; B6D1= C9 3E       I>
                bcc LB6DF                    ; B6D3= 90 0A       ..
                beq LB6E0                    ; B6D5= F0 09       p.
                lda $2E                      ; B6D7= A5 2E       %.
                cpy #$07                     ; B6D9= C0 07       @.
                bne LB6DF                    ; B6DB= D0 02       P.
                sta $34                      ; B6DD= 85 34       .4
LB6DF:
                rts                          ; B6DF= 60          `

LB6E0:
                lda $2E                      ; B6E0= A5 2E       %.
                cpy #$01                     ; B6E2= C0 01       @.
                bcs LB6ED                    ; B6E4= B0 07       0.
                inc a                        ; B6E6= 1A          .
                asl a                        ; B6E7= 0A          .
                tax                          ; B6E8= AA          *
                lda #$04                     ; B6E9= A9 04       ).
                bra LB6F6                    ; B6EB= 80 09       ..

LB6ED:
                bne LB6F9                    ; B6ED= D0 0A       P.
                tax                          ; B6EF= AA          *
                beq LB6F4                    ; B6F0= F0 02       p.
                ldx #$21                     ; B6F2= A2 21       "!
LB6F4:
                lda #$CB                     ; B6F4= A9 CB       )K
LB6F6:
                jmp LB825                    ; B6F6= 4C 25 B8    L%8

LB6F9:
                cpy #$03                     ; B6F9= C0 03       @.
                bcs LB707                    ; B6FB= B0 0A       0.
                bit $20                      ; B6FD= 24 20       $
                bpl LB704                    ; B6FF= 10 03       ..
                tay                          ; B701= A8          (
                beq LB6DF                    ; B702= F0 DB       p[
LB704:
                sta $36                      ; B704= 85 36       .6
LB706:
                rts                          ; B706= 60          `

LB707:
                bne LB712                    ; B707= D0 09       P.
                rol a                        ; B709= 2A          *
                lda #$00                     ; B70A= A9 00       ).
LB70C:
                rol a                        ; B70C= 2A          *
                tax                          ; B70D= AA          *
                lda #$60                     ; B70E= A9 60       )`
                bra LB6F6                    ; B710= 80 E4       .d

LB712:
                cpy #$05                     ; B712= C0 05       @.
                bcs LB71B                    ; B714= B0 05       0.
                rol a                        ; B716= 2A          *
                lda #$01                     ; B717= A9 01       ).
                bra LB70C                    ; B719= 80 F1       .q

LB71B:
                bne LB706                    ; B71B= D0 E9       Pi
                sta $35                      ; B71D= 85 35       .5
                rts                          ; B71F= 60          `

LB720:
                jsr LB30D                    ; B720= 20 0D B3     .3
                lda #$23                     ; B723= A9 23       )#
                jmp LB7E6                    ; B725= 4C E6 B7    Lf7

LB728:
                phy                          ; B728= 5A          Z
                phx                          ; B729= DA          Z
                pha                          ; B72A= 48          H
                bit $30                      ; B72B= 24 30       $0
                bmi LB74C                    ; B72D= 30 1D       0.
                cmp #$40                     ; B72F= C9 40       I@
                bcc LB739                    ; B731= 90 06       ..
                tay                          ; B733= A8          (
                bmi LB739                    ; B734= 30 03       0.
                clc                          ; B736= 18          .
                adc $33                      ; B737= 65 33       e3
LB739:
                tay                          ; B739= A8          (
                cpy #$60                     ; B73A= C0 60       @`
                bne LB740                    ; B73C= D0 02       P.
                lda #$BB                     ; B73E= A9 BB       );
LB740:
                cpy #$BB                     ; B740= C0 BB       @;
                bne LB746                    ; B742= D0 02       P.
                lda $32                      ; B744= A5 32       %2
LB746:
                cpy #$23                     ; B746= C0 23       @#
                bne LB74C                    ; B748= D0 02       P.
                lda $31                      ; B74A= A5 31       %1
LB74C:
                pha                          ; B74C= 48          H
                jsr LB821                    ; B74D= 20 21 B8     !8
                cpx $38                      ; B750= E4 38       d8
                beq LB75E                    ; B752= F0 0A       p.
LB754:
                pla                          ; B754= 68          h
                jsr OSWRCH                   ; B755= 20 EE FF     n.
                pha                          ; B758= 48          H
LB759:
                pla                          ; B759= 68          h
                pla                          ; B75A= 68          h
                plx                          ; B75B= FA          z
                ply                          ; B75C= 7A          z
                rts                          ; B75D= 60          `

LB75E:
                bit $34                      ; B75E= 24 34       $4
                bpl LB759                    ; B760= 10 F7       .w
                bit $35                      ; B762= 24 35       $5
                bpl LB754                    ; B764= 10 EE       .n
                pla                          ; B766= 68          h
                pha                          ; B767= 48          H
                cmp #$20                     ; B768= C9 20       I
                bcc LB754                    ; B76A= 90 E8       .h
                bne LB773                    ; B76C= D0 05       P.
                jsr OSNEWL                   ; B76E= 20 E7 FF     g.
                bra LB759                    ; B771= 80 E6       .f

LB773:
                lda #$0D                     ; B773= A9 0D       ).
                jsr OSWRCH                   ; B775= 20 EE FF     n.
                jsr LB4B9                    ; B778= 20 B9 B4     94
                ldy #$00                     ; B77B= A0 00        .
LB77D:
                phy                          ; B77D= 5A          Z
                lda #$08                     ; B77E= A9 08       ).
                jsr OSWRCH                   ; B780= 20 EE FF     n.
                lda #$87                     ; B783= A9 87       ).
                jsr OSBYTE                   ; B785= 20 F4 FF     t.
                ply                          ; B788= 7A          z
                txa                          ; B789= 8A          .
                cmp #$20                     ; B78A= C9 20       I
                beq LB79B                    ; B78C= F0 0D       p.
                sta $0440,y                  ; B78E= 99 40 04    .@.
                iny                          ; B791= C8          H
                cpy $38                      ; B792= C4 38       D8
                bne LB77D                    ; B794= D0 E7       Pg
                jsr OSNEWL                   ; B796= 20 E7 FF     g.
                bra LB754                    ; B799= 80 B9       .9

LB79B:
                phy                          ; B79B= 5A          Z
                lda #$00                     ; B79C= A9 00       ).
                jsr LB7E6                    ; B79E= 20 E6 B7     f7
                jsr OSNEWL                   ; B7A1= 20 E7 FF     g.
                ply                          ; B7A4= 7A          z
                iny                          ; B7A5= C8          H
LB7A6:
                dey                          ; B7A6= 88          .
                beq LB754                    ; B7A7= F0 AB       p+
                lda $043F,y                  ; B7A9= B9 3F 04    9?.
                jsr OSWRCH                   ; B7AC= 20 EE FF     n.
                bra LB7A6                    ; B7AF= 80 F5       .u

LB7B1:
                bcc LB7F9                    ; B7B1= 90 46       .F
LB7B3:
                sec                          ; B7B3= 38          8
                ror $19                      ; B7B4= 66 19       f.
LB7B6:
                ldx #$32                     ; B7B6= A2 32       "2
LB7B8:
                lda #$D5                     ; B7B8= A9 D5       )U
                jsr LB825                    ; B7BA= 20 25 B8     %8
                phx                          ; B7BD= DA          Z
                ldx #$01                     ; B7BE= A2 01       ".
                lda #$D6                     ; B7C0= A9 D6       )V
                jsr LB825                    ; B7C2= 20 25 B8     %8
                phx                          ; B7C5= DA          Z
                lda #$EC                     ; B7C6= A9 EC       )l
                ldx #$14                     ; B7C8= A2 14       ".
                jsr LB825                    ; B7CA= 20 25 B8     %8
                lda #$07                     ; B7CD= A9 07       ).
                jsr OSWRCH                   ; B7CF= 20 EE FF     n.
                lda #$EC                     ; B7D2= A9 EC       )l
                jsr LB825                    ; B7D4= 20 25 B8     %8
                plx                          ; B7D7= FA          z
                lda #$D6                     ; B7D8= A9 D6       )V
                jsr LB825                    ; B7DA= 20 25 B8     %8
                plx                          ; B7DD= FA          z
                lda #$D5                     ; B7DE= A9 D5       )U
                bra LB825                    ; B7E0= 80 43       .C

LB7E2:
                ldx #$8C                     ; B7E2= A2 8C       ".
                bra LB7B8                    ; B7E4= 80 D2       .R

LB7E6:
                tay                          ; B7E6= A8          (
                ldx #$0A                     ; B7E7= A2 0A       ".
                lda #$97                     ; B7E9= A9 97       ).
LB7EB:
                asl a                        ; B7EB= 0A          .
                bcs LB7EF                    ; B7EC= B0 01       0.
                iny                          ; B7EE= C8          H
LB7EF:
                lsr a                        ; B7EF= 4A          J
                jsr OSWRCH                   ; B7F0= 20 EE FF     n.
                lda LB7FA,y                  ; B7F3= B9 FA B7    9z7
                dex                          ; B7F6= CA          J
                bne LB7EB                    ; B7F7= D0 F2       Pr
LB7F9:
                rts                          ; B7F9= 60          `

LB7FA:
                ; PHP                        ; B7FA= 08          .
                ; ORA $06                    ; B7FB= 05 06       ..
                ; BRA LB807                  ; B7FD= 80 08       ..

                ; TSB $05                    ; B7FF= 04 05       ..
                ; BRK                        ; B801= 00          .
                ; BRK                        ; B802= 00          .
                ; ORA ($80,x)                ; B803= 01 80       ..
                ; PHP                        ; B805= 08          .
                ; TSB $06                    ; B806= 04 06       ..
                ; BRA LB812                  ; B808= 80 08       ..

                ; ORA $0A                    ; B80A= 05 0A       ..
                ; BRA LB816                  ; B80C= 80 08       ..

                ; BRK                        ; B80E= 00          .
                ; ORA $00                    ; B80F= 05 00       ..
                ; BRK                        ; B811= 00          .
                .byte $08
                .byte $05
                .byte $06
                .byte $80
                .byte $08
                .byte $04
                .byte $05
                .byte $00
                .byte $00
                .byte $01
                .byte $80
                .byte $08
                .byte $04
                .byte $06
                .byte $80
                .byte $08
                .byte $05
                .byte $0A
                .byte $80
                .byte $08
                .byte $00
                .byte $05
                .byte $00
                .byte $00

LB812:
;ORA (&80,x)      :\ B812= 01 80       ..
                .byte $01
                .byte $80
;PHP              :\ B814= 08          .
                .byte $08
;BRK              :\ B815= 00          .
                .byte $00
;.LB816
;ASL A            :\ B816= 0A          .
                .byte $0A
;BRA LB829        :\ B817= 80 10       ..
                .byte $80
                .byte $10
;ORA (&80,x)      :\ B819= 01 80       ..
                .byte $01
                .byte $80
;BPL LB79D        :\ B81B= 10 80       ..
                .byte $10
                .byte $80
                .byte $07                    ; B81D= 07          .
                .byte $00                    ; B81E= 00          .
                .byte $03                    ; B81F= 03          .
;BRA LB7CB        :\ B820= 80 A9       .)
; LDA &A2          :\ B822= A5 A2       %"
; BRK              :\ B824= 00          .
                .byte $80
LB821:
                lda #$A5
LB823:
                ldx #$00
LB825:
                ldy #$00                     ; B825= A0 00        .
LB827:
                jmp OSBYTE                   ; B827= 4C F4 FF    Lt.

LB82A:
                lda #$9C                     ; B82A= A9 9C       ).
                ldy #$9F                     ; B82C= A0 9F        .
                bra LB827                    ; B82E= 80 F7       .w

LB830:
                ldy #$00                     ; B830= A0 00        .
LB832:
                ldx #$FF                     ; B832= A2 FF       ".
                phx                          ; B834= DA          Z
LB835:
                pla                          ; B835= 68          h
                inc a                        ; B836= 1A          .
                pha                          ; B837= 48          H
                phy                          ; B838= 5A          Z
                jsr LB89E                    ; B839= 20 9E B8     .8
LB83C:
                cmp #$2E                     ; B83C= C9 2E       I.
                beq LB858                    ; B83E= F0 18       p.
                cmp #$40                     ; B840= C9 40       I@
                bcs LB846                    ; B842= B0 02       0.
                lda #$00                     ; B844= A9 00       ).
LB846:
                and #$5F                     ; B846= 29 5F       )_
                inx                          ; B848= E8          h
                eor LB86B,x                  ; B849= 5D 6B B8    ]k8
                beq LB853                    ; B84C= F0 05       p.
                asl a                        ; B84E= 0A          .
                beq LB858                    ; B84F= F0 07       p.
                bra LB85D                    ; B851= 80 0A       ..

LB853:
                iny                          ; B853= C8          H
                lda ($F2),y                  ; B854= B1 F2       1r
                bra LB83C                    ; B856= 80 E4       .d

LB858:
                iny                          ; B858= C8          H
                pla                          ; B859= 68          h
                pla                          ; B85A= 68          h
                clc                          ; B85B= 18          .
                rts                          ; B85C= 60          `

LB85D:
                ply                          ; B85D= 7A          z
LB85E:
                lda LB86B,x                  ; B85E= BD 6B B8    =k8
                bne LB866                    ; B861= D0 03       P.
                sec                          ; B863= 38          8
                pla                          ; B864= 68          h
                rts                          ; B865= 60          `

LB866:
                bmi LB835                    ; B866= 30 CD       0M
                inx                          ; B868= E8          h
                bra LB85E                    ; B869= 80 F3       .s

LB86B:
                .byte $43                    ; B86B= 43          C
                .byte $4B                    ; B86C= 4B          K
                .byte $cc,$4d,$43            ; B86D= CC 4D 43    LMC
                .byte $cc,$50,$52            ; B870= CC 50 52    LPR
                .byte $4F                    ; B873= 4F          O
                .byte $D4                    ; B874= D4          T
                .byte $52,$46                ; B875= 52 46       RF
                .byte $C3                    ; B877= C3          C
                .byte $54                    ; B878= 54          T
                .byte $46,$c3                ; B879= 46 C3       FC
                .byte $57                    ; B87B= 57          W
                .byte $57                    ; B87C= 57          W
                .byte $cd,$41,$57            ; B87D= CD 41 57    MAW
                .byte $cd,$56,$44            ; B880= CD 56 44    MVD
                .byte $d5,$4d                ; B883= D5 4D       UM
                .byte $4F                    ; B885= 4F          O
                .byte $44                    ; B886= 44          D
                .byte $c5,$4f                ; B887= C5 4F       EO
                .byte $ce,$4f,$46            ; B889= CE 4F 46    NOF
                .byte $c6,$54                ; B88C= C6 54       FT
                .byte $45,$52                ; B88E= 45 52       ER
                .byte $4d,$49,$4e            ; B890= 4D 49 4E    MIN
                .byte $41,$cc                ; B893= 41 CC       AL
                .byte $42                    ; B895= 42          B
                .byte $42                    ; B896= 42          B
                .byte $C3                    ; B897= C3          C
                .byte $47                    ; B898= 47          G
                .byte $D3                    ; B899= D3          S
                .byte $54                    ; B89A= 54          T
                .byte $54                    ; B89B= 54          T
                .byte $D9
                .byte $00
LB89E:
                dey
LB89F:
                iny                          ; B89F= C8          H
                lda ($F2),y                  ; B8A0= B1 F2       1r
                cmp #$20                     ; B8A2= C9 20       I
                beq LB89F                    ; B8A4= F0 F9       py
                cmp #$0D                     ; B8A6= C9 0D       I.
                rts                          ; B8A8= 60          `

LB8A9:
                stz $3A                      ; B8A9= 64 3A       d:
                stz $3B                      ; B8AB= 64 3B       d;
LB8AD:
                cmp #$30                     ; B8AD= C9 30       I0
                bcc LB8B5                    ; B8AF= 90 04       ..
                cmp #$3A                     ; B8B1= C9 3A       I:
                bcc LB8B7                    ; B8B3= 90 02       ..
LB8B5:
                sec                          ; B8B5= 38          8
                rts                          ; B8B6= 60          `

LB8B7:
                sbc #$2F                     ; B8B7= E9 2F       i/
                pha                          ; B8B9= 48          H
                lda $3B                      ; B8BA= A5 3B       %;
                pha                          ; B8BC= 48          H
                lda $3A                      ; B8BD= A5 3A       %:
                asl a                        ; B8BF= 0A          .
                rol $3B                      ; B8C0= 26 3B       &;
                asl a                        ; B8C2= 0A          .
                rol $3B                      ; B8C3= 26 3B       &;
                clc                          ; B8C5= 18          .
                adc $3A                      ; B8C6= 65 3A       e:
                sta $3A                      ; B8C8= 85 3A       .:
                pla                          ; B8CA= 68          h
                adc $3B                      ; B8CB= 65 3B       e;
                sta $3B                      ; B8CD= 85 3B       .;
                asl $3A                      ; B8CF= 06 3A       .:
                rol $3B                      ; B8D1= 26 3B       &;
                pla                          ; B8D3= 68          h
                clc                          ; B8D4= 18          .
                adc $3A                      ; B8D5= 65 3A       e:
                sta $3A                      ; B8D7= 85 3A       .:
                bcc LB8DE                    ; B8D9= 90 03       ..
                inc $3B                      ; B8DB= E6 3B       f;
                clc                          ; B8DD= 18          .
LB8DE:
                rts                          ; B8DE= 60          `

; Unused space
; ============
                .byte $FF                    ; B8DF= FF          .
                .byte $FF                    ; B8E0= FF          .
                .byte $FF                    ; B8E1= FF          .
                .byte $FF                    ; B8E2= FF          .
                .byte $FF                    ; B8E3= FF          .
                .byte $FF                    ; B8E4= FF          .
                .byte $FF                    ; B8E5= FF          .
                .byte $FF                    ; B8E6= FF          .
                .byte $FF                    ; B8E7= FF          .
                .byte $FF                    ; B8E8= FF          .
                .byte $FF                    ; B8E9= FF          .
                .byte $FF                    ; B8EA= FF          .
                .byte $FF                    ; B8EB= FF          .
                .byte $FF                    ; B8EC= FF          .
                .byte $FF                    ; B8ED= FF          .
                .byte $FF                    ; B8EE= FF          .
                .byte $FF                    ; B8EF= FF          .
                .byte $FF                    ; B8F0= FF          .
                .byte $FF                    ; B8F1= FF          .
                .byte $FF                    ; B8F2= FF          .
                .byte $FF                    ; B8F3= FF          .
                .byte $FF                    ; B8F4= FF          .
                .byte $FF                    ; B8F5= FF          .
                .byte $FF                    ; B8F6= FF          .
                .byte $FF                    ; B8F7= FF          .
                .byte $FF                    ; B8F8= FF          .
                .byte $FF                    ; B8F9= FF          .
                .byte $FF                    ; B8FA= FF          .
LB8FB:
                .byte $FF                    ; B8FB= FF          .
                .byte $FF                    ; B8FC= FF          .
                .byte $FF                    ; B8FD= FF          .
                .byte $FF                    ; B8FE= FF          .
                .byte $FF                    ; B8FF= FF          .

; Default font
; ============
LB900:
                ; CHR$32 -  
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$33 - !
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00000000

                ; CHR$34 - "
                .byte %01101100
                .byte %01101100
                .byte %01101100
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$35 - #
                .byte %00110110
                .byte %00110110
                .byte %01111111
                .byte %00110110
                .byte %01111111
                .byte %00110110
                .byte %00110110
                .byte %00000000

                ; CHR$36 - $
                .byte %00001100
                .byte %00111111
                .byte %01101000
                .byte %00111110
                .byte %00001011
                .byte %01111110
                .byte %00011000
                .byte %00000000

                ; CHR$37 - %
                .byte %01100000
                .byte %01100110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100110
                .byte %00000110
                .byte %00000000

                ; CHR$38 - &
                .byte %00111000
                .byte %01101100
                .byte %01101100
                .byte %00111000
                .byte %01101101
                .byte %01100110
                .byte %00111011
                .byte %00000000

                ; CHR$39 - '
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$40 - (
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %00110000
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00000000

                ; CHR$41 - )
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00001100
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %00000000

                ; CHR$42 - *
                .byte %00000000
                .byte %00011000
                .byte %01111110
                .byte %00111100
                .byte %01111110
                .byte %00011000
                .byte %00000000
                .byte %00000000

                ; CHR$43 - +
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00000000

                ; CHR$44 - ,
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00110000

                ; CHR$45 - -
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$46 - .
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$47 - /
                .byte %00000000
                .byte %00000110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100000
                .byte %00000000
                .byte %00000000

                ; CHR$48 - 0
                .byte %00111100
                .byte %01100110
                .byte %01101110
                .byte %01111110
                .byte %01110110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$49 - 1
                .byte %00011000
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00000000

                ; CHR$50 - 2
                .byte %00111100
                .byte %01100110
                .byte %00000110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01111110
                .byte %00000000

                ; CHR$51 - 3
                .byte %00111100
                .byte %01100110
                .byte %00000110
                .byte %00011100
                .byte %00000110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$52 - 4
                .byte %00001100
                .byte %00011100
                .byte %00111100
                .byte %01101100
                .byte %01111110
                .byte %00001100
                .byte %00001100
                .byte %00000000

                ; CHR$53 - 5
                .byte %01111110
                .byte %01100000
                .byte %01111100
                .byte %00000110
                .byte %00000110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$54 - 6
                .byte %00011100
                .byte %00110000
                .byte %01100000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$55 - 7
                .byte %01111110
                .byte %00000110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %00110000
                .byte %00110000
                .byte %00000000

                ; CHR$56 - 8
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$57 - 9
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000110
                .byte %00001100
                .byte %00111000
                .byte %00000000

                ; CHR$58 - :
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$59 - ;
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00110000

                ; CHR$60 - <
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100000
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00000000

                ; CHR$61 - =
                .byte %00000000
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$62 - >
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00000110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %00000000

                ; CHR$63 - ?
                .byte %00111100
                .byte %01100110
                .byte %00001100
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00000000

                ; CHR$64 - @
                .byte %00111100
                .byte %01100110
                .byte %01101110
                .byte %01101010
                .byte %01101110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$65 - A
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01111110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$66 - B
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %00000000

                ; CHR$67 - C
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$68 - D
                .byte %01111000
                .byte %01101100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01101100
                .byte %01111000
                .byte %00000000

                ; CHR$69 - E
                .byte %01111110
                .byte %01100000
                .byte %01100000
                .byte %01111100
                .byte %01100000
                .byte %01100000
                .byte %01111110
                .byte %00000000

                ; CHR$70 - F
                .byte %01111110
                .byte %01100000
                .byte %01100000
                .byte %01111100
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %00000000

                ; CHR$71 - G
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %01101110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$72 - H
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01111110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$73 - I
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00000000

                ; CHR$74 - J
                .byte %00111110
                .byte %00001100
                .byte %00001100
                .byte %00001100
                .byte %00001100
                .byte %01101100
                .byte %00111000
                .byte %00000000

                ; CHR$75 - K
                .byte %01100110
                .byte %01101100
                .byte %01111000
                .byte %01110000
                .byte %01111000
                .byte %01101100
                .byte %01100110
                .byte %00000000

                ; CHR$76 - L
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01111110
                .byte %00000000

                ; CHR$77 - M
                .byte %01100011
                .byte %01110111
                .byte %01111111
                .byte %01101011
                .byte %01101011
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$78 - N
                .byte %01100110
                .byte %01100110
                .byte %01110110
                .byte %01111110
                .byte %01101110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$79 - O
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$80 - P
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %00000000

                ; CHR$81 - Q
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01101010
                .byte %01101100
                .byte %00110110
                .byte %00000000

                ; CHR$82 - R
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %01101100
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$83 - S
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %00111100
                .byte %00000110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$84 - T
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$85 - U
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$86 - V
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00000000

                ; CHR$87 - W
                .byte %01100011
                .byte %01100011
                .byte %01101011
                .byte %01101011
                .byte %01111111
                .byte %01110111
                .byte %01100011
                .byte %00000000

                ; CHR$88 - X
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$89 - Y
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$90 - Z
                .byte %01111110
                .byte %00000110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100000
                .byte %01111110
                .byte %00000000

                ; CHR$91 - [
                .byte %01111100
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01111100
                .byte %00000000

                ; CHR$92 - \
                .byte %00000000
                .byte %01100000
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00000110
                .byte %00000000
                .byte %00000000

                ; CHR$93 - ]
                .byte %00111110
                .byte %00000110
                .byte %00000110
                .byte %00000110
                .byte %00000110
                .byte %00000110
                .byte %00111110
                .byte %00000000

                ; CHR$94 - ^
                .byte %00011000
                .byte %00111100
                .byte %01100110
                .byte %01000010
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$95 - _
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11111111

                ; CHR$96
                .byte %00011100
                .byte %00110110
                .byte %00110000
                .byte %01111100
                .byte %00110000
                .byte %00110000
                .byte %01111110
                .byte %00000000

                ; CHR$97 - a
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$98 - b
                .byte %01100000
                .byte %01100000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %00000000

                ; CHR$99 - c
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$100 - d
                .byte %00000110
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$101 - e
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$102 - f
                .byte %00011100
                .byte %00110000
                .byte %00110000
                .byte %01111100
                .byte %00110000
                .byte %00110000
                .byte %00110000
                .byte %00000000

                ; CHR$103 - g
                .byte %00000000
                .byte %00000000
                .byte %00111110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000110
                .byte %00111100

                ; CHR$104 - h
                .byte %01100000
                .byte %01100000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$105 - i
                .byte %00011000
                .byte %00000000
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$106 - j
                .byte %00011000
                .byte %00000000
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %01110000

                ; CHR$107 - k
                .byte %01100000
                .byte %01100000
                .byte %01100110
                .byte %01101100
                .byte %01111000
                .byte %01101100
                .byte %01100110
                .byte %00000000

                ; CHR$108 - l
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$109 - m
                .byte %00000000
                .byte %00000000
                .byte %00110110
                .byte %01111111
                .byte %01101011
                .byte %01101011
                .byte %01100011
                .byte %00000000

                ; CHR$110 - n
                .byte %00000000
                .byte %00000000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$111 - o
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$112 - p
                .byte %00000000
                .byte %00000000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %01100000
                .byte %01100000

                ; CHR$113 - q
                .byte %00000000
                .byte %00000000
                .byte %00111110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000110
                .byte %00000111

                ; CHR$114 - r
                .byte %00000000
                .byte %00000000
                .byte %01101100
                .byte %01110110
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %00000000

                ; CHR$115 - s
                .byte %00000000
                .byte %00000000
                .byte %00111110
                .byte %01100000
                .byte %00111100
                .byte %00000110
                .byte %01111100
                .byte %00000000

                ; CHR$116 - t
                .byte %00110000
                .byte %00110000
                .byte %01111100
                .byte %00110000
                .byte %00110000
                .byte %00110000
                .byte %00011100
                .byte %00000000

                ; CHR$117 - u
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$118 - v
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00000000

                ; CHR$119 - w
                .byte %00000000
                .byte %00000000
                .byte %01100011
                .byte %01101011
                .byte %01101011
                .byte %01111111
                .byte %00110110
                .byte %00000000

                ; CHR$120 - x
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00111100
                .byte %01100110
                .byte %00000000

                ; CHR$121 - y
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000110
                .byte %00111100

                ; CHR$122 - z
                .byte %00000000
                .byte %00000000
                .byte %01111110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01111110
                .byte %00000000

                ; CHR$123 - {
                .byte %00001100
                .byte %00011000
                .byte %00011000
                .byte %01110000
                .byte %00011000
                .byte %00011000
                .byte %00001100
                .byte %00000000

                ; CHR$124 - |
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$125 - }
                .byte %00110000
                .byte %00011000
                .byte %00011000
                .byte %00001110
                .byte %00011000
                .byte %00011000
                .byte %00110000
                .byte %00000000

                ; CHR$126 - ~
                .byte %00110001
                .byte %01101011
                .byte %01000110
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$127
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111

                ; CHR$128
                .byte %01100110
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$129
                .byte %00111100
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$130
                .byte %00111111
                .byte %01100110
                .byte %01100110
                .byte %01111111
                .byte %01100110
                .byte %01100110
                .byte %01100111
                .byte %00000000

                ; CHR$131
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100110
                .byte %00111100
                .byte %01100000

                ; CHR$132
                .byte %00001100
                .byte %00011000
                .byte %01111110
                .byte %01100000
                .byte %01111100
                .byte %01100000
                .byte %01111110
                .byte %00000000

                ; CHR$133
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$134
                .byte %01100110
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$135
                .byte %01111110
                .byte %11000011
                .byte %10011101
                .byte %10110001
                .byte %10011101
                .byte %11000011
                .byte %01111110
                .byte %00000000

                ; CHR$136
                .byte %00000000
                .byte %00011000
                .byte %00111000
                .byte %01111111
                .byte %00111000
                .byte %00011000
                .byte %00000000
                .byte %00000000

                ; CHR$137
                .byte %00000000
                .byte %00011000
                .byte %00011100
                .byte %11111110
                .byte %00011100
                .byte %00011000
                .byte %00000000
                .byte %00000000

                ; CHR$138
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00111100
                .byte %00011000
                .byte %00000000

                ; CHR$139
                .byte %00000000
                .byte %00011000
                .byte %00111100
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$140
                .byte %00110000
                .byte %00011000
                .byte %00111100
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$141
                .byte %00110000
                .byte %00011000
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$142
                .byte %01100110
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$143
                .byte %00111100
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$144
                .byte %01100110
                .byte %00000000
                .byte %00111100
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$145
                .byte %00111100
                .byte %01100110
                .byte %00111100
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$146
                .byte %00000000
                .byte %00000000
                .byte %00111111
                .byte %00001101
                .byte %00111111
                .byte %01101100
                .byte %00111111
                .byte %00000000

                ; CHR$147
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100000
                .byte %01100110
                .byte %00111100
                .byte %01100000

                ; CHR$148
                .byte %00001100
                .byte %00011000
                .byte %00111100
                .byte %01100110
                .byte %01111110
                .byte %01100000
                .byte %00111100
                .byte %00000000

                ; CHR$149
                .byte %01100110
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$150
                .byte %01100110
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$151
                .byte %00110000
                .byte %00011000
                .byte %00000000
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$152
                .byte %00111100
                .byte %01100110
                .byte %00000000
                .byte %00111000
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$153
                .byte %00110000
                .byte %00011000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$154
                .byte %00111100
                .byte %01100110
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$155
                .byte %00110000
                .byte %00011000
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$156
                .byte %00111100
                .byte %01100110
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000000

                ; CHR$157
                .byte %01100110
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111110
                .byte %00000110
                .byte %00111100

                ; CHR$158
                .byte %00000000
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %01100110
                .byte %00000000

                ; CHR$159
                .byte %00111100
                .byte %01100000
                .byte %00111100
                .byte %01100110
                .byte %00111100
                .byte %00000110
                .byte %00111100
                .byte %00000000

                ; CHR$160
                .byte %00111100
                .byte %01100110
                .byte %00111100
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$161
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$162
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011111
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$163
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011111
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$164
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11111000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$165
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$166
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11111111
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$167
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11111111
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$168
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$169
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$170
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011111
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$171
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011111
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$172
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %11111000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$173
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %11111000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$174
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %11111111
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$175
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %11111111
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$176
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000111
                .byte %00001100
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$177
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %11100000
                .byte %00110000
                .byte %00011000
                .byte %00011000
                .byte %00011000

                ; CHR$178
                .byte %00011000
                .byte %00011000
                .byte %00001100
                .byte %00000111
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$179
                .byte %00011000
                .byte %00011000
                .byte %00110000
                .byte %11100000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$180
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00110000
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$181
                .byte %00011000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$182
                .byte %00110110
                .byte %01101100
                .byte %00000000
                .byte %01100110
                .byte %01110110
                .byte %01101110
                .byte %01100110
                .byte %00000000

                ; CHR$183
                .byte %00110110
                .byte %01101100
                .byte %00000000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$184
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$185
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00000000

                ; CHR$186
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$187
                .byte %00110000
                .byte %00011000
                .byte %00001100
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$188
                .byte %00111111
                .byte %01111011
                .byte %01111011
                .byte %00111011
                .byte %00011011
                .byte %00011011
                .byte %00011111
                .byte %00000000

                ; CHR$189
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %00000000
                .byte %00000000

                ; CHR$190
                .byte %00000011
                .byte %00000011
                .byte %00000110
                .byte %00000110
                .byte %01110110
                .byte %00011100
                .byte %00001100
                .byte %00000000

                ; CHR$191
                .byte %10101010
                .byte %01010101
                .byte %10101010
                .byte %01010101
                .byte %10101010
                .byte %01010101
                .byte %10101010
                .byte %01010101

                ; CHR$192
                .byte %00111110
                .byte %01100011
                .byte %01100111
                .byte %01101011
                .byte %01110011
                .byte %01100011
                .byte %00111110
                .byte %00000000

                ; CHR$193
                .byte %00011100
                .byte %00110110
                .byte %01100011
                .byte %01100011
                .byte %01111111
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$194
                .byte %01111110
                .byte %00110011
                .byte %00110011
                .byte %00111110
                .byte %00110011
                .byte %00110011
                .byte %01111110
                .byte %00000000

                ; CHR$195
                .byte %01111111
                .byte %01100011
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %01100000
                .byte %00000000

                ; CHR$196
                .byte %00011100
                .byte %00011100
                .byte %00110110
                .byte %00110110
                .byte %01100011
                .byte %01100011
                .byte %01111111
                .byte %00000000

                ; CHR$197
                .byte %01111111
                .byte %00110011
                .byte %00110000
                .byte %00111110
                .byte %00110000
                .byte %00110011
                .byte %01111111
                .byte %00000000

                ; CHR$198
                .byte %01111110
                .byte %01100110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100110
                .byte %01111110
                .byte %00000000

                ; CHR$199
                .byte %01110111
                .byte %00110011
                .byte %00110011
                .byte %00111111
                .byte %00110011
                .byte %00110011
                .byte %01110111
                .byte %00000000

                ; CHR$200
                .byte %00111110
                .byte %01100011
                .byte %01100011
                .byte %01111111
                .byte %01100011
                .byte %01100011
                .byte %00111110
                .byte %00000000

                ; CHR$201
                .byte %00111100
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$202
                .byte %01100011
                .byte %01100110
                .byte %01101100
                .byte %01111000
                .byte %01101100
                .byte %01100110
                .byte %01100011
                .byte %00000000

                ; CHR$203
                .byte %00011100
                .byte %00011100
                .byte %00110110
                .byte %00110110
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$204
                .byte %01100011
                .byte %01110111
                .byte %01111111
                .byte %01101011
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$205
                .byte %01100011
                .byte %01110011
                .byte %01111011
                .byte %01101111
                .byte %01100111
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$206
                .byte %01111110
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %00000000
                .byte %00000000
                .byte %01111110
                .byte %00000000

                ; CHR$207
                .byte %00111110
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %00111110
                .byte %00000000

                ; CHR$208
                .byte %01111111
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00000000

                ; CHR$209
                .byte %01111110
                .byte %00110011
                .byte %00110011
                .byte %00111110
                .byte %00110000
                .byte %00110000
                .byte %01111000
                .byte %00000000

                ; CHR$210
                .byte %01111111
                .byte %01100011
                .byte %00110000
                .byte %00011000
                .byte %00110000
                .byte %01100011
                .byte %01111111
                .byte %00000000

                ; CHR$211
                .byte %01111110
                .byte %01011010
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$212
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00011000
                .byte %00011000
                .byte %00111100
                .byte %00000000

                ; CHR$213
                .byte %00111110
                .byte %00001000
                .byte %00111110
                .byte %01101011
                .byte %00111110
                .byte %00001000
                .byte %00111110
                .byte %00000000

                ; CHR$214
                .byte %01100011
                .byte %01100011
                .byte %00110110
                .byte %00011100
                .byte %00110110
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$215
                .byte %00111110
                .byte %00001000
                .byte %01101011
                .byte %01101011
                .byte %00111110
                .byte %00001000
                .byte %00111110
                .byte %00000000

                ; CHR$216
                .byte %00111110
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %00110110
                .byte %00110110
                .byte %01100011
                .byte %00000000

                ; CHR$217
                .byte %01111111
                .byte %01100011
                .byte %01100011
                .byte %00110110
                .byte %00110110
                .byte %00011100
                .byte %00011100
                .byte %00000000

                ; CHR$218
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00000000
                .byte %01111110
                .byte %00000000

                ; CHR$219
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %01111110
                .byte %00011000
                .byte %00011000

                ; CHR$220
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00000000

                ; CHR$221
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00000000

                ; CHR$222
                .byte %00000000
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$223
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000000

                ; CHR$224
                .byte %00000000
                .byte %00000011
                .byte %00111110
                .byte %01100111
                .byte %01101011
                .byte %01110011
                .byte %00111110
                .byte %01100000

                ; CHR$225
                .byte %00000000
                .byte %00000000
                .byte %00111011
                .byte %01101110
                .byte %01100110
                .byte %01101110
                .byte %00111011
                .byte %00000000

                ; CHR$226
                .byte %00011110
                .byte %00110011
                .byte %00110011
                .byte %00111110
                .byte %00110011
                .byte %00110011
                .byte %00111110
                .byte %01100000

                ; CHR$227
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %00110110
                .byte %00011100
                .byte %00011000
                .byte %00110000
                .byte %00110000

                ; CHR$228
                .byte %00111100
                .byte %01100000
                .byte %00110000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$229
                .byte %00000000
                .byte %00000000
                .byte %00011110
                .byte %00110000
                .byte %00011100
                .byte %00110000
                .byte %00011110
                .byte %00000000

                ; CHR$230
                .byte %00111110
                .byte %00001100
                .byte %00011000
                .byte %00110000
                .byte %01100000
                .byte %01100000
                .byte %00111110
                .byte %00000110

                ; CHR$231
                .byte %00000000
                .byte %00000000
                .byte %01111100
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00000110
                .byte %00000110

                ; CHR$232
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01111110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$233
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00001100
                .byte %00000000

                ; CHR$234
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %01101100
                .byte %01111000
                .byte %01101100
                .byte %01100110
                .byte %00000000

                ; CHR$235
                .byte %01100000
                .byte %00110000
                .byte %00011000
                .byte %00011100
                .byte %00110110
                .byte %01100011
                .byte %01100011
                .byte %00000000

                ; CHR$236
                .byte %00000000
                .byte %00000000
                .byte %00110011
                .byte %00110011
                .byte %00110011
                .byte %00110011
                .byte %00111110
                .byte %01100000

                ; CHR$237
                .byte %00000000
                .byte %00000000
                .byte %01100011
                .byte %00110011
                .byte %00011011
                .byte %00011110
                .byte %00011100
                .byte %00000000

                ; CHR$238
                .byte %00111100
                .byte %01100000
                .byte %01100000
                .byte %00111100
                .byte %01100000
                .byte %01100000
                .byte %00111110
                .byte %00000110

                ; CHR$239
                .byte %00000000
                .byte %00000000
                .byte %00111110
                .byte %01100011
                .byte %01100011
                .byte %01100011
                .byte %00111110
                .byte %00000000

                ; CHR$240
                .byte %00000000
                .byte %00000000
                .byte %01111111
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00110110
                .byte %00000000

                ; CHR$241
                .byte %00000000
                .byte %00000000
                .byte %00111100
                .byte %01100110
                .byte %01100110
                .byte %01111100
                .byte %01100000
                .byte %01100000

                ; CHR$242
                .byte %00000000
                .byte %00000000
                .byte %00111111
                .byte %01100110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$243
                .byte %00000000
                .byte %00000000
                .byte %01111110
                .byte %00011000
                .byte %00011000
                .byte %00011000
                .byte %00001100
                .byte %00000000

                ; CHR$244
                .byte %00000000
                .byte %00000000
                .byte %01110011
                .byte %00110011
                .byte %00110011
                .byte %00110011
                .byte %00011110
                .byte %00000000

                ; CHR$245
                .byte %00000000
                .byte %00000000
                .byte %00111110
                .byte %01101011
                .byte %01101011
                .byte %00111110
                .byte %00011000
                .byte %00011000

                ; CHR$246
                .byte %00000000
                .byte %00000000
                .byte %01100110
                .byte %00110110
                .byte %00011100
                .byte %00011100
                .byte %00110110
                .byte %00110011

                ; CHR$247
                .byte %00000000
                .byte %00000000
                .byte %01100011
                .byte %01101011
                .byte %01101011
                .byte %00111110
                .byte %00011000
                .byte %00011000

                ; CHR$248
                .byte %00000000
                .byte %00000000
                .byte %00110110
                .byte %01100011
                .byte %01101011
                .byte %01111111
                .byte %00110110
                .byte %00000000

                ; CHR$249
                .byte %00111000
                .byte %00001100
                .byte %00000110
                .byte %00111110
                .byte %01100110
                .byte %01100110
                .byte %00111100
                .byte %00000000

                ; CHR$250
                .byte %00000000
                .byte %00110001
                .byte %01101011
                .byte %01000110
                .byte %00000000
                .byte %01111111
                .byte %00000000
                .byte %00000000

                ; CHR$251
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %01111110
                .byte %00000000
                .byte %00000000

                ; CHR$252
                .byte %00000111
                .byte %00011100
                .byte %01110000
                .byte %00011100
                .byte %00000111
                .byte %00000000
                .byte %01111111
                .byte %00000000

                ; CHR$253
                .byte %00000110
                .byte %00001100
                .byte %01111110
                .byte %00011000
                .byte %01111110
                .byte %00110000
                .byte %01100000
                .byte %00000000

                ; CHR$254
                .byte %01110000
                .byte %00011100
                .byte %00000111
                .byte %00011100
                .byte %01110000
                .byte %00000000
                .byte %01111111
                .byte %00000000

                ; CHR$255
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111
                .byte %11111111

                .endblock
                .endsection terminal
